<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] r1479 - in kiwi-head: doc/examples/suse-11.0	doc/examples/suse-11.0/suse-live-iso	doc/examples/suse-11.0/suse-live-stick	doc/examples/suse-11.0/suse-oem-preload	doc/examples/suse-11.0/suse-pxe-client	doc/examples/suse-11.0/suse-vm-guest	doc/examples/suse-11.0/suse-xen-guest modules rpm tools/satplugin
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20r1479%20-%20in%20kiwi-head%3A%20doc/examples/suse-11.0%0A%09doc/examples/suse-11.0/suse-live-iso%0A%09doc/examples/suse-11.0/suse-live-stick%0A%09doc/examples/suse-11.0/suse-oem-preload%0A%09doc/examples/suse-11.0/suse-pxe-client%0A%09doc/examples/suse-11.0/suse-vm-guest%0A%09doc/examples/suse-11.0/suse-xen-guest%20modules%20rpm%20tools/satplugin&In-Reply-To=%3C200807241008.m6OA80X2012089%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000563.html">
   <LINK REL="Next"  HREF="000565.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] r1479 - in kiwi-head: doc/examples/suse-11.0	doc/examples/suse-11.0/suse-live-iso	doc/examples/suse-11.0/suse-live-stick	doc/examples/suse-11.0/suse-oem-preload	doc/examples/suse-11.0/suse-pxe-client	doc/examples/suse-11.0/suse-vm-guest	doc/examples/suse-11.0/suse-xen-guest modules rpm tools/satplugin</H1>
    <B>marcus_schaefer at mail.berlios.de</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20r1479%20-%20in%20kiwi-head%3A%20doc/examples/suse-11.0%0A%09doc/examples/suse-11.0/suse-live-iso%0A%09doc/examples/suse-11.0/suse-live-stick%0A%09doc/examples/suse-11.0/suse-oem-preload%0A%09doc/examples/suse-11.0/suse-pxe-client%0A%09doc/examples/suse-11.0/suse-vm-guest%0A%09doc/examples/suse-11.0/suse-xen-guest%20modules%20rpm%20tools/satplugin&In-Reply-To=%3C200807241008.m6OA80X2012089%40sheep.berlios.de%3E"
       TITLE="[Kiwi-devel] r1479 - in kiwi-head: doc/examples/suse-11.0	doc/examples/suse-11.0/suse-live-iso	doc/examples/suse-11.0/suse-live-stick	doc/examples/suse-11.0/suse-oem-preload	doc/examples/suse-11.0/suse-pxe-client	doc/examples/suse-11.0/suse-vm-guest	doc/examples/suse-11.0/suse-xen-guest modules rpm tools/satplugin">marcus_schaefer at mail.berlios.de
       </A><BR>
    <I>Thu Jul 24 12:08:00 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000563.html">[Kiwi-devel] r1478 - kiwi-head
</A></li>
        <LI>Next message: <A HREF="000565.html">[Kiwi-devel] r1480 - in kiwi-head/doc: . LaTex examples/suse-11.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#564">[ date ]</a>
              <a href="thread.html#564">[ thread ]</a>
              <a href="subject.html#564">[ subject ]</a>
              <a href="author.html#564">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: marcus_schaefer
Date: 2008-07-24 12:07:44 +0200 (Thu, 24 Jul 2008)
New Revision: 1479

Added:
   kiwi-head/doc/examples/suse-11.0/suse-live-iso.readme
   kiwi-head/doc/examples/suse-11.0/suse-live-iso/
   kiwi-head/doc/examples/suse-11.0/suse-live-stick.readme
   kiwi-head/doc/examples/suse-11.0/suse-live-stick/
   kiwi-head/doc/examples/suse-11.0/suse-oem-preload.readme
   kiwi-head/doc/examples/suse-11.0/suse-oem-preload/
   kiwi-head/doc/examples/suse-11.0/suse-pxe-client.readme
   kiwi-head/doc/examples/suse-11.0/suse-pxe-client/
   kiwi-head/doc/examples/suse-11.0/suse-vm-guest.readme
   kiwi-head/doc/examples/suse-11.0/suse-vm-guest/
   kiwi-head/doc/examples/suse-11.0/suse-xen-guest.readme
   kiwi-head/doc/examples/suse-11.0/suse-xen-guest/
Modified:
   kiwi-head/doc/examples/suse-11.0/suse-live-iso/config.xml
   kiwi-head/doc/examples/suse-11.0/suse-live-stick/config.xml
   kiwi-head/doc/examples/suse-11.0/suse-oem-preload/config.xml
   kiwi-head/doc/examples/suse-11.0/suse-pxe-client/config.xml
   kiwi-head/doc/examples/suse-11.0/suse-vm-guest/config.xml
   kiwi-head/doc/examples/suse-11.0/suse-xen-guest/config.xml
   kiwi-head/modules/KIWISatSolver.pm
   kiwi-head/rpm/kiwi.changes
   kiwi-head/tools/satplugin/SaT.i
   kiwi-head/tools/satplugin/example.pl
Log:

- fixed KIWISatSolver queue code and binding
- added suse 11.0 examples



Copied: kiwi-head/doc/examples/suse-11.0/suse-live-iso (from rev 1477, kiwi-head/doc/examples/suse-10.3/suse-vm-guest)

Modified: kiwi-head/doc/examples/suse-11.0/suse-live-iso/config.xml
===================================================================
--- kiwi-head/doc/examples/suse-10.3/suse-vm-guest/config.xml	2008-07-24 08:47:49 UTC (rev 1477)
+++ kiwi-head/doc/examples/suse-11.0/suse-live-iso/config.xml	2008-07-24 10:07:44 UTC (rev 1479)
@@ -1,36 +1,31 @@
 &lt;?xml version=&quot;1.0&quot;?&gt;
-&lt;image schemeversion=&quot;2.4&quot; name=&quot;suse-10.3-vm-guest&quot;&gt;
+&lt;image schemeversion=&quot;2.4&quot; name=&quot;suse-11.0-live-iso&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#228;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
-		&lt;specification&gt;openSUSE 10.3 virtual disk system&lt;/specification&gt;
+		&lt;specification&gt;openSUSE 11.0 Live system&lt;/specification&gt;
 	&lt;/description&gt;
 	&lt;preferences&gt;
-		&lt;type primary=&quot;true&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-10.3&quot; format=&quot;vmdk&quot;&gt;vmx&lt;/type&gt;
-		&lt;version&gt;1.1.2&lt;/version&gt;
+		&lt;type primary=&quot;true&quot; boot=&quot;isoboot/suse-11.0&quot; flags=&quot;unified&quot;&gt;iso&lt;/type&gt;
+		&lt;version&gt;2.5.1&lt;/version&gt;
 		&lt;packagemanager&gt;smart&lt;/packagemanager&gt;
 		&lt;rpm-check-signatures&gt;False&lt;/rpm-check-signatures&gt;
 		&lt;rpm-force&gt;True&lt;/rpm-force&gt;
-		&lt;locale&gt;en_US&lt;/locale&gt;
+		&lt;locale&gt;en_US.UTF-8&lt;/locale&gt;
 		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
 	&lt;/preferences&gt;
 	&lt;repository type=&quot;yast2&quot;&gt;
-		&lt;source path=&quot;/image/CDs/full-10.3-i386&quot;/&gt;
-		&lt;!--&lt;source path=&quot;<A HREF="opensuse://openSUSE:10.3/standard/">opensuse://openSUSE:10.3/standard/</A>&quot;/&gt;--&gt;
+		&lt;source path=&quot;/image/CDs/full-11.0-i386&quot;/&gt;
+		&lt;!--&lt;source path=&quot;<A HREF="opensuse://openSUSE:11.0/standard/">opensuse://openSUSE:11.0/standard/</A>&quot;/&gt;--&gt;
 	&lt;/repository&gt;
 	&lt;packages type=&quot;image&quot;&gt;
 		&lt;package name=&quot;kernel-default&quot;/&gt;
 		&lt;package name=&quot;bootsplash&quot;/&gt;
-		&lt;package name=&quot;bootsplash-theme-SuSE&quot;/&gt;
-		&lt;package name=&quot;resmgr&quot;/&gt;
+		&lt;package name=&quot;bootsplash-branding-openSUSE&quot;/&gt;
 		&lt;package name=&quot;vim&quot;/&gt;
-		&lt;opensusePattern name=&quot;base-10.3&quot;/&gt;
+		&lt;opensusePattern name=&quot;base&quot;/&gt;
+		&lt;opensusePattern name=&quot;kde&quot;/&gt;
 	&lt;/packages&gt;
-	&lt;packages type=&quot;vmware&quot;&gt;
-	&lt;/packages&gt;
-	&lt;vmwareconfig memory=&quot;512&quot;&gt;
-		&lt;vmwaredisk controller=&quot;ide&quot; id=&quot;0&quot;/&gt;
-	&lt;/vmwareconfig&gt;
 	&lt;packages type=&quot;bootstrap&quot;&gt;
 		&lt;package name=&quot;filesystem&quot;/&gt; 
 		&lt;package name=&quot;glibc-locale&quot;/&gt;

Added: kiwi-head/doc/examples/suse-11.0/suse-live-iso.readme
===================================================================
--- kiwi-head/doc/examples/suse-11.0/suse-live-iso.readme	2008-07-24 08:55:43 UTC (rev 1478)
+++ kiwi-head/doc/examples/suse-11.0/suse-live-iso.readme	2008-07-24 10:07:44 UTC (rev 1479)
@@ -0,0 +1,28 @@
+KIWI Image Description Example
+==============================
+* A live ISO image is a system on CD / DVD which allows you to boot
+  and run from this device without using any other storage device of
+  the computer the CD / DVD was plugged in. As you know a CD or DVD
+  is a read-only medium which means the system on this medium can
+  write only temporary data into the available RAM space. As soon as
+  the system is rebooted all your data will be lost if not backuped
+  before
+
+How to build this Example
+==============================
+
+    kiwi --prepare /usr/share/doc/packages/kiwi/examples/suse-live-iso \
+         --root /tmp/myiso --add-profile KDE
+
+    kiwi --create /tmp/myiso --type iso -d /tmp/myiso-result
+
+How to test this Example
+==============================
+* Testing an iso can be done with any full virtual system or simply
+  by burning the .iso file on a CD or DVD. For example:
+
+    qemu -cdrom /tmp/myiso-result/suse-11.0-live-iso.i686-2.5.iso -m 512
+
+Login Details
+==============================
+* User root pwd: linux

Copied: kiwi-head/doc/examples/suse-11.0/suse-live-stick (from rev 1477, kiwi-head/doc/examples/suse-10.3/suse-live-stick)

Modified: kiwi-head/doc/examples/suse-11.0/suse-live-stick/config.xml
===================================================================
--- kiwi-head/doc/examples/suse-10.3/suse-live-stick/config.xml	2008-07-24 08:47:49 UTC (rev 1477)
+++ kiwi-head/doc/examples/suse-11.0/suse-live-stick/config.xml	2008-07-24 10:07:44 UTC (rev 1479)
@@ -1,13 +1,13 @@
 &lt;?xml version=&quot;1.0&quot;?&gt;
-&lt;image schemeversion=&quot;2.4&quot; name=&quot;suse-10.3-live-stick&quot;&gt;
+&lt;image schemeversion=&quot;2.4&quot; name=&quot;suse-11.0-live-stick&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#228;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
-		&lt;specification&gt;openSUSE 10.3 live stick system&lt;/specification&gt;
+		&lt;specification&gt;openSUSE 11.0 live stick system&lt;/specification&gt;
 	&lt;/description&gt;
 	&lt;preferences&gt;
-		&lt;type filesystem=&quot;ext3&quot; boot=&quot;usbboot/suse-10.3&quot;&gt;usb&lt;/type&gt;
-		&lt;type filesystem=&quot;ext3&quot; boot=&quot;oemboot/suse-10.3&quot;&gt;oem&lt;/type&gt;
+		&lt;type filesystem=&quot;ext3&quot; boot=&quot;usbboot/suse-11.0&quot;&gt;usb&lt;/type&gt;
+		&lt;type filesystem=&quot;ext3&quot; boot=&quot;oemboot/suse-11.0&quot;&gt;oem&lt;/type&gt;
 		&lt;version&gt;1.1.2&lt;/version&gt;
 		&lt;packagemanager&gt;smart&lt;/packagemanager&gt;
 		&lt;rpm-check-signatures&gt;False&lt;/rpm-check-signatures&gt;
@@ -19,14 +19,13 @@
 		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/home/tux&quot; name=&quot;tux&quot;/&gt;
 	&lt;/users&gt;
 	&lt;repository type=&quot;yast2&quot;&gt;
-		&lt;source path=&quot;/image/CDs/full-10.3-i386&quot;/&gt;
-		&lt;!--&lt;source path=&quot;<A HREF="opensuse://openSUSE:10.3/standard/">opensuse://openSUSE:10.3/standard/</A>&quot;/&gt;--&gt;
+		&lt;source path=&quot;/image/CDs/full-11.0-i386&quot;/&gt;
+		&lt;!--&lt;source path=&quot;<A HREF="opensuse://openSUSE:11.0/standard/">opensuse://openSUSE:11.0/standard/</A>&quot;/&gt;--&gt;
 	&lt;/repository&gt;
-	&lt;packages type=&quot;image&quot; patternType=&quot;plusRecommended&quot; patternPackageType=&quot;plusRecommended&quot;&gt;
+	&lt;packages type=&quot;image&quot;&gt;
 		&lt;package name=&quot;kernel-default&quot;/&gt;
 		&lt;package name=&quot;bootsplash&quot;/&gt;
-		&lt;package name=&quot;bootsplash-theme-SuSE&quot;/&gt;
-		&lt;package name=&quot;yast2-firstboot&quot;/&gt;
+		&lt;package name=&quot;bootsplash-branding-openSUSE&quot;/&gt;
 		&lt;package name=&quot;vim&quot;/&gt;
 		&lt;opensusePattern name=&quot;default&quot;/&gt;
 		&lt;opensusePattern name=&quot;x11&quot;/&gt;

Copied: kiwi-head/doc/examples/suse-11.0/suse-live-stick.readme (from rev 1477, kiwi-head/doc/examples/suse-10.3/suse-live-stick.readme)
===================================================================
--- kiwi-head/doc/examples/suse-10.3/suse-live-stick.readme	2008-07-24 08:47:49 UTC (rev 1477)
+++ kiwi-head/doc/examples/suse-11.0/suse-live-stick.readme	2008-07-24 10:07:44 UTC (rev 1479)
@@ -0,0 +1,59 @@
+KIWI Image Description Example
+==============================
+* A live USB stick image is a system on USB stick which allows you to
+  boot and run from this device without using any other storage device of
+  the computer. It is urgently required that the BIOS of the system which
+  you plug the stick in supports booting from USB stick. Almost all
+  new BIOS systems support that. The USB stick serves as OS system disk
+  in this case and you can read and write data onto it
+
+How to build this Example
+==============================
+
+    kiwi --prepare /usr/share/doc/packages/kiwi/examples/suse-live-stick \
+         --root /tmp/mystick
+
+* There are two options to create an image from the prepared tree in
+  /tmp/mystick: The first image type named &quot;usb&quot; creates all required
+  images for booting and the OS but requires you to plug in the stick
+  and let kiwi deploy the data onto this stick. The second image type
+  called &quot;oem&quot; allows you to create a virtual disk which represents
+  a virtual disk geometry including all partitions and boot information
+  in one file. You simply can &quot;dd&quot; this file on the stick. During first
+  boot of the stick the virtual disk geomtry has to be adapted to the
+  real disk geometry by kiwi.
+
+1) with usb type
+==============================
+
+    kiwi --create /tmp/mystick --type usb -d /tmp/mystick-result
+    ---&gt; plug in the stick now
+
+    kiwi --bootstick \
+         /tmp/mystick-result/initrd-usbboot-suse-11.0.i686-2.1.1.splash.gz \
+         --bootstick-system \
+         /tmp/mystick-result/suse-11.0-live-stick.i686-1.1.2
+
+2) with oem type
+==============================
+
+    kiwi --create /tmp/mystick --type oem -d /tmp/mystick-result
+    ---&gt; plug in the stick now
+    ---&gt; call dd if=/tmp/mystick-result/suse-11.0-live-stick.i686-1.1.2.raw \
+                 of=/dev/... bs=32k
+
+How to test this Example
+==============================
+* Testing of live sticks can be done with a test machine which boots from
+  USB stick or with a virtualisation system. If you test with a virtualisation
+  system for example qemu you should be aware that the USB stick looks like
+  a normal disk to the system. The kiwi boot process searches for the USB
+  stick to be able to mount the correct storage device but in a virtual
+  environment the disk doesn't appear as a USB stick. So if your
+  virtualisation solution doesn't provide a virtual BIOS which allows booting
+  from USB stick you should test the stick on real hardware
+
+Login Details
+==============================
+* User root pwd: linux
+* User tux  pwd: linux

Copied: kiwi-head/doc/examples/suse-11.0/suse-oem-preload (from rev 1477, kiwi-head/doc/examples/suse-10.3/suse-oem-preload)

Modified: kiwi-head/doc/examples/suse-11.0/suse-oem-preload/config.xml
===================================================================
--- kiwi-head/doc/examples/suse-10.3/suse-oem-preload/config.xml	2008-07-24 08:47:49 UTC (rev 1477)
+++ kiwi-head/doc/examples/suse-11.0/suse-oem-preload/config.xml	2008-07-24 10:07:44 UTC (rev 1479)
@@ -1,12 +1,12 @@
 &lt;?xml version=&quot;1.0&quot;?&gt;
-&lt;image schemeversion=&quot;2.4&quot; name=&quot;suse-10.3-oem-preload&quot;&gt;
+&lt;image schemeversion=&quot;2.4&quot; name=&quot;suse-11.0-oem-preload&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#228;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
-		&lt;specification&gt;openSUSE 10.3 oem preload system&lt;/specification&gt;
+		&lt;specification&gt;openSUSE 11.0 oem preload system&lt;/specification&gt;
 	&lt;/description&gt;
 	&lt;preferences&gt;
-		&lt;type fsreadwrite=&quot;ext3&quot; fsreadonly=&quot;squashfs&quot; boot=&quot;oemboot/suse-10.3&quot; format=&quot;iso&quot;&gt;split&lt;/type&gt;
+		&lt;type fsreadwrite=&quot;ext3&quot; fsreadonly=&quot;squashfs&quot; boot=&quot;oemboot/suse-11.0&quot; format=&quot;iso&quot;&gt;split&lt;/type&gt;
 		&lt;version&gt;1.1.2&lt;/version&gt;
 		&lt;packagemanager&gt;smart&lt;/packagemanager&gt;
 		&lt;rpm-check-signatures&gt;False&lt;/rpm-check-signatures&gt;
@@ -18,14 +18,13 @@
 		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/home/tux&quot; name=&quot;tux&quot;/&gt;
 	&lt;/users&gt;
 	&lt;repository type=&quot;yast2&quot;&gt;
-		&lt;source path=&quot;/image/CDs/full-10.3-i386&quot;/&gt;
-		&lt;!--&lt;source path=&quot;<A HREF="opensuse://openSUSE:10.3/standard/">opensuse://openSUSE:10.3/standard/</A>&quot;/&gt;--&gt;
+		&lt;source path=&quot;/image/CDs/full-11.0-i386&quot;/&gt;
+		&lt;!--&lt;source path=&quot;<A HREF="opensuse://openSUSE:11.0/standard/">opensuse://openSUSE:11.0/standard/</A>&quot;/&gt;--&gt;
 	&lt;/repository&gt;
-	&lt;packages type=&quot;image&quot; patternType=&quot;plusRecommended&quot; patternPackageType=&quot;plusRecommended&quot;&gt;
+	&lt;packages type=&quot;image&quot;&gt;
 		&lt;package name=&quot;kernel-default&quot;/&gt;
 		&lt;package name=&quot;bootsplash&quot;/&gt;
-		&lt;package name=&quot;bootsplash-theme-SuSE&quot;/&gt;
-		&lt;package name=&quot;yast2-firstboot&quot;/&gt;
+		&lt;package name=&quot;bootsplash-branding-openSUSE&quot;/&gt;
 		&lt;package name=&quot;vim&quot;/&gt;
 		&lt;opensusePattern name=&quot;default&quot;/&gt;
 		&lt;opensusePattern name=&quot;x11&quot;/&gt;

Copied: kiwi-head/doc/examples/suse-11.0/suse-oem-preload.readme (from rev 1477, kiwi-head/doc/examples/suse-10.3/suse-oem-preload.readme)
===================================================================
--- kiwi-head/doc/examples/suse-10.3/suse-oem-preload.readme	2008-07-24 08:47:49 UTC (rev 1477)
+++ kiwi-head/doc/examples/suse-11.0/suse-oem-preload.readme	2008-07-24 10:07:44 UTC (rev 1479)
@@ -0,0 +1,43 @@
+KIWI Image Description Example
+==============================
+* An oem image is a virtual disk image representing all partitions
+  and bootloader information like it exists on a real disk. The original
+  idea of an oem image is to provide this virtual disk data to OEM
+  vendors which now are able to deploy the system independently onto
+  their storage media. The deployment can happen from any OS including
+  Windows if a tool to dump data on a disk device exists. The oem image
+  type is also used to deploy images on USB sticks because in principal
+  it is the same workflow. An interesting part of an oem image is that
+  it can be turned into an installation image too. This means it is
+  possible to create an installation CD / DVD or USB stick which deploys
+  the oem based image onto the selected storage device. The
+  installation process is a simply dd of the image onto the selected
+  device so don't expect any use interaction or GUI here to pop up
+
+How to build this Example
+==============================
+
+    kiwi --prepare /usr/share/doc/packages/kiwi/examples/suse-oem-preload \
+         --root /tmp/myoem
+
+    kiwi --create /tmp/myoem --type split -d /tmp/myoem-result
+
+How to test this Example
+==============================
+* Testing the oem virtual disk can be done with a virtualisation software
+  like QEMU or VMware. The virtual disk is represented by the .raw extension
+  whereas the .iso extension represents the installation disk for this oem
+  image. The installation disk should be tested on a bare test system
+  For the .raw test just call:
+
+    qemu /tmp/myoem-result/use-11.0-oem-preload.i686-1.1.2.raw -m 512
+
+  Please note if you test an oem image the virtual disk geometry of the
+  image is the same as the disk geometry inside the host system. According
+  to this the oem boot workflow will skip the re-partitioning which is
+  performed if there would be a real disk
+
+Login Details
+==============================
+* User root pwd: linux
+* User tux  pwd: linux  

Copied: kiwi-head/doc/examples/suse-11.0/suse-pxe-client (from rev 1477, kiwi-head/doc/examples/suse-10.3/suse-pxe-client)

Modified: kiwi-head/doc/examples/suse-11.0/suse-pxe-client/config.xml
===================================================================
--- kiwi-head/doc/examples/suse-10.3/suse-pxe-client/config.xml	2008-07-24 08:47:49 UTC (rev 1477)
+++ kiwi-head/doc/examples/suse-11.0/suse-pxe-client/config.xml	2008-07-24 10:07:44 UTC (rev 1479)
@@ -1,12 +1,12 @@
 &lt;?xml version=&quot;1.0&quot;?&gt;
-&lt;image schemeversion=&quot;2.4&quot; name=&quot;suse-10.3-pxe-client&quot;&gt;
+&lt;image schemeversion=&quot;2.4&quot; name=&quot;suse-11.0-pxe-client&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#228;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
-		&lt;specification&gt;openSUSE 10.3 Wyse VX0 terminal 128MB&lt;/specification&gt;
+		&lt;specification&gt;openSUSE 11.0 Wyse VX0 terminal 128MB&lt;/specification&gt;
 	&lt;/description&gt;
 	&lt;preferences&gt;
-		&lt;type filesystem=&quot;squashfs&quot; boot=&quot;netboot/suse-10.3&quot;&gt;pxe&lt;/type&gt;
+		&lt;type filesystem=&quot;squashfs&quot; boot=&quot;netboot/suse-11.0&quot;&gt;pxe&lt;/type&gt;
 		&lt;version&gt;1.2.8&lt;/version&gt;
 		&lt;packagemanager&gt;smart&lt;/packagemanager&gt;
 		&lt;rpm-check-signatures&gt;False&lt;/rpm-check-signatures&gt;
@@ -16,8 +16,8 @@
 		&lt;user name=&quot;linux&quot; pwd=&quot;$2a$10$90AjhfXU2YIwTRrIftBauecvWXVuaNZ6JLM2IpWi0svu2kO16le9e&quot; home=&quot;/home/linux&quot;/&gt;
 	&lt;/users&gt;
 	&lt;repository type=&quot;yast2&quot;&gt;
-		&lt;source path=&quot;/image/CDs/full-10.3-i386&quot;/&gt;
-		&lt;!--&lt;source path=&quot;<A HREF="opensuse://openSUSE:10.3/standard/">opensuse://openSUSE:10.3/standard/</A>&quot;/&gt;--&gt;
+		&lt;source path=&quot;/image/CDs/full-11.0-i386&quot;/&gt;
+		&lt;!--&lt;source path=&quot;<A HREF="opensuse://openSUSE:11.0/standard/">opensuse://openSUSE:11.0/standard/</A>&quot;/&gt;--&gt;
 	&lt;/repository&gt;
 	&lt;deploy server=&quot;192.168.100.2&quot; blocksize=&quot;4096&quot;&gt;
 		&lt;partitions device=&quot;/dev/sda&quot;&gt;
@@ -57,7 +57,7 @@
 		&lt;package name=&quot;hal&quot;/&gt;
 		&lt;package name=&quot;grub&quot;/&gt;
 		&lt;package name=&quot;bootsplash&quot;/&gt;
-        &lt;package name=&quot;bootsplash-theme-SuSE&quot;/&gt;
+		&lt;package name=&quot;bootsplash-branding-openSUSE&quot;/&gt;
 		&lt;package name=&quot;acpid&quot;/&gt;
 		&lt;package name=&quot;vim&quot;/&gt;
 		&lt;!-- PLUS: Sound --&gt;

Copied: kiwi-head/doc/examples/suse-11.0/suse-pxe-client.readme (from rev 1477, kiwi-head/doc/examples/suse-10.3/suse-pxe-client.readme)
===================================================================
--- kiwi-head/doc/examples/suse-10.3/suse-pxe-client.readme	2008-07-24 08:47:49 UTC (rev 1477)
+++ kiwi-head/doc/examples/suse-11.0/suse-pxe-client.readme	2008-07-24 10:07:44 UTC (rev 1479)
@@ -0,0 +1,90 @@
+KIWI Image Description Example
+==============================
+* a pxe image consists of a boot image and a system image like all other
+  image types too. But with a pxe image these images are available
+  seperately and needs to be copied at specific locations of a network
+  boot server. PXE is a boot protocol implemented in most BIOS implementations
+  which makes it so interesting. The protocol sends DHCP requests to assign
+  an IP address and after that it uses tftp to download kernel and boot
+  instructions. Before you start to build pxe images with kiwi you
+  should have setup the boot server. The boot server requires the following
+  services:
+
+  1) atftp server
+  2) DHCP server
+
+  In order to setup the atftp server the following steps are required
+
+  - install the packages atftp and kiwi-pxeboot
+  - vi /etc/sysconfig/atftpd
+    ATFTPD_OPTIONS=&quot;--daemon --no-multicast&quot;
+    ATFTPD_DIRECTORY=&quot;/srv/tftpboot&quot;
+  - run atftpd
+    rcatftpd start
+
+  In order to setup the dhcp server the following steps are required
+ 
+  - install the package dhcp-server
+  - create a simply /etc/dhcpd.conf
+    option domain-name &quot;example.org&quot;;
+    option domain-name-servers 192.168.100.2;
+    option broadcast-address 192.168.100.255;
+    option routers 192.168.100.2;
+    option subnet-mask 255.255.255.0;
+    default-lease-time 600;
+    max-lease-time 7200;
+    ddns-update-style none; ddns-updates off;
+    log-facility local7;
+
+    subnet 192.168.100.0 netmask 255.255.255.0 {
+       filename &quot;pxelinux.0&quot;;
+       next-server 192.168.100.2;
+       range dynamic-bootp 192.168.100.5 192.168.100.20;
+    }
+  - vi /etc/sysconfig/dhcpd
+    DHCPD_INTERFACE=&quot;eth0&quot;
+  - run the dhcp server
+    rcdhcpd start
+
+How to build this Example
+==============================
+
+    kiwi --prepare /usr/share/doc/packages/kiwi/examples/suse-pxe-client \
+         --root /tmp/mypxe
+
+    kiwi --create /tmp/mypxe --type pxe -d /tmp/mypxe-result
+
+How to test this Example
+==============================
+* Testing a pxe image requires all related image parts to be copied onto
+  the boot server. According to this example one should do:
+
+  - copy the boot image
+    cp /tmp/mypxe-result/initrd-netboot-suse-11.0.i686-2.1.1.splash.gz \
+       /srv/tftpboot/boot/initrd
+
+  - copy the kernel image
+    cp /tmp/mypxe-result/initrd-netboot-suse-11.0.i686-2.1.1.kernel \
+       /srv/tftpboot/boot/linux
+
+  - copy the system image and md5 sum
+    cp /tmp/mypxe-result/suse-11.0-pxe-client.i686-1.2.8 \
+       /srv/tftpboot/image
+    cp /tmp/mypxe-result/suse-11.0-pxe-client.i686-1.2.8.md5 \
+       /srv/tftpboot/image  
+
+  - copy the image boot configuration
+    ===&gt; make sure you know the MAX address of your pxe client !
+    cp /tmp/mypxe-result/suse-11.0-pxe-client.i686-1.2.8.config \
+       /srv/tftpboot/KIWI/config.&lt;MAC&gt;
+
+  - make sure the values in /srv/tftpboot/pxelinux.cfg/default
+    are correct according to the filenames and IP addresses
+
+
+  ===&gt; connect the client to this network and boot
+
+Login Details
+==============================
+* User root  pwd: linux
+* User linux pwd: linux

Copied: kiwi-head/doc/examples/suse-11.0/suse-vm-guest (from rev 1477, kiwi-head/doc/examples/suse-10.3/suse-vm-guest)

Modified: kiwi-head/doc/examples/suse-11.0/suse-vm-guest/config.xml
===================================================================
--- kiwi-head/doc/examples/suse-10.3/suse-vm-guest/config.xml	2008-07-24 08:47:49 UTC (rev 1477)
+++ kiwi-head/doc/examples/suse-11.0/suse-vm-guest/config.xml	2008-07-24 10:07:44 UTC (rev 1479)
@@ -1,12 +1,12 @@
 &lt;?xml version=&quot;1.0&quot;?&gt;
-&lt;image schemeversion=&quot;2.4&quot; name=&quot;suse-10.3-vm-guest&quot;&gt;
+&lt;image schemeversion=&quot;2.4&quot; name=&quot;suse-11.0-vm-guest&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#228;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
-		&lt;specification&gt;openSUSE 10.3 virtual disk system&lt;/specification&gt;
+		&lt;specification&gt;openSUSE 11.0 virtual disk system&lt;/specification&gt;
 	&lt;/description&gt;
 	&lt;preferences&gt;
-		&lt;type primary=&quot;true&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-10.3&quot; format=&quot;vmdk&quot;&gt;vmx&lt;/type&gt;
+		&lt;type primary=&quot;true&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.0&quot; format=&quot;vmdk&quot;&gt;vmx&lt;/type&gt;
 		&lt;version&gt;1.1.2&lt;/version&gt;
 		&lt;packagemanager&gt;smart&lt;/packagemanager&gt;
 		&lt;rpm-check-signatures&gt;False&lt;/rpm-check-signatures&gt;
@@ -15,16 +15,15 @@
 		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
 	&lt;/preferences&gt;
 	&lt;repository type=&quot;yast2&quot;&gt;
-		&lt;source path=&quot;/image/CDs/full-10.3-i386&quot;/&gt;
-		&lt;!--&lt;source path=&quot;<A HREF="opensuse://openSUSE:10.3/standard/">opensuse://openSUSE:10.3/standard/</A>&quot;/&gt;--&gt;
+		&lt;source path=&quot;/image/CDs/full-11.0-i386&quot;/&gt;
+		&lt;!--&lt;source path=&quot;<A HREF="opensuse://openSUSE:11.0/standard/">opensuse://openSUSE:11.0/standard/</A>&quot;/&gt;--&gt;
 	&lt;/repository&gt;
 	&lt;packages type=&quot;image&quot;&gt;
 		&lt;package name=&quot;kernel-default&quot;/&gt;
 		&lt;package name=&quot;bootsplash&quot;/&gt;
-		&lt;package name=&quot;bootsplash-theme-SuSE&quot;/&gt;
-		&lt;package name=&quot;resmgr&quot;/&gt;
+		&lt;package name=&quot;bootsplash-branding-openSUSE&quot;/&gt;
 		&lt;package name=&quot;vim&quot;/&gt;
-		&lt;opensusePattern name=&quot;base-10.3&quot;/&gt;
+		&lt;opensusePattern name=&quot;base&quot;/&gt;
 	&lt;/packages&gt;
 	&lt;packages type=&quot;vmware&quot;&gt;
 	&lt;/packages&gt;

Copied: kiwi-head/doc/examples/suse-11.0/suse-vm-guest.readme (from rev 1477, kiwi-head/doc/examples/suse-10.3/suse-vm-guest.readme)
===================================================================
--- kiwi-head/doc/examples/suse-10.3/suse-vm-guest.readme	2008-07-24 08:47:49 UTC (rev 1477)
+++ kiwi-head/doc/examples/suse-11.0/suse-vm-guest.readme	2008-07-24 10:07:44 UTC (rev 1479)
@@ -0,0 +1,37 @@
+KIWI Image Description Example
+==============================
+* A vmx image is a virtual disk image for use in full virtualisation
+  systems like QEMU or VMware. The image represents a file which
+  includes partition data and bootloader information. The size of
+  this virtual disk can be influenced by either the &lt;size&gt; element
+  in your config.xml file or by the parameter --bootvm-disksize
+
+How to build this Example
+==============================
+
+    kiwi --prepare /usr/share/doc/packages/kiwi/examples/suse-vm-guest \
+         --root /tmp/myvm
+
+    kiwi --create /tmp/myvm --type vmx -d /tmp/myvm-result
+
+How to test this Example
+==============================
+* Testing virtual disk images can only happen in virtualisation systems.
+  For example:
+
+    qemu /tmp/myvm-result/suse-11.0-vm-guest.i686-1.1.2.raw -m 512
+
+  If specified in config.xml kiwi can also create the guest configuration
+  as required for VMware. The guest configuration for this example can
+  be found here:
+
+    /tmp/myvm-result/suse-11.0-vm-guest.i686-1.1.2.vmx
+
+  If a format attribute is specified kiwi also converts the raw image
+  format into the specified format. For example VMware uses the vmdk
+  format and kiwi provides the image as .vmdk file
+
+Login Details
+==============================
+* User root pwd: linux
+

Copied: kiwi-head/doc/examples/suse-11.0/suse-xen-guest (from rev 1477, kiwi-head/doc/examples/suse-10.3/suse-xen-guest)

Modified: kiwi-head/doc/examples/suse-11.0/suse-xen-guest/config.xml
===================================================================
--- kiwi-head/doc/examples/suse-10.3/suse-xen-guest/config.xml	2008-07-24 08:47:49 UTC (rev 1477)
+++ kiwi-head/doc/examples/suse-11.0/suse-xen-guest/config.xml	2008-07-24 10:07:44 UTC (rev 1479)
@@ -1,12 +1,12 @@
 &lt;?xml version=&quot;1.0&quot;?&gt;
-&lt;image schemeversion=&quot;2.4&quot; name=&quot;suse-10.3-xen-guest&quot;&gt;
+&lt;image schemeversion=&quot;2.4&quot; name=&quot;suse-11.0-xen-guest&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#228;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
-		&lt;specification&gt;openSUSE 10.3 xen guest system&lt;/specification&gt;
+		&lt;specification&gt;openSUSE 11.0 xen guest system&lt;/specification&gt;
 	&lt;/description&gt;
 	&lt;preferences&gt;
-		&lt;type filesystem=&quot;ext3&quot; boot=&quot;xenboot/suse-10.3&quot;&gt;xen&lt;/type&gt;
+		&lt;type filesystem=&quot;ext3&quot; boot=&quot;xenboot/suse-11.0&quot;&gt;xen&lt;/type&gt;
 		&lt;version&gt;1.1.2&lt;/version&gt;
 		&lt;packagemanager&gt;smart&lt;/packagemanager&gt;
 		&lt;rpm-check-signatures&gt;False&lt;/rpm-check-signatures&gt;
@@ -15,16 +15,15 @@
 		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
 	&lt;/preferences&gt;
 	&lt;repository type=&quot;yast2&quot;&gt;
-		&lt;source path=&quot;/image/CDs/full-10.3-i386&quot;/&gt;
-		&lt;!--&lt;source path=&quot;<A HREF="opensuse://openSUSE:10.3/standard/">opensuse://openSUSE:10.3/standard/</A>&quot;/&gt;--&gt;
+		&lt;source path=&quot;/image/CDs/full-11.0-i386&quot;/&gt;
+		&lt;!--&lt;source path=&quot;<A HREF="opensuse://openSUSE:11.0/standard/">opensuse://openSUSE:11.0/standard/</A>&quot;/&gt;--&gt;
 	&lt;/repository&gt;
 	&lt;packages type=&quot;image&quot;&gt;
 		&lt;package name=&quot;kernel-default&quot;/&gt;
 		&lt;package name=&quot;bootsplash&quot;/&gt;
-		&lt;package name=&quot;bootsplash-theme-SuSE&quot;/&gt;
-		&lt;package name=&quot;resmgr&quot;/&gt;
+		&lt;package name=&quot;bootsplash-branding-openSUSE&quot;/&gt;
 		&lt;package name=&quot;vim&quot;/&gt;
-		&lt;opensusePattern name=&quot;base-10.3&quot;/&gt;
+		&lt;opensusePattern name=&quot;base&quot;/&gt;
 	&lt;/packages&gt;
 	&lt;packages type=&quot;xen&quot;&gt;
 		&lt;package name=&quot;kernel-xen&quot;/&gt;

Copied: kiwi-head/doc/examples/suse-11.0/suse-xen-guest.readme (from rev 1477, kiwi-head/doc/examples/suse-10.3/suse-xen-guest.readme)
===================================================================
--- kiwi-head/doc/examples/suse-10.3/suse-xen-guest.readme	2008-07-24 08:47:49 UTC (rev 1477)
+++ kiwi-head/doc/examples/suse-11.0/suse-xen-guest.readme	2008-07-24 10:07:44 UTC (rev 1479)
@@ -0,0 +1,25 @@
+KIWI Image Description Example
+==============================
+* A xen image is a filesystem based image file which requires a
+  XEN domain 0 running or the project called Xenner which emulates
+  the capabilities of the domain 0. The image created with kiwi
+  can be used together with the xen tools.
+
+How to build this Example
+==============================
+
+    kiwi --prepare /usr/share/doc/packages/kiwi/examples/suse-xen-guest \
+         --root /tmp/myxen
+
+    kiwi --create /tmp/myxen --type xen -d /tmp/myxen-result
+
+How to test this Example
+==============================
+* Testing the xen image works together with the Xen tools. In this
+  example activating the guest domain X requires the following call:
+
+    xm create -c /tmp/myxen-result/suse-11.0-xen-guest.i686-1.1.2.xenconfig
+
+Login Details
+==============================
+* User root pwd: linux

Modified: kiwi-head/modules/KIWISatSolver.pm
===================================================================
--- kiwi-head/modules/KIWISatSolver.pm	2008-07-24 08:55:43 UTC (rev 1478)
+++ kiwi-head/modules/KIWISatSolver.pm	2008-07-24 10:07:44 UTC (rev 1479)
@@ -125,7 +125,7 @@
 	$job -&gt; queuePush ( $SaT::SOLVER_INSTALL_SOLVABLE );
 	foreach my $p (@{$pref}) {
 		my $name = &quot;pattern:&quot;.$p;
-		if (! $job -&gt; queuePush ( $pool -&gt; selectSolvable ($repo,$name))) {
+		if (! $pool -&gt; selectSolvable ($repo,$job,$name)) {
 			$kiwi -&gt; error (&quot;--&gt; Failed to queue job: $name&quot;);
 			$kiwi -&gt; failed ();
 			return undef;
@@ -135,6 +135,7 @@
 	# Solve the job(s)
 	#------------------------------------------
 	$solver -&gt; solve ($job);
+	$job -&gt; queue_free();
 	my $list = $solver -&gt; getInstallList ($pool);
 	foreach my $name (@{$list}) {
 		if ($name =~ /^pattern:(.*)/) {

Modified: kiwi-head/rpm/kiwi.changes
===================================================================
--- kiwi-head/rpm/kiwi.changes	2008-07-24 08:55:43 UTC (rev 1478)
+++ kiwi-head/rpm/kiwi.changes	2008-07-24 10:07:44 UTC (rev 1479)
@@ -6,6 +6,7 @@
 - fixed KIWIMigrate according to current scheme (bnc #411088)
 - allow redirection of the log messages to a console set
   by the kernel parameter kiwistderr=... (bnc #411304)
+- fixed KIWISatSolver queue code and binding
 
 -------------------------------------------------------------------
 Wed Jul 16 10:58:08 CEST 2008 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>

Modified: kiwi-head/tools/satplugin/SaT.i
===================================================================
--- kiwi-head/tools/satplugin/SaT.i	2008-07-24 08:55:43 UTC (rev 1478)
+++ kiwi-head/tools/satplugin/SaT.i	2008-07-24 10:07:44 UTC (rev 1479)
@@ -74,15 +74,13 @@
         return pool_id2solvable(self, p);
     }
 
-    Id selectSolvable (Repo *repo, char *name) {
+    bool selectSolvable (Repo *repo, Queue plist, char *name) {
         Id id;
-        Queue plist;
         int i, end;
         Solvable *s;
         Pool *pool;
         pool = self;
         id = str2id(pool, name, 1);
-        queue_init( &amp;plist);
         i = repo ? repo-&gt;start : 1;
         end = repo ? repo-&gt;start + repo-&gt;nsolvables : pool-&gt;nsolvables;
         for (; i &lt; end; i++) {
@@ -97,11 +95,9 @@
         prune_to_best_arch (pool, &amp;plist);
         if (plist.count == 0) {
             //printf(&quot;unknown package '%s'\n&quot;, name);
-            return -1;
+            return 0;
         }
-        id = plist.elements[0];
-        queue_free(&amp;plist);
-        return id;
+        return 1;
     }
 
     Repo* createRepo(const char *reponame) {

Modified: kiwi-head/tools/satplugin/example.pl
===================================================================
--- kiwi-head/tools/satplugin/example.pl	2008-07-24 08:55:43 UTC (rev 1478)
+++ kiwi-head/tools/satplugin/example.pl	2008-07-24 10:07:44 UTC (rev 1479)
@@ -27,12 +27,13 @@
 
 # Push jobs on Queue
 $job -&gt; queuePush ( $SaT::SOLVER_INSTALL_SOLVABLE );
-if (! $job -&gt; queuePush ( $pool -&gt; selectSolvable ($repo,&quot;pattern:default&quot;))) {
+if (! $pool -&gt; selectSolvable ($repo,$job,&quot;pattern:default&quot;)) {
 	die &quot;failed to push job&quot;;
 }
 
 # Solve the jobs
 $solver -&gt; solve ($job);
+$job -&gt; queue_free();
 
 # Print packages to install
 $a = $solver -&gt; getInstallList($pool);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000563.html">[Kiwi-devel] r1478 - kiwi-head
</A></li>
	<LI>Next message: <A HREF="000565.html">[Kiwi-devel] r1480 - in kiwi-head/doc: . LaTex examples/suse-11.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#564">[ date ]</a>
              <a href="thread.html#564">[ thread ]</a>
              <a href="subject.html#564">[ subject ]</a>
              <a href="author.html#564">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
