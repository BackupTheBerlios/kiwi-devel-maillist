<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] ovftool options
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20ovftool%20options&In-Reply-To=%3C0F7A61B0A6ABAD4A82DDEF8CCA0ADA2B4D2E96B717%40AUSX7MCPS301.AMER.DELL.COM%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002218.html">
   <LINK REL="Next"  HREF="002223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] ovftool options</H1>
    <B>Praveen_Paladugu at Dell.com</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20ovftool%20options&In-Reply-To=%3C0F7A61B0A6ABAD4A82DDEF8CCA0ADA2B4D2E96B717%40AUSX7MCPS301.AMER.DELL.COM%3E"
       TITLE="[Kiwi-devel] ovftool options">Praveen_Paladugu at Dell.com
       </A><BR>
    <I>Tue May 25 15:09:21 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002218.html">[Kiwi-devel] ovftool options
</A></li>
        <LI>Next message: <A HREF="002223.html">[Kiwi-devel] ovftool options
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2220">[ date ]</a>
              <a href="thread.html#2220">[ thread ]</a>
              <a href="subject.html#2220">[ subject ]</a>
              <a href="author.html#2220">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Version information :
ovftool -v
VMware ovftool 1.0.0 (build-166674)


Possible options with the new version are:


ovftool --help 
Usage: ovftool [options] &lt;source&gt; [&lt;target&gt;]
where
&lt;source&gt;: Source URL locator to an OVF package, VMX file, or virtual machine in
          vCenter or on ESX Server. 
&lt;target&gt;: Destination URL locator which specifies either a file location, or a 
          location in the vCenter inventory or on an ESX Server. 

If &lt;target&gt; is not specified, information about the source is displayed to the 
console. 

Options:
     --acceptAllEulas         : Accept all end-user licenses agreements without
                                being prompted. 
     --chunkSize              : Specifies the chunk size to use for files in a 
                                generated OVF package. The default is not to 
                                chunk. The chunk size without unit is assumed 
                                to be in megabytesAccepted units are b, kb, mb,
                                gb; e.g., 2gb or 100kb. 
     --compress               : Compress the disks in an OVF package. Value 
                                must be between 1 and 9. 1 is the fastest, but 
                                gives the worst compression, whereas 9 is the 
                                slowest, but gives the best compression. 
 -ds/--datastore              : Target datastore name for a VI locator.
     --deploymentOption       : Selects what deployment option to use (if the 
                                source OVF package supports multiple options.) 
     --disableVerification    : Skip validation of signature and certificate.
 -dm/--diskMode               : Select target disk format. Supported formats 
                                are: monolithicSparse, monolithicFlat, 
                                twoGbMaxExtentSparse, twoGbMaxExtentFlat, 
                                streamOptimized, thin (VI target) and thick (VI
                                target) 
     --eula                   : EULA to be inserted in the first virtual system
                                or virtual system collection in the OVF. If the
                                EULA is in a file, use the option 
                                --eula@=filename instead. 
 -h /--help                   : Prints this message.
     --hideEula               : In OVF probe mode, hides the EULA.
     --ipAllocationPolicy     : IP allocation policy for a deployed OVF 
                                package. Supported values are fixed, transient 
                                and dhcp. 
     --ipProtocol             : Select what IP protocol to use (IPv4, IPv6).
     --locale                 : Selects locale for target.
     --machineOutput          : Output OVF Tool messages in a machine friendly 
                                manner. 
     --makeDeltaDisks         : Build delta disk hierarchy from the given 
                                source locator. 
 -n /--name                   : Specifies target name (defaults to source 
                                name). 
     --net                    : Set a network assignment in the deployed OVF 
                                package. A network assignment is set using the 
                                syntax --net:&lt;OVF name&gt;=&lt;target name&gt;. 
 -nw/--network                : Target network for a VI deployment.
     --noDisks                : Disable disk conversion.
 -o /--overwrite              : Force overwrites of existing files.
     --powerOffSource         : Ensures a VM/vApp is powered off before 
                                importing from a VI source. 
     --powerOffTarget         : Ensures a VM/vApp is powered off before 
                                overwriting a VI target. 
     --powerOn                : Powers on a VM/vApp deployed on a VI target.
     --privateKey             : Sign OVF package with the given private key 
                                (.pem file). The file must contain a private 
                                key and a certificate. 
     --privateKeyPassword     : Password for the private key. Should be used in
                                conjunction with privateKey if the private key 
                                requires password authentication. If required 
                                and not specified, the tool will prompt for the
                                password. 
     --prop                   : Set a property in the deployed OVF package. A 
                                property is set using the syntax 
                                --prop:&lt;key&gt;=&lt;value&gt;. 
     --proxy                  : Proxy used for HTTP[S] access.
 -q /--quiet                  : No output to screen except errors.
     --schemaValidate         : Validate OVF descriptor against OVF schema.
     --skipManifestCheck      : Skip validation of OVF package manifest.
     --skipManifestGeneration : Skip generation of OVF package manifest.
 -st/--sourceType             : Explicitly express that source is OVF, OVA, 
                                VMX, or VI. 
 -tt/--targetType             : Explicitly express that target is OVF, OVA, 
                                VMX, or VI. 
 -v /--version                : Prints the version of this tool.
 -vf/--vmFolder               : Target VM folder in VI inventory (relative to 
                                datacenter). 

Use '--help locators' for detailed source and destination locator syntax
Use '--help examples' for examples of use
Use '--help config' for help on configuration files



&gt;<i>From the above, -oq will be the right replacement.
</I>
Praveen
________________________________________
From: Marcus Sch&#228;fer [<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>]
Sent: Tuesday, May 25, 2010 1:22 AM
To: Paladugu, Praveen
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">Kiwi-devel at lists.berlios.de</A>
Subject: Re: [Kiwi-devel] ovftool options

Hi,

&gt;<i> I tried to build a Virtual Machine in OVF format using kiwi. The ovftool command used in the kiwi script seems to be having unsupported options.
</I>&gt;<i> I had to add the following patch to get my build running.
</I>&gt;<i>
</I>&gt;<i> --- ./modules/KIWIImage.pm.old        2010-05-24 14:56:19.431151390 -0500
</I>&gt;<i> +++ ./modules/KIWIImage.pm    2010-05-24 14:56:41.319121499 -0500
</I>&gt;<i> @@ -1275,9 +1275,9 @@ sub createImageVMX {
</I>&gt;<i>                       # ---- end ----
</I>&gt;<i>                       my $status;
</I>&gt;<i>                       if (! $ovflog) {
</I>&gt;<i> -                             $status= qxx (&quot;$ovftool -bf $vmxfile $ovffile 2&gt;&amp;1&quot;);
</I>&gt;<i> +                             $status= qxx (&quot;$ovftool  $vmxfile $ovffile 2&gt;&amp;1&quot;);
</I>&gt;<i>                       } else {
</I>&gt;<i> -                             $status= qxx (&quot;$ovftool -bf $vmxfile $ovffile -l $ovflog 2&gt;&amp;1&quot;);
</I>&gt;<i> +                             $status= qxx (&quot;$ovftool  $vmxfile $ovffile -l $ovflog 2&gt;&amp;1&quot;);
</I>&gt;<i>                       }
</I>&gt;<i>                       my $result = $? &gt;&gt; 8;
</I>&gt;<i>                       # --- beg ----
</I>&gt;<i>
</I>&gt;<i> Any specific reason the '-bf' option was added?
</I>&gt;<i> I verified this behaviour with VMware-ovftool-installer-1.0.0-166674-lin.x86_64.sh which I downloaded from vmware.com.
</I>
The version I used for implementing this understood the options
I think the version I have is too old.

  ovftool -v
  ovftool 1.0.0 [preview 1] (build-117388)

  Options:
  -h              : Show this help
  -v              : Show version information
  -p proxy:[port] : Configure HTTP proxy
  -n              : Dry-run (no output to destination)
  -b              : Verbose mode
  -q              : Quiet mode
  -f              : Overwrite destination if exists (local files only)
  -l filename     : Log messages to &lt;filename&gt;, appending if file exists

Can you tell me the version information from the tool you used ?
Additionally is there a replacement for -b and -f or did they silently
remove it ?

Thanks

Regards,
Marcus
--
 Public Key available
 gpg --keyserver gpg-keyserver.de --recv-keys 0xCCE3C6A2
 -------------------------------------------------------
 Marcus Sch&#228;fer (Res. &amp; Dev.)   SUSE LINUX Products GmbH
 Tel: 0911-740 53 0             Maxfeldstrasse 5
 FAX: 0911-740 53 479           D-90409 N&#252;rnberg
 GF: Markus Rex                 HRB: 16746 (AG N&#252;rnberg)
 <A HREF="http://www.suse.de">http://www.suse.de</A>             Germany
 -------------------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002218.html">[Kiwi-devel] ovftool options
</A></li>
	<LI>Next message: <A HREF="002223.html">[Kiwi-devel] ovftool options
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2220">[ date ]</a>
              <a href="thread.html#2220">[ thread ]</a>
              <a href="subject.html#2220">[ subject ]</a>
              <a href="author.html#2220">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
