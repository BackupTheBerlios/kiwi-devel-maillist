<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] [SVN:KIWI-Team] r1399 - in kiwi-head: doc doc/LaTex	doc/LaTex/pictures doc/LaTex/pictures/fig doc/schema modules	rpm system/boot/isoboot/suse-10.1/cdboot	system/boot/isoboot/suse-10.1/root	system/boot/isoboot/suse-10.2/cdboot	system/boot/isoboot/suse-10.2/root	system/boot/isoboot/suse-10.3/cdboot	system/boot/isoboot/suse-11.0/cdboot	system/boot/isoboot/suse-11.0/root	system/boot/isoboot/suse-SLED10/cdboot	system/boot/isoboot/suse-SLED10/root	system/boot/isoboot/suse-SLES10/cdboot	system/boot/isoboot/suse-SLES10/root
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BSVN%3AKIWI-Team%5D%20r1399%20-%20in%20kiwi-head%3A%20doc%20doc/LaTex%0A%09doc/LaTex/pictures%20doc/LaTex/pictures/fig%20doc/schema%20modules%0A%09rpm%20system/boot/isoboot/suse-10.1/cdboot%0A%09system/boot/isoboot/suse-10.1/root%0A%09system/boot/isoboot/suse-10.2/cdboot%0A%09system/boot/isoboot/suse-10.2/root%0A%09system/boot/isoboot/suse-10.3/cdboot%0A%09system/boot/isoboot/suse-11.0/cdboot%0A%09system/boot/isoboot/suse-11.0/root%0A%09system/boot/isoboot/suse-SLED10/cdboot%0A%09system/boot/isoboot/suse-SLED10/root%0A%09system/boot/isoboot/suse-SLES10/cdboot%0A%09system/boot/isoboot/suse-SLES10/root&In-Reply-To=%3C200806201402.m5KE2XAO021409%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000488.html">
   <LINK REL="Next"  HREF="000490.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] [SVN:KIWI-Team] r1399 - in kiwi-head: doc doc/LaTex	doc/LaTex/pictures doc/LaTex/pictures/fig doc/schema modules	rpm system/boot/isoboot/suse-10.1/cdboot	system/boot/isoboot/suse-10.1/root	system/boot/isoboot/suse-10.2/cdboot	system/boot/isoboot/suse-10.2/root	system/boot/isoboot/suse-10.3/cdboot	system/boot/isoboot/suse-11.0/cdboot	system/boot/isoboot/suse-11.0/root	system/boot/isoboot/suse-SLED10/cdboot	system/boot/isoboot/suse-SLED10/root	system/boot/isoboot/suse-SLES10/cdboot	system/boot/isoboot/suse-SLES10/root</H1>
    <B>marcus_schaefer at BerliOS</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BSVN%3AKIWI-Team%5D%20r1399%20-%20in%20kiwi-head%3A%20doc%20doc/LaTex%0A%09doc/LaTex/pictures%20doc/LaTex/pictures/fig%20doc/schema%20modules%0A%09rpm%20system/boot/isoboot/suse-10.1/cdboot%0A%09system/boot/isoboot/suse-10.1/root%0A%09system/boot/isoboot/suse-10.2/cdboot%0A%09system/boot/isoboot/suse-10.2/root%0A%09system/boot/isoboot/suse-10.3/cdboot%0A%09system/boot/isoboot/suse-11.0/cdboot%0A%09system/boot/isoboot/suse-11.0/root%0A%09system/boot/isoboot/suse-SLED10/cdboot%0A%09system/boot/isoboot/suse-SLED10/root%0A%09system/boot/isoboot/suse-SLES10/cdboot%0A%09system/boot/isoboot/suse-SLES10/root&In-Reply-To=%3C200806201402.m5KE2XAO021409%40sheep.berlios.de%3E"
       TITLE="[Kiwi-devel] [SVN:KIWI-Team] r1399 - in kiwi-head: doc doc/LaTex	doc/LaTex/pictures doc/LaTex/pictures/fig doc/schema modules	rpm system/boot/isoboot/suse-10.1/cdboot	system/boot/isoboot/suse-10.1/root	system/boot/isoboot/suse-10.2/cdboot	system/boot/isoboot/suse-10.2/root	system/boot/isoboot/suse-10.3/cdboot	system/boot/isoboot/suse-11.0/cdboot	system/boot/isoboot/suse-11.0/root	system/boot/isoboot/suse-SLED10/cdboot	system/boot/isoboot/suse-SLED10/root	system/boot/isoboot/suse-SLES10/cdboot	system/boot/isoboot/suse-SLES10/root">marcus_schaefer at mail.berlios.de
       </A><BR>
    <I>Fri Jun 20 16:02:33 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000488.html">[Kiwi-devel] [SVN:KIWI-Team] r1398 - kiwi-head/modules
</A></li>
        <LI>Next message: <A HREF="000490.html">[Kiwi-devel] [SVN:KIWI-Team] r1400 - kiwi-head/modules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#489">[ date ]</a>
              <a href="thread.html#489">[ thread ]</a>
              <a href="subject.html#489">[ subject ]</a>
              <a href="author.html#489">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: marcus_schaefer
Date: Fri Jun 20 16:02:11 2008
New Revision: 1399

Added:
   kiwi-head/system/boot/isoboot/suse-10.1/root/isolinux   (contents, props changed)
   kiwi-head/system/boot/isoboot/suse-10.2/root/isolinux   (contents, props changed)
   kiwi-head/system/boot/isoboot/suse-10.3/root/isolinux   (contents, props changed)
   kiwi-head/system/boot/isoboot/suse-11.0/root/isolinux   (contents, props changed)
   kiwi-head/system/boot/isoboot/suse-SLED10/root/isolinux   (contents, props changed)
   kiwi-head/system/boot/isoboot/suse-SLES10/root/isolinux   (contents, props changed)
Removed:
   kiwi-head/system/boot/isoboot/suse-10.1/cdboot/
   kiwi-head/system/boot/isoboot/suse-10.2/cdboot/
   kiwi-head/system/boot/isoboot/suse-10.3/cdboot/
   kiwi-head/system/boot/isoboot/suse-11.0/cdboot/
   kiwi-head/system/boot/isoboot/suse-SLED10/cdboot/
   kiwi-head/system/boot/isoboot/suse-SLES10/cdboot/
Modified:
   kiwi-head/doc/LaTex/Revision.txt
   kiwi-head/doc/LaTex/description.tex
   kiwi-head/doc/LaTex/pictures/description.eps
   kiwi-head/doc/LaTex/pictures/fig/description.fig
   kiwi-head/doc/kiwi.pdf
   kiwi-head/doc/schema/kiwi.rng.html
   kiwi-head/modules/KIWIBoot.pm
   kiwi-head/modules/KIWIConfig.sh
   kiwi-head/modules/KIWIImage.pm
   kiwi-head/modules/KIWIScheme.rnc
   kiwi-head/modules/KIWIScheme.rng
   kiwi-head/modules/KIWIXML.pm
   kiwi-head/rpm/kiwi.changes

Log:

- added support for additive size setup (bnc #401747)
- removed cdboot directory from isoboot descriptions. kiwi
  creates the isolinux configuration files now in KIWIImage.pm



Modified: kiwi-head/doc/LaTex/Revision.txt
==============================================================================
--- kiwi-head/doc/LaTex/Revision.txt	(original)
+++ kiwi-head/doc/LaTex/Revision.txt	Fri Jun 20 16:02:11 2008
@@ -1 +1 @@
-2.42
\ No newline at end of file
+2.43
\ No newline at end of file

Modified: kiwi-head/doc/LaTex/description.tex
==============================================================================
--- kiwi-head/doc/LaTex/description.tex	(original)
+++ kiwi-head/doc/LaTex/description.tex	Fri Jun 20 16:02:11 2008
@@ -22,13 +22,6 @@
 of the later operating system.
 
 \begin{itemize}
-\item \textbf{\underline{cdboot/}}\\
-      For ISO boot images only. The directory contains the configuration
-      files for setting up the isolinux boot loader. Additionally the
-      script isolinux.sh must exist which is called to create the
-      iso image by calling mkisofs. For SUSE systems isolinux.sh is
-      a link to the generic suse-isolinux script. 
-
 \item \textbf{\underline{images.sh}}\\
       Optional configuration script while creating the logical extend.
       This script is called at the beginning of the image creation process.
@@ -304,7 +297,10 @@
       the specified value is too large, because the extra space might
       be needed to, for example, run custom scripts. If no size is
       specified, KIWI uses the required size plus approximately
-      10\% free space.
+      30\% free space. The optional ''additive'' attribute can be set
+      to tell kiwi to use the required size for the image plus the
+      given size as additional free space. The ''additive'' attribute is
+      a bool attribute and can be set to either true or false.
 \item \textbf{compressed}\\
       Specifies whether the image file should be compressed or not.
       This is not the filesystem compression just the image file compression

Modified: kiwi-head/doc/LaTex/pictures/description.eps
==============================================================================
--- kiwi-head/doc/LaTex/pictures/description.eps	(original)
+++ kiwi-head/doc/LaTex/pictures/description.eps	Fri Jun 20 16:02:11 2008
@@ -1,7 +1,7 @@
 %!PS-Adobe-2.0 EPSF-2.0
 %%Title: description.fig
 %%Creator: fig2dev Version 3.2 Patchlevel 5
-%%CreationDate: Wed Apr 30 15:35:50 2008
+%%CreationDate: Fri Jun 20 15:01:42 2008
 %%For: <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at D7</A> (Marcus Schaefer)
 %%BoundingBox: 0 0 232 277
 %Magnification: 1.0000
@@ -151,36 +151,33 @@
 /Times-Bold-iso ff 330.00 scf sf
 2565 2655 m
 gs 1 -1 sc (config.xml) col0 sh gr
-/Times-Roman-iso ff 300.00 scf sf
-2565 3375 m
-gs 1 -1 sc (cdboot/) col0 sh gr
 /Times-Bold-iso ff 300.00 scf sf
 3465 3105 m
 gs 1 -1 sc (optional) col0 sh gr
 /Times-Roman-iso ff 300.00 scf sf
-2565 3780 m
+2565 6345 m
+gs 1 -1 sc (config/) col0 sh gr
+/Times-Roman-iso ff 300.00 scf sf
+2565 3510 m
 gs 1 -1 sc (images.sh) col0 sh gr
 /Times-Roman-iso ff 300.00 scf sf
-2565 4140 m
+2565 3915 m
 gs 1 -1 sc (config.sh) col0 sh gr
 /Times-Roman-iso ff 300.00 scf sf
-2565 4500 m
-gs 1 -1 sc (root/) col0 sh gr
-/Times-Roman-iso ff 300.00 scf sf
-2565 4860 m
+2565 4725 m
 gs 1 -1 sc (config-yast-firstboot.xml) col0 sh gr
 /Times-Roman-iso ff 300.00 scf sf
-2565 5265 m
-gs 1 -1 sc (config-yast-autoyast.xml) col0 sh gr
-/Times-Roman-iso ff 300.00 scf sf
-2565 5670 m
-gs 1 -1 sc (config-cdroot.tgz) col0 sh gr
+2565 4320 m
+gs 1 -1 sc (root/) col0 sh gr
 /Times-Roman-iso ff 300.00 scf sf
-2565 6345 m
-gs 1 -1 sc (config/) col0 sh gr
+2565 5130 m
+gs 1 -1 sc (config-yast-autoyast.xml) col0 sh gr
 /Times-Roman-iso ff 300.00 scf sf
-2565 6030 m
+2565 5940 m
 gs 1 -1 sc (config-cdroot.sh) col0 sh gr
+/Times-Roman-iso ff 300.00 scf sf
+2565 5535 m
+gs 1 -1 sc (config-cdroot.tgz) col0 sh gr
 % here ends figure;
 $F2psEnd
 rs

Modified: kiwi-head/doc/LaTex/pictures/fig/description.fig
==============================================================================
--- kiwi-head/doc/LaTex/pictures/fig/description.fig	(original)
+++ kiwi-head/doc/LaTex/pictures/fig/description.fig	Fri Jun 20 16:02:11 2008
@@ -18,13 +18,12 @@
 2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
 	 4635 3015 5985 3015
 4 0 0 50 -1 2 22 0.0000 4 300 1470 2565 2655 config.xml\001
-4 0 0 50 -1 -1 20 0.0000 4 195 915 2565 3375 cdboot/\001
 4 0 0 50 -1 2 20 0.0000 4 255 1065 3465 3105 optional\001
-4 0 0 50 -1 -1 20 0.0000 4 255 1215 2565 3780 images.sh\001
-4 0 0 50 -1 -1 20 0.0000 4 255 1125 2565 4140 config.sh\001
-4 0 0 50 -1 -1 20 0.0000 4 195 585 2565 4500 root/\001
-4 0 0 50 -1 -1 20 0.0000 4 270 3090 2565 4860 config-yast-firstboot.xml\001
-4 0 0 50 -1 -1 20 0.0000 4 270 3060 2565 5265 config-yast-autoyast.xml\001
-4 0 0 50 -1 -1 20 0.0000 4 255 2115 2565 5670 config-cdroot.tgz\001
 4 0 0 50 -1 -1 20 0.0000 4 255 870 2565 6345 config/\001
-4 0 0 50 -1 -1 20 0.0000 4 255 2010 2565 6030 config-cdroot.sh\001
+4 0 0 50 -1 -1 20 0.0000 4 255 1215 2565 3510 images.sh\001
+4 0 0 50 -1 -1 20 0.0000 4 255 1125 2565 3915 config.sh\001
+4 0 0 50 -1 -1 20 0.0000 4 270 3090 2565 4725 config-yast-firstboot.xml\001
+4 0 0 50 -1 -1 20 0.0000 4 195 585 2565 4320 root/\001
+4 0 0 50 -1 -1 20 0.0000 4 270 3060 2565 5130 config-yast-autoyast.xml\001
+4 0 0 50 -1 -1 20 0.0000 4 255 2010 2565 5940 config-cdroot.sh\001
+4 0 0 50 -1 -1 20 0.0000 4 255 2115 2565 5535 config-cdroot.tgz\001

Modified: kiwi-head/doc/kiwi.pdf
==============================================================================
Binary files. No diff available.

Modified: kiwi-head/doc/schema/kiwi.rng.html
==============================================================================
--- kiwi-head/doc/schema/kiwi.rng.html	(original)
+++ kiwi-head/doc/schema/kiwi.rng.html	Fri Jun 20 16:02:11 2008
@@ -1,5 +1,5 @@
 &lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;&lt;title&gt;RELAX-NG KIWI Schema Documentation&lt;/title&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;kiwi.css&quot; type=&quot;text/css&quot;&gt;&lt;meta name=&quot;generator&quot; content=&quot;DocBook XSL Stylesheets V1.73.2&quot;&gt;&lt;/head&gt;&lt;body bgcolor=&quot;white&quot; text=&quot;black&quot; link=&quot;#0000FF&quot; vlink=&quot;#840084&quot; alink=&quot;#0000FF&quot;&gt;&lt;div class=&quot;reference&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h1 class=&quot;title&quot;&gt;&lt;a name=&quot;id2503802&quot;&gt;&lt;/a&gt;RELAX-NG KIWI Schema Documentation&lt;/h1&gt;&lt;/div&gt;&lt;div&gt;&lt;div class=&quot;authorgroup&quot;&gt;&lt;div class=&quot;author&quot;&gt;&lt;h3 class=&quot;author&quot;&gt;&lt;span class=&quot;firstname&quot;&gt;Marcus&lt;/span&gt; &lt;span class=&quot;surname&quot;&gt;Sch&#228;fer&lt;/span&gt;&lt;/h3&gt;&lt;span class=&quot;contrib&quot;&gt;Wrote original XSD Schema&lt;/span&gt;&#160;&lt;code class=&quot;email&quot;&gt;&lt;&lt;a class=&quot;email&quot; href=&quot;mailto:ms%20(AT)%20suse.de&quot;&gt;ms (AT) suse.de&lt;/a&gt;&gt;&lt;/code&gt;&lt;/div&gt;&lt;div class=&quot;othercredit&quot;&gt;&lt;h3 class=&quot;othercredit&quot;&gt;&lt;span class=&quot;firstname&quot;&gt;Khalil&lt;/span&gt; &lt;span class=&quot;surname&quot;&gt;Ahmed&lt;/span&gt;&lt;/h3&gt;&lt;span class=&quot;contrib&quot;&gt;Original Stylesheet&lt;/span&gt;&#160;&lt;/di!
 v&gt;&lt;div class=&quot;othercredit&quot;&gt;&lt;h3 class=&quot;othercredit&quot;&gt;&lt;span class=&quot;firstname&quot;&gt;Thomas&lt;/span&gt; &lt;span class=&quot;surname&quot;&gt;Schraitle&lt;/span&gt;&lt;/h3&gt;&lt;span class=&quot;contrib&quot;&gt;Rewrote XSD into RNC&lt;/span&gt;&#160;&lt;span class=&quot;contrib&quot;&gt;Modified XSLT stylesheet to output DocBook refentry&lt;/span&gt;&#160;&lt;code class=&quot;email&quot;&gt;&lt;&lt;a class=&quot;email&quot; href=&quot;mailto:thomas.schraitle%20(AT)%20suse.de&quot;&gt;thomas.schraitle (AT) suse.de&lt;/a&gt;&gt;&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=&quot;releaseinfo&quot;&gt;$Id: kiwi.rnc 2957 2008-01-11 12:53:39Z thomas-schraitle $&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=&quot;releaseinfo&quot;&gt;RNC Schema Version 2.0&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;div class=&quot;legalnotice&quot;&gt;&lt;a name=&quot;id2524662&quot;&gt;&lt;/a&gt;&lt;p class=&quot;legalnotice-title&quot;&gt;&lt;b&gt;Legal Notice&lt;/b&gt;&lt;/p&gt;&lt;p&gt;This product includes software developed by Khalil Ahmed
-              (&lt;a class=&quot;ulink&quot; href=&quot;<A HREF="http://www.techquila.com">http://www.techquila.com</A>&quot; target=&quot;_top&quot;&gt;<A HREF="http://www.techquila.com&lt;/a">http://www.techquila.com&lt;/a</A>&gt;).&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=&quot;pubdate&quot;&gt;Published: 05/23/2008&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;hr&gt;&lt;/div&gt;&lt;div class=&quot;toc&quot;&gt;&lt;p&gt;&lt;b&gt;Table of Contents&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#def.arch&quot;&gt;
+              (&lt;a class=&quot;ulink&quot; href=&quot;<A HREF="http://www.techquila.com">http://www.techquila.com</A>&quot; target=&quot;_top&quot;&gt;<A HREF="http://www.techquila.com&lt;/a">http://www.techquila.com&lt;/a</A>&gt;).&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=&quot;pubdate&quot;&gt;Published: 06/20/2008&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;hr&gt;&lt;/div&gt;&lt;div class=&quot;toc&quot;&gt;&lt;p&gt;&lt;b&gt;Table of Contents&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#def.arch&quot;&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;arch&lt;/code&gt;
       &lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; Describe Packages and Metadata&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#def.architectures&quot;&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;architectures&lt;/code&gt;
@@ -109,7 +109,9 @@
         &lt;code class=&quot;sgmltag-element&quot;&gt;rpm-force&lt;/code&gt;
       &lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; Force the Installation of a Package&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#def.size&quot;&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;size&lt;/code&gt;
-      &lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; Specifies the Size of an Image in (M)egabyte or (G)igabyte&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#def.source&quot;&gt;
+      &lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; Specifies the Size of an Image in (M)egabyte or (G)igabyte
+If the attribute additive is set the value will be added
+to the required size of the image&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#def.source&quot;&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;source&lt;/code&gt;
       &lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; A Pointer to a Repository/Package Source&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#def.specification&quot;&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;specification&lt;/code&gt;
@@ -500,45 +502,49 @@
         &lt;code class=&quot;sgmltag-element&quot;&gt;size&lt;/code&gt;
       &lt;/h2&gt;&lt;p&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;size&lt;/code&gt;
-       &#8212; Specifies the Size of an Image in (M)egabyte or (G)igabyte&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;size ::=  TEXT &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563405&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;div class=&quot;informaltable&quot;&gt;&lt;table border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Attribute&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Use&lt;/th&gt;&lt;th&gt;Documentation&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;unit&lt;/td&gt;&lt;td&gt; Enumeration: &quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;M&lt;/code&gt;&quot; | &quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;G&lt;/code&gt;&quot;&lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;The unit of the image&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.source&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
+       &#8212; Specifies the Size of an Image in (M)egabyte or (G)igabyte
+If the attribute additive is set the value will be added
+to the required size of the image&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;size ::=  TEXT &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563407&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;div class=&quot;informaltable&quot;&gt;&lt;table border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Attribute&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Use&lt;/th&gt;&lt;th&gt;Documentation&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;unit&lt;/td&gt;&lt;td&gt; Enumeration: &quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;M&lt;/code&gt;&quot; | &quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;G&lt;/code&gt;&quot;&lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;The unit of the image&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;additive&lt;/td&gt;&lt;td&gt;
+                &lt;span class=&quot;type&quot;&gt;xsd:boolean&lt;/span&gt;
+              &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;&#160;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.source&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;source&lt;/code&gt;
       &lt;/h2&gt;&lt;p&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;source&lt;/code&gt;
-       &#8212; A Pointer to a Repository/Package Source&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;source ::=  EMPTY&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563503&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;div class=&quot;informaltable&quot;&gt;&lt;table border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Attribute&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Use&lt;/th&gt;&lt;th&gt;Documentation&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;path&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;A path&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.specification&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
+       &#8212; A Pointer to a Repository/Package Source&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;source ::=  EMPTY&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563523&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;div class=&quot;informaltable&quot;&gt;&lt;table border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Attribute&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Use&lt;/th&gt;&lt;th&gt;Documentation&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;path&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;A path&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.specification&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;specification&lt;/code&gt;
       &lt;/h2&gt;&lt;p&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;specification&lt;/code&gt;
-       &#8212; A Detailed Description&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;specification ::=  TEXT &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563590&quot;&gt;&lt;/a&gt;&lt;h2&gt;Description&lt;/h2&gt;&lt;p&gt;A detailed description of this image and what it can be
-used for.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563601&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;p&gt;No attributes available.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.split&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
+       &#8212; A Detailed Description&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;specification ::=  TEXT &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563610&quot;&gt;&lt;/a&gt;&lt;h2&gt;Description&lt;/h2&gt;&lt;p&gt;A detailed description of this image and what it can be
+used for.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563621&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;p&gt;No attributes available.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.split&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;split&lt;/code&gt;
       &lt;/h2&gt;&lt;p&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;split&lt;/code&gt;
        &#8212; Describes Images in Read-Only and Read-Write Portions&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;split ::= &lt;a class=&quot;link&quot; href=&quot;#def.temporary&quot; title=&quot;temporary&quot;&gt;temporary&lt;/a&gt;? &amp;
-  &lt;a class=&quot;link&quot; href=&quot;#def.persistent&quot; title=&quot;persistent&quot;&gt;persistent&lt;/a&gt;?&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563656&quot;&gt;&lt;/a&gt;&lt;h2&gt;Description&lt;/h2&gt;&lt;p&gt;When the image type split is requested the image will be
+  &lt;a class=&quot;link&quot; href=&quot;#def.persistent&quot; title=&quot;persistent&quot;&gt;persistent&lt;/a&gt;?&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563675&quot;&gt;&lt;/a&gt;&lt;h2&gt;Description&lt;/h2&gt;&lt;p&gt;When the image type split is requested the image will be
 splitted into a read-only and a read-write image portion.
 Each portion can have different filesystems and the split
 section describes which files/directories should go in
-what portion.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563669&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;p&gt;No attributes available.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.temporary&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
+what portion.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563689&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;p&gt;No attributes available.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.temporary&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;temporary&lt;/code&gt;
       &lt;/h2&gt;&lt;p&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;temporary&lt;/code&gt;
        &#8212; Specifies Files in RAM&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;temporary ::= (&lt;a class=&quot;link&quot; href=&quot;#def.except&quot; title=&quot;except&quot;&gt;except&lt;/a&gt;)* &amp;
-  (&lt;a class=&quot;link&quot; href=&quot;#def.file&quot; title=&quot;file&quot;&gt;file&lt;/a&gt;)+&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563723&quot;&gt;&lt;/a&gt;&lt;h2&gt;Description&lt;/h2&gt;&lt;p&gt;As part of the split section the temporary element
-specifies file names which are in the RAM disk area.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563734&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;p&gt;No attributes available.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.timeout&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
+  (&lt;a class=&quot;link&quot; href=&quot;#def.file&quot; title=&quot;file&quot;&gt;file&lt;/a&gt;)+&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563743&quot;&gt;&lt;/a&gt;&lt;h2&gt;Description&lt;/h2&gt;&lt;p&gt;As part of the split section the temporary element
+specifies file names which are in the RAM disk area.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563754&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;p&gt;No attributes available.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.timeout&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;timeout&lt;/code&gt;
       &lt;/h2&gt;&lt;p&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;timeout&lt;/code&gt;
-       &#8212; Specifies an ATFTP Download Timeout&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;timeout ::=  TEXT &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563778&quot;&gt;&lt;/a&gt;&lt;h2&gt;Description&lt;/h2&gt;&lt;p&gt;As part of the network deploy configuration this section 
-specifies an ATFTP download timeout&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563790&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;p&gt;No attributes available.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.timezone&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
+       &#8212; Specifies an ATFTP Download Timeout&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;timeout ::=  TEXT &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563798&quot;&gt;&lt;/a&gt;&lt;h2&gt;Description&lt;/h2&gt;&lt;p&gt;As part of the network deploy configuration this section 
+specifies an ATFTP download timeout&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563809&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;p&gt;No attributes available.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.timezone&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;timezone&lt;/code&gt;
       &lt;/h2&gt;&lt;p&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;timezone&lt;/code&gt;
-       &#8212; Setup Image Timezone setup&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;timezone ::=  TEXT &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563833&quot;&gt;&lt;/a&gt;&lt;h2&gt;Description&lt;/h2&gt;&lt;p&gt;Image timezone setup. The value will be used to search
-the correct timezone and copy it to /etc/localtime.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563844&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;p&gt;No attributes available.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.type&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
+       &#8212; Setup Image Timezone setup&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;timezone ::=  TEXT &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563853&quot;&gt;&lt;/a&gt;&lt;h2&gt;Description&lt;/h2&gt;&lt;p&gt;Image timezone setup. The value will be used to search
+the correct timezone and copy it to /etc/localtime.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563864&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;p&gt;No attributes available.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.type&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;type&lt;/code&gt;
       &lt;/h2&gt;&lt;p&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;type&lt;/code&gt;
-       &#8212; The Image Type of the Logical Extend&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;type ::=  TEXT &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563888&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;div class=&quot;informaltable&quot;&gt;&lt;table border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Attribute&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Use&lt;/th&gt;&lt;th&gt;Documentation&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;checkprebuilt&lt;/td&gt;&lt;td&gt;
+       &#8212; The Image Type of the Logical Extend&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;type ::=  TEXT &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2563908&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;div class=&quot;informaltable&quot;&gt;&lt;table border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Attribute&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Use&lt;/th&gt;&lt;th&gt;Documentation&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;checkprebuilt&lt;/td&gt;&lt;td&gt;
                 &lt;span class=&quot;type&quot;&gt;xsd:boolean&lt;/span&gt;
               &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;Activates whether KIWI should search for a prebuild boot
 image or not&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;bootprofile&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;Specifies the boot profile if defined in the boot image
@@ -554,24 +560,24 @@
         &lt;code class=&quot;sgmltag-element&quot;&gt;union&lt;/code&gt;
       &lt;/h2&gt;&lt;p&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;union&lt;/code&gt;
-       &#8212; Specifies the Overlay Filesystem&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;union ::=  EMPTY&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2564335&quot;&gt;&lt;/a&gt;&lt;h2&gt;Description&lt;/h2&gt;&lt;p&gt;As part of the network deploy configuration this section
+       &#8212; Specifies the Overlay Filesystem&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;union ::=  EMPTY&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2564355&quot;&gt;&lt;/a&gt;&lt;h2&gt;Description&lt;/h2&gt;&lt;p&gt;As part of the network deploy configuration this section
 specifies the overlay filesystem setup if required by the
 filesystem type of the system image. An overlay setup is only
 required if the system image uses a squashfs or cromfs
-compressed filesystem.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2564349&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;div class=&quot;informaltable&quot;&gt;&lt;table border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Attribute&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Use&lt;/th&gt;&lt;th&gt;Documentation&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;ro&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;Device only for read-only &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;rw&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;Device for Read-Write&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;type&lt;/td&gt;&lt;td&gt; Enumeration: &quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;aufs&lt;/code&gt;&quot; | &quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;unionfs&lt;/code&gt;&quot;&lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;&#160;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.user&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
+compressed filesystem.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2564369&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;div class=&quot;informaltable&quot;&gt;&lt;table border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Attribute&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Use&lt;/th&gt;&lt;th&gt;Documentation&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;ro&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;Device only for read-only &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;rw&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;Device for Read-Write&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;type&lt;/td&gt;&lt;td&gt; Enumeration: &quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;aufs&lt;/code&gt;&quot; | &quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;unionfs&lt;/code&gt;&quot;&lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;&#160;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.user&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;user&lt;/code&gt;
       &lt;/h2&gt;&lt;p&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;user&lt;/code&gt;
-       &#8212; A User with Name, Password, Path to Its Home And Shell&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;user ::=  EMPTY&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2564478&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;div class=&quot;informaltable&quot;&gt;&lt;table border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Attribute&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Use&lt;/th&gt;&lt;th&gt;Documentation&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;name&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;A name&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;id&lt;/td&gt;&lt;td&gt;
+       &#8212; A User with Name, Password, Path to Its Home And Shell&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;user ::=  EMPTY&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2564498&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;div class=&quot;informaltable&quot;&gt;&lt;table border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Attribute&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Use&lt;/th&gt;&lt;th&gt;Documentation&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;name&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;A name&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;id&lt;/td&gt;&lt;td&gt;
                 &lt;span class=&quot;type&quot;&gt;xsd:nonNegativeInteger&lt;/span&gt;
               &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;The user ID for this user&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;realname&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;The name of an user&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;pwd&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;The password&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;home&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;The home directory for this user&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;shell&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;The shell for this user&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.users&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;users&lt;/code&gt;
       &lt;/h2&gt;&lt;p&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;users&lt;/code&gt;
-       &#8212; A List of Users&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;users ::= (&lt;a class=&quot;link&quot; href=&quot;#def.user&quot; title=&quot;user&quot;&gt;user&lt;/a&gt;)+&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2564654&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;div class=&quot;informaltable&quot;&gt;&lt;table border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Attribute&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Use&lt;/th&gt;&lt;th&gt;Documentation&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;group&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;Contains the group to which the user belongs&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;id&lt;/td&gt;&lt;td&gt;
+       &#8212; A List of Users&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;users ::= (&lt;a class=&quot;link&quot; href=&quot;#def.user&quot; title=&quot;user&quot;&gt;user&lt;/a&gt;)+&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2564674&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;div class=&quot;informaltable&quot;&gt;&lt;table border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Attribute&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Use&lt;/th&gt;&lt;th&gt;Documentation&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;group&lt;/td&gt;&lt;td&gt; TEXT &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;Contains the group to which the user belongs&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;id&lt;/td&gt;&lt;td&gt;
                 &lt;span class=&quot;type&quot;&gt;xsd:nonNegativeInteger&lt;/span&gt;
               &lt;/td&gt;&lt;td&gt;Required&lt;/td&gt;&lt;td&gt;Contains the group ID to which the user belongs&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refentry&quot; lang=&quot;en&quot;&gt;&lt;div class=&quot;refentry.separator&quot;&gt;&lt;hr&gt;&lt;/div&gt;&lt;a name=&quot;def.version&quot;&gt;&lt;/a&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refnamediv&quot;&gt;&lt;h2&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;version&lt;/code&gt;
       &lt;/h2&gt;&lt;p&gt;
         &lt;code class=&quot;sgmltag-element&quot;&gt;version&lt;/code&gt;
-       &#8212; A Version Number for the Image, Consists of Major.Minor.Release &lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;version ::=  TEXT &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2564763&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;p&gt;No attributes available.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
+       &#8212; A Version Number for the Image, Consists of Major.Minor.Release &lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;refsynopsisdiv&quot;&gt;&lt;h2&gt;Content Model&lt;/h2&gt;&lt;pre class=&quot;screen&quot;&gt;version ::=  TEXT &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; lang=&quot;en&quot;&gt;&lt;a name=&quot;id2564783&quot;&gt;&lt;/a&gt;&lt;h2&gt;Attributes&lt;/h2&gt;&lt;p&gt;No attributes available.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;

Modified: kiwi-head/modules/KIWIBoot.pm
==============================================================================
--- kiwi-head/modules/KIWIBoot.pm	(original)
+++ kiwi-head/modules/KIWIBoot.pm	Fri Jun 20 16:02:11 2008
@@ -328,6 +328,8 @@
 		} else {
 			# use the calculated value plus 30% free space 
 			$vmsize+= $vmsize * 0.3;
+			# check if additive size was specified
+			$vmsize+= $xml -&gt; getImageSizeAdditiveBytes();
 		}
 		$vmsize  = $vmsize / 1048576;
 		$vmsize  = sprintf (&quot;%.0f&quot;, $vmsize);

Modified: kiwi-head/modules/KIWIConfig.sh
==============================================================================
--- kiwi-head/modules/KIWIConfig.sh	(original)
+++ kiwi-head/modules/KIWIConfig.sh	Fri Jun 20 16:02:11 2008
@@ -823,6 +823,7 @@
 		fi
 		bin/unpack_bootlogo /image/loader
 		mv /usr/share/syslinux/isolinux.bin /image/loader
+		mv /usr/share/syslinux/mboot.c32 /image/loader
 		mv /boot/memtest.bin /image/loader/memtest
 	else
 		# boot loader graphics image file...

Modified: kiwi-head/modules/KIWIImage.pm
==============================================================================
--- kiwi-head/modules/KIWIImage.pm	(original)
+++ kiwi-head/modules/KIWIImage.pm	Fri Jun 20 16:02:11 2008
@@ -854,7 +854,7 @@
 	# 3) Prepare and Create the given iso &lt;$boot&gt; boot image
 	# 4) Setup the CD structure and copy all files
 	#    including the syslinux isolinux data
-	# 5) Create the iso image using isolinux.sh
+	# 5) Create the iso image using isolinux shell script
 	# ---
 	my $this = shift;
 	my $para = shift;
@@ -870,6 +870,7 @@
 	my $imageTreeReadOnly;
 	my $plinux;
 	my $pinitrd;
+	my $pxboot;
 	#==========================================
 	# Get system image name
 	#------------------------------------------
@@ -1155,6 +1156,7 @@
 		return undef;
 	}
 	my $iso = $xml -&gt; getImageName();
+	my $ver = $xml -&gt; getImageVersion();
 	undef $main::SetImageType;
 	$kiwi -&gt; info (&quot;Checking for pre-built boot image&quot;);
 	if ((! $pblt) || ($pblt eq &quot;false&quot;) || ($pblt eq &quot;0&quot;)) {
@@ -1173,6 +1175,7 @@
 		}
 		$pinitrd = glob (&quot;$lookup/$iso*$arch*.gz&quot;);
 		$plinux  = glob (&quot;$lookup/$iso*$arch*.kernel&quot;);
+		$pxboot  = glob (&quot;$lookup/$iso*$arch*.xen.gz&quot;);
 		if ((! -f $pinitrd) || (! -f $plinux)) {
 			$kiwi -&gt; skipped();
 			$kiwi -&gt; info (&quot;Cant't find pre-built boot image in $lookup&quot;);
@@ -1301,11 +1304,10 @@
 		rmdir $imageTreeReadOnly;
 	}
 	$kiwi -&gt; done ();
-
 	#==========================================
-	# copy boot files for isolinux
+	# check for graphics boot files
 	#------------------------------------------
-	my $CD  = $main::Prepare.&quot;/cdboot&quot;;
+	my $CD  = $main::Prepare.&quot;/root/&quot;;
 	my $gfx = $main::RootTree.&quot;/image/loader&quot;;
 	my $isoarch = qxx (&quot;uname -m&quot;); chomp $isoarch;
 	if ($isoarch =~ /i.86/) {
@@ -1321,28 +1323,50 @@
 		return undef;
 	}
 	#==========================================
-	# copy kernel and initrd
+	# check if Xen kernel is used
+	#------------------------------------------
+	my $isxen = 0;
+	my $xboot = glob (&quot;$imageDest/$iso$arch-$ver*xen.gz&quot;);
+	if (-f $xboot) {
+		$isxen = 1;
+	}
+	#==========================================
+	# copy boot kernel and initrd
 	#------------------------------------------
 	$kiwi -&gt; info (&quot;Copying boot image and kernel [$isoarch]&quot;);
 	my $destination = &quot;$main::RootTree/CD/boot/$isoarch/loader&quot;;
 	qxx (&quot;mkdir -p $destination&quot;);
 	if ($pblt) {
-		$data = qxx (&quot;cp $pinitrd $destination/initrd&quot;);
+		$data = qxx (&quot;cp $pinitrd $destination/initrd 2&gt;&amp;1&quot;);
 	} else {
-		$data = qxx (&quot;cp $imageDest/$iso*$arch*.gz $destination/initrd&quot;);
+		$data = qxx (
+			&quot;cp $imageDest/$iso$arch-$ver.gz $destination/initrd 2&gt;&amp;1&quot;
+		);
 	}
 	$code = $? &gt;&gt; 8;
 	if ($code == 0) {
 		if ($pblt) {
-			$data = qxx (&quot;cp $plinux $destination/linux&quot;);
+			$data = qxx (&quot;cp $plinux $destination/linux 2&gt;&amp;1&quot;);
+		} else {
+			$data = qxx (
+				&quot;cp $imageDest/$iso$arch-$ver.kernel $destination/linux 2&gt;&amp;1&quot;
+			);
+		}
+		$code = $? &gt;&gt; 8;
+	}
+	if (($code == 0) &amp;&amp; ($isxen)) {
+		if ($pblt) {
+			$data = qxx (&quot;cp $pxboot $destination/xen.gz 2&gt;&amp;1&quot;);
 		} else {
-			$data = qxx (&quot;cp $imageDest/$iso*$arch*.kernel $destination/linux&quot;);
+			$data = qxx (
+				&quot;cp $xboot $destination/xen.gz 2&gt;&amp;1&quot;
+			);
 		}
 		$code = $? &gt;&gt; 8;
 	}
 	if ($code != 0) {
 		$kiwi -&gt; failed ();
-		$kiwi -&gt; error  (&quot;Copy failed: $data&quot;);
+		$kiwi -&gt; error  (&quot;Copy of isolinux boot files failed: $data&quot;);
 		$kiwi -&gt; failed ();
 		if (! -d $main::RootTree.$baseSystem) {
 			qxx (&quot;rm -rf $main::RootTree&quot;);
@@ -1352,19 +1376,11 @@
 	}
 	$kiwi -&gt; done ();
 	#==========================================
-	# copy base CD files
+	# copy base graphics boot CD files
 	#------------------------------------------
 	$kiwi -&gt; info (&quot;Setting up isolinux boot CD [$isoarch]&quot;);
 	$data = qxx (&quot;cp -a $gfx/* $destination&quot;);
 	$code = $? &gt;&gt; 8;
-	if ($code == 0) {
-		$data = qxx (&quot;cp $CD/isolinux.cfg $destination&quot;);
-		$code = $? &gt;&gt; 8;
-		if ($code == 0) {
-			$data = qxx (&quot;cp $CD/isolinux.msg $destination&quot;);
-			$code = $? &gt;&gt; 8;
-		}
-	}
 	if ($code != 0) {
 		$kiwi -&gt; failed ();
 		$kiwi -&gt; error  (&quot;Copy failed: $data&quot;);
@@ -1374,37 +1390,114 @@
 			qxx (&quot;rm -rf $tmpdir&quot;);
 		}
 		return undef;
-    }
+	}
 	$kiwi -&gt; done ();
 	#==========================================
 	# setup isolinux boot label name
 	#------------------------------------------
 	my $label = &quot;$systemName [ ISO ]&quot;;
 	my $lsafe = &quot;Failsafe-$label&quot;;
-	qxx (&quot;sed -i -e \&quot;s:Live-System:$label:\&quot; $destination/isolinux.cfg&quot;);
-	qxx (&quot;sed -i -e \&quot;s:Live-Failsafe:$lsafe:\&quot; $destination/isolinux.cfg&quot;);
-	qxx (&quot;sed -i -e \&quot;s:Live-System:$label:\&quot; $destination/isolinux.msg&quot;);
-	qxx (&quot;sed -i -e \&quot;s:Live-Failsafe:$lsafe:\&quot; $destination/isolinux.msg&quot;);
+	#==========================================
+	# setup isolinux.cfg file
+	#------------------------------------------
+	$kiwi -&gt; info (&quot;Creating isolinux configuration...&quot;);
+	if (! open (FD, &quot;&gt;$destination/isolinux.cfg&quot;)) {
+		$kiwi -&gt; failed();
+		$kiwi -&gt; error  (&quot;Failed to create $destination/isolinux.cfg: $!&quot;);
+		$kiwi -&gt; failed ();
+		if (! -d $main::RootTree.$baseSystem) {
+			qxx (&quot;rm -rf $main::RootTree&quot;);
+			qxx (&quot;rm -rf $tmpdir&quot;);
+		}
+		return undef;
+	}
+	print FD &quot;default $label&quot;.&quot;\n&quot;;
+	print FD &quot;implicit 1&quot;.&quot;\n&quot;;
+	print FD &quot;gfxboot  bootlogo&quot;.&quot;\n&quot;;
+	print FD &quot;display  isolinux.msg&quot;.&quot;\n&quot;;
+	print FD &quot;prompt   1&quot;.&quot;\n&quot;;
+	print FD &quot;timeout  200&quot;.&quot;\n&quot;;
+	if (! $isxen) {
+		print FD &quot;label $label&quot;.&quot;\n&quot;;
+		print FD &quot;  kernel linux&quot;.&quot;\n&quot;;
+		print FD &quot;  append initrd=initrd ramdisk_size=512000 &quot;;
+		print FD &quot;ramdisk_blocksize=4096 splash=silent showopts&quot;.&quot;\n&quot;;
+		print FD &quot;\n&quot;;
+		print FD &quot;label $lsafe&quot;.&quot;\n&quot;;
+		print FD &quot;  kernel linux&quot;.&quot;\n&quot;;
+		print FD &quot;  append initrd=initrd ramdisk_size=512000 &quot;;
+		print FD &quot;ramdisk_blocksize=4096 splash=silent showopts &quot;;
+		print FD &quot;ide=nodma apm=off acpi=off noresume selinux=0 nosmp &quot;;
+		print FD &quot;noapic maxcpus=0 edd=off&quot;.&quot;\n&quot;;
+	} else {
+		print FD &quot;label $label&quot;.&quot;\n&quot;;
+		print FD &quot;  kernel mboot.c32&quot;.&quot;\n&quot;;
+		print FD &quot;  append xen.gz --- linux ramdisk_size=512000 &quot;;
+		print FD &quot;ramdisk_blocksize=4096 splash=silent &quot;;
+		print FD &quot;--- initrd showopts&quot;.&quot;\n&quot;;
+		print FD &quot;\n&quot;;
+		print FD &quot;label $lsafe&quot;.&quot;\n&quot;;
+		print FD &quot;  kernel mboot.c32&quot;.&quot;\n&quot;;
+		print FD &quot;  append xen.gz --- linux ramdisk_size=512000 &quot;;
+		print FD &quot;ramdisk_blocksize=4096 splash=silent &quot;;
+		print FD &quot;ide=nodma apm=off acpi=off noresume selinux=0 nosmp &quot;;
+		print FD &quot;noapic maxcpus=0 edd=off &quot;;
+		print FD &quot;--- initrd showopts&quot;.&quot;\n&quot;;
+	}
 	#==========================================
 	# setup isolinux checkmedia boot entry
 	#------------------------------------------
 	if (defined $main::ISOCheck) {
-		if (! open (FD,&quot;&gt;&gt;$destination/isolinux.cfg&quot;)) {
-			$kiwi -&gt; error  (&quot;Couldn't open: $destination/isolinux.cfg: $!&quot;);
-			$kiwi -&gt; failed ();
-			if (! -d $main::RootTree.$baseSystem) {
-				qxx (&quot;rm -rf $main::RootTree&quot;);
-				qxx (&quot;rm -rf $tmpdir&quot;);
-			}
-			return undef;
-		}
 		print FD &quot;\n&quot;;
-		print FD &quot;# mediacheck\n&quot;;
-		print FD &quot;label mediacheck\n&quot;;
-		print FD &quot;  kernel linux\n&quot;;
-		print FD &quot;  append initrd=initrd splash=silent mediacheck=1 showopts\n&quot;;
-		close FD;
+		if (! $isxen) {
+			print FD &quot;label mediacheck&quot;.&quot;\n&quot;;
+			print FD &quot;  kernel linux&quot;.&quot;\n&quot;;
+			print FD &quot;  append initrd=initrd splash=silent mediacheck=1 &quot;;
+			print FD &quot;showopts&quot;.&quot;\n&quot;;
+		} else {
+			print FD &quot;label mediacheck&quot;.&quot;\n&quot;;
+			print FD &quot;  kernel mboot.c32&quot;.&quot;\n&quot;;
+			print FD &quot;  append xen.gz --- linux splash=silent mediacheck=1 &quot;;
+			print FD &quot;--- initrd showopts&quot;.&quot;\n&quot;;
+		}
+	}
+	#==========================================
+	# setup default harddisk/memtest entries
+	#------------------------------------------
+	print FD &quot;\n&quot;;
+	print FD &quot;label Hard-Disk&quot;.&quot;\n&quot;;
+	print FD &quot;  localboot 0x80&quot;.&quot;\n&quot;;
+	print FD &quot;\n&quot;;
+	print FD &quot;label memtest&quot;.&quot;\n&quot;;
+	print FD &quot;  kernel memtest&quot;.&quot;\n&quot;;
+	print FD &quot;\n&quot;;
+	close FD;
+	#==========================================
+	# setup isolinux.msg file
+	#------------------------------------------
+	if (! open (FD,&quot;&gt;$destination/isolinux.msg&quot;)) {
+		$kiwi -&gt; failed();
+		$kiwi -&gt; error  (&quot;Failed to create isolinux.msg: $!&quot;);
+		$kiwi -&gt; failed ();
+		if (! -d $main::RootTree.$baseSystem) {
+			qxx (&quot;rm -rf $main::RootTree&quot;);
+			qxx (&quot;rm -rf $tmpdir&quot;);
+		}
+		return undef;
 	}
+	print FD &quot;\n&quot;.&quot;Welcome !&quot;.&quot;\n\n&quot;;
+	print FD &quot;To start the system enter '&quot;.$label.&quot;' and press &lt;return&gt;&quot;.&quot;\n&quot;;
+	print FD &quot;\n\n&quot;;
+	print FD &quot;Available boot options:\n&quot;;
+	print FD &quot;$label     - Live System&quot;.&quot;\n&quot;;
+	print FD &quot;$lsafe     - Live System failsafe mode&quot;.&quot;\n&quot;;
+	print FD &quot;Hard-Disk  - Local boot from hard disk&quot;.&quot;\n&quot;;
+	print FD &quot;mediacheck - Media check&quot;.&quot;\n&quot;;
+	print FD &quot;memtest    - Memory Test&quot;.&quot;\n&quot;;
+	print FD &quot;\n&quot;;
+	print FD &quot;Have a lot of fun...&quot;.&quot;\n&quot;;
+	close FD;
+	$kiwi -&gt; done();
 	#==========================================
 	# remove original kernel and initrd
 	#------------------------------------------
@@ -1428,13 +1521,11 @@
 		}
 		return undef;
 	}
-
 	if ((! defined $gzip) || ($gzip =~ /^unified/)) {
 		print FD &quot;IMAGE=/dev/ram1;$namecd\n&quot;;
 	} else {
 		print FD &quot;IMAGE=/dev/loop1;$namecd\n&quot;;
 	}
-	
 	if (defined $gzip) {
 		if ($gzip =~ /^unified/) {
 			print FD &quot;UNIONFS_CONFIG=/dev/ram1,/dev/loop1,aufs\n&quot;;
@@ -1443,14 +1534,13 @@
 		}
 	}
 	close FD;
-
 	#==========================================
 	# create ISO image
 	#------------------------------------------
 	$kiwi -&gt; info (&quot;Calling mkisofs...&quot;);
 	my $name = $imageDest.&quot;/&quot;.$namerw.&quot;.iso&quot;;
-	$kiwi -&gt; loginfo (&quot;Calling: $CD/isolinux.sh $main::RootTree/CD $name&quot;);
-	$data = qxx (&quot;$CD/isolinux.sh $main::RootTree/CD $name 2&gt;&amp;1&quot;);
+	$kiwi -&gt; loginfo (&quot;Calling: $CD/isolinux $main::RootTree/CD $name&quot;);
+	$data = qxx (&quot;$CD/isolinux $main::RootTree/CD $name 2&gt;&amp;1&quot;);
 	$code = $? &gt;&gt; 8;
 	if ($code != 0) {
 		$kiwi -&gt; failed ();
@@ -3239,9 +3329,10 @@
 	$orig /= 1024;
 	$orig = int ($orig);
 	$size += $spare;
+	$size += $xml -&gt; getImageSizeAdditiveBytes() / 1024;
 	$size /= 1024;
 	$size = int ($size);
-	my $xmlsize = $xml-&gt;getImageSize();
+	my $xmlsize = $xml -&gt; getImageSize();
 	if ($xmlsize eq &quot;auto&quot;) {
 		$xmlsize = $size;
 	}

Modified: kiwi-head/modules/KIWIScheme.rnc
==============================================================================
--- kiwi-head/modules/KIWIScheme.rnc	(original)
+++ kiwi-head/modules/KIWIScheme.rnc	Fri Jun 20 16:02:11 2008
@@ -860,9 +860,15 @@
 	k.size.unit.attribute =
 		## The unit of the image
 		attribute unit { &quot;M&quot; | &quot;G&quot; }
-	k.size.attlist = k.size.unit.attribute?
+	k.size.additive.attribute =
+		attribute additive { xsd:boolean }
+	k.size.attlist =
+		k.size.unit.attribute? &amp;
+		k.size.additive.attribute?
 	k.size =
 		## Specifies the Size of an Image in (M)egabyte or (G)igabyte
+		## If the attribute additive is set the value will be added
+		## to the required size of the image
 		element size {
 			k.size.attlist,
 			text

Modified: kiwi-head/modules/KIWIScheme.rng
==============================================================================
--- kiwi-head/modules/KIWIScheme.rng	(original)
+++ kiwi-head/modules/KIWIScheme.rng	Fri Jun 20 16:02:11 2008
@@ -1163,14 +1163,26 @@
         &lt;/choice&gt;
       &lt;/attribute&gt;
     &lt;/define&gt;
+    &lt;define name=&quot;k.size.additive.attribute&quot;&gt;
+      &lt;attribute name=&quot;additive&quot;&gt;
+        &lt;data type=&quot;boolean&quot;/&gt;
+      &lt;/attribute&gt;
+    &lt;/define&gt;
     &lt;define name=&quot;k.size.attlist&quot;&gt;
-      &lt;optional&gt;
-        &lt;ref name=&quot;k.size.unit.attribute&quot;/&gt;
-      &lt;/optional&gt;
+      &lt;interleave&gt;
+        &lt;optional&gt;
+          &lt;ref name=&quot;k.size.unit.attribute&quot;/&gt;
+        &lt;/optional&gt;
+        &lt;optional&gt;
+          &lt;ref name=&quot;k.size.additive.attribute&quot;/&gt;
+        &lt;/optional&gt;
+      &lt;/interleave&gt;
     &lt;/define&gt;
     &lt;define name=&quot;k.size&quot;&gt;
       &lt;element name=&quot;size&quot;&gt;
-        &lt;a:documentation&gt;Specifies the Size of an Image in (M)egabyte or (G)igabyte&lt;/a:documentation&gt;
+        &lt;a:documentation&gt;Specifies the Size of an Image in (M)egabyte or (G)igabyte
+If the attribute additive is set the value will be added
+to the required size of the image&lt;/a:documentation&gt;
         &lt;ref name=&quot;k.size.attlist&quot;/&gt;
         &lt;text/&gt;
       &lt;/element&gt;

Modified: kiwi-head/modules/KIWIXML.pm
==============================================================================
--- kiwi-head/modules/KIWIXML.pm	(original)
+++ kiwi-head/modules/KIWIXML.pm	Fri Jun 20 16:02:11 2008
@@ -398,25 +398,45 @@
 	my $node = $this-&gt;{optionsNodeList} -&gt; get_node(1);
 	my $size = $node -&gt; getElementsByTagName (&quot;size&quot;);
 	if ($size) {
-		my $unit = $node -&gt; getElementsByTagName (&quot;size&quot;)
-			-&gt; get_node(1) -&gt; getAttribute(&quot;unit&quot;);
-		return $size.$unit;
+		my $plus = $node -&gt; getElementsByTagName (&quot;size&quot;)
+			-&gt; get_node(1) -&gt; getAttribute(&quot;additive&quot;);
+		if ((! defined $plus) || ($plus eq &quot;false&quot;) || ($plus eq &quot;0&quot;)) {
+			my $unit = $node -&gt; getElementsByTagName (&quot;size&quot;)
+				-&gt; get_node(1) -&gt; getAttribute(&quot;unit&quot;);
+			# /.../
+			# the fixed size value was set, we will use this value
+			# connected with the unit string
+			# ----
+			return $size.$unit;
+		} else {
+			# /.../
+			# the size is setup as additive value to the required
+			# size. The real size is calculated later and the additive
+			# value is added at that point
+			# ---
+			return &quot;auto&quot;;
+		}
 	} else {
 		return &quot;auto&quot;;
 	}
 }
 
 #==========================================
-# getImageSizeBytes
+# getImageSizeAdditiveBytes
 #------------------------------------------
-sub getImageSizeBytes {
+sub getImageSizeAdditiveBytes {
 	# ...
-	# Get the predefined size of the logical extend
-	# as byte value
+	# Get the predefined size if the attribute additive
+	# was set to true
 	# ---
 	my $this = shift;
 	my $node = $this-&gt;{optionsNodeList} -&gt; get_node(1);
 	my $size = $node -&gt; getElementsByTagName (&quot;size&quot;);
+	my $plus = $node -&gt; getElementsByTagName (&quot;size&quot;)
+		-&gt; get_node(1) -&gt; getAttribute(&quot;additive&quot;);
+	if ((! defined $plus) || ($plus eq &quot;false&quot;) || ($plus eq &quot;0&quot;)) {
+		return 0;
+	}
 	if ($size) {
 		my $byte = int $size;
 		my $unit = $node -&gt; getElementsByTagName (&quot;size&quot;)
@@ -430,6 +450,49 @@
 		# no unit specified assume MB...
 		return $byte * 1024 * 1024;
 	} else {
+		return 0;
+	}
+}
+
+#==========================================
+# getImageSizeBytes
+#------------------------------------------
+sub getImageSizeBytes {
+	# ...
+	# Get the predefined size of the logical extend
+	# as byte value
+	# ---
+	my $this = shift;
+	my $node = $this-&gt;{optionsNodeList} -&gt; get_node(1);
+	my $size = $node -&gt; getElementsByTagName (&quot;size&quot;);
+	if ($size) {
+		my $byte = int $size;
+		my $plus = $node -&gt; getElementsByTagName (&quot;size&quot;)
+			-&gt; get_node(1) -&gt; getAttribute(&quot;additive&quot;);
+		if ((! defined $plus) || ($plus eq &quot;false&quot;) || ($plus eq &quot;0&quot;)) {
+			# /.../
+			# the fixed size value was set, we will use this value
+			# and return a byte number
+			# ----
+			my $unit = $node -&gt; getElementsByTagName (&quot;size&quot;)
+				-&gt; get_node(1) -&gt; getAttribute(&quot;unit&quot;);
+			if ($unit eq &quot;M&quot;) {
+				return $byte * 1024 * 1024;
+			}
+			if ($unit eq &quot;G&quot;) {
+				return $byte * 1024 * 1024 * 1024;
+			}
+			# no unit specified assume MB...
+			return $byte * 1024 * 1024;
+		} else {
+			# /.../
+			# the size is setup as additive value to the required
+			# size. The real size is calculated later and the additive
+			# value is added at that point
+			# ---
+			return &quot;auto&quot;;
+		}
+	} else {
 		return &quot;auto&quot;;
 	}
 }

Modified: kiwi-head/rpm/kiwi.changes
==============================================================================
--- kiwi-head/rpm/kiwi.changes	(original)
+++ kiwi-head/rpm/kiwi.changes	Fri Jun 20 16:02:11 2008
@@ -2,6 +2,9 @@
 Thu Jun 19 10:25:36 CEST 2008 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>
 
 - v2.43
+- added support for additive size setup (bnc #401747)
+- removed cdboot directory from isoboot descriptions. kiwi
+  creates the isolinux configuration files now in KIWIImage.pm
 - fixed partition size calculation in oemboot
 - fixed xenboot, make it smaller, remove unused kernel
   modules (network,scsi,cdrom,reiserfs,fat,vfat)

Added: kiwi-head/system/boot/isoboot/suse-10.1/root/isolinux
==============================================================================
--- (empty file)
+++ kiwi-head/system/boot/isoboot/suse-10.1/root/isolinux	Fri Jun 20 16:02:11 2008
@@ -0,0 +1 @@
+link ../../suse-isolinux
\ No newline at end of file

Added: kiwi-head/system/boot/isoboot/suse-10.2/root/isolinux
==============================================================================
--- (empty file)
+++ kiwi-head/system/boot/isoboot/suse-10.2/root/isolinux	Fri Jun 20 16:02:11 2008
@@ -0,0 +1 @@
+link ../../suse-isolinux
\ No newline at end of file

Added: kiwi-head/system/boot/isoboot/suse-10.3/root/isolinux
==============================================================================
--- (empty file)
+++ kiwi-head/system/boot/isoboot/suse-10.3/root/isolinux	Fri Jun 20 16:02:11 2008
@@ -0,0 +1 @@
+link ../../suse-isolinux
\ No newline at end of file

Added: kiwi-head/system/boot/isoboot/suse-11.0/root/isolinux
==============================================================================
--- (empty file)
+++ kiwi-head/system/boot/isoboot/suse-11.0/root/isolinux	Fri Jun 20 16:02:11 2008
@@ -0,0 +1 @@
+link ../../suse-isolinux
\ No newline at end of file

Added: kiwi-head/system/boot/isoboot/suse-SLED10/root/isolinux
==============================================================================
--- (empty file)
+++ kiwi-head/system/boot/isoboot/suse-SLED10/root/isolinux	Fri Jun 20 16:02:11 2008
@@ -0,0 +1 @@
+link ../../suse-isolinux
\ No newline at end of file

Added: kiwi-head/system/boot/isoboot/suse-SLES10/root/isolinux
==============================================================================
--- (empty file)
+++ kiwi-head/system/boot/isoboot/suse-SLES10/root/isolinux	Fri Jun 20 16:02:11 2008
@@ -0,0 +1 @@
+link ../../suse-isolinux
\ No newline at end of file

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000488.html">[Kiwi-devel] [SVN:KIWI-Team] r1398 - kiwi-head/modules
</A></li>
	<LI>Next message: <A HREF="000490.html">[Kiwi-devel] [SVN:KIWI-Team] r1400 - kiwi-head/modules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#489">[ date ]</a>
              <a href="thread.html#489">[ thread ]</a>
              <a href="subject.html#489">[ subject ]</a>
              <a href="author.html#489">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
