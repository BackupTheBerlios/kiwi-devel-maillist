<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] kiwi-ltsp-setup -s Fails on SuSE 10.3
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20kiwi-ltsp-setup%20-s%20Fails%20on%20SuSE%2010.3&In-Reply-To=%3C8eaf53a556121281b4b8fc46bc3b8d24%40ict.olvp.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000267.html">
   <LINK REL="Next"  HREF="000269.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] kiwi-ltsp-setup -s Fails on SuSE 10.3</H1>
    <B>Mark Demeyer</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20kiwi-ltsp-setup%20-s%20Fails%20on%20SuSE%2010.3&In-Reply-To=%3C8eaf53a556121281b4b8fc46bc3b8d24%40ict.olvp.be%3E"
       TITLE="[Kiwi-devel] kiwi-ltsp-setup -s Fails on SuSE 10.3">mark.demeyer at olvp.be
       </A><BR>
    <I>Thu Nov 15 14:12:39 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000267.html">[Kiwi-devel] kiwi-ltsp-setup -s Fails on SuSE 10.3
</A></li>
        <LI>Next message: <A HREF="000269.html">[Kiwi-devel] kiwi-ltsp-setup -s Fails on SuSE 10.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#268">[ date ]</a>
              <a href="thread.html#268">[ thread ]</a>
              <a href="subject.html#268">[ subject ]</a>
              <a href="author.html#268">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear,

I re&#239;nstalled our ltsp server today (from Opensuse 10.3-DVD), installed the
packages via the ymp script on www.opensuse.org/ltsp and did the usual
sysconfig stuff. I ran into the $SERVER_IP problem to (a value that
migrated to the end of kiwi-ltsp file) and moved the SERVER_IP entry to its
right location (see attached file). When running kiwi-ltsp-setup -s
following happens:


-------

olvp-test:~ # kiwi-ltsp-setup -s
KIWI-LTSP: 2007-11-15 15:02:07: ====== Starting ======
KIWI-LTSP: 2007-11-15 15:02:07: Setting up the destination path
KIWI-LTSP: 2007-11-15 15:02:07: /srv/kiwi-ltsp exists. Moving to
&quot;/srv/kiwi-ltsp.0711151502&quot;
KIWI-LTSP: 2007-11-15 15:02:07: Setting up the hosts file and lts.conf
KIWI-LTSP: 2007-11-15 15:02:07: Running the KIWI LTSP creation.
KIWI-LTSP: 2007-11-15 15:02:07: /srv/kiwi-ltsp-nfs exists. Moving to
&quot;/srv/kiwi-ltsp-nfs.0711151502&quot;
Nov-15 15:02 &lt;1&gt; : Setting log file to: terminal
Nov-15 15:02 &lt;1&gt; : Reading image description...   done
Nov-15 15:02 &lt;1&gt; : Checking for default baseroot in XML data...   notset
Nov-15 15:02 &lt;1&gt; : Setting up package manager: smart   done
Nov-15 15:02 &lt;1&gt; : Setting RPM signature check to: False   done
Nov-15 15:02 &lt;1&gt; : Creating default template files for new root system  
done
Nov-15 15:02 &lt;1&gt; : Adding local smart channel: kiwi1-8595   done
Nov-15 15:02 &lt;1&gt; : Adding local smart channel: kiwi2-8595   done
Nov-15 15:02 &lt;1&gt; : Initializing image system on: /srv/kiwi-ltsp-nfs...+
trap clean INT TERM
+ touch /var/lock/kiwi-init.lock
+ smart --data-dir=/var/cache/kiwi/smart update kiwi1-8595 kiwi2-8595
+ SPID=8661
+ wait 8661
Traceback (most recent call last):
  File &quot;/usr/bin/smart&quot;, line 194, in &lt;module&gt;
    main(sys.argv[1:])
  File &quot;/usr/bin/smart&quot;, line 167, in main
    exitcode = iface.run(opts.command, opts.argv)
  File &quot;/usr/lib/python2.5/site-packages/smart/interface.py&quot;, line 53, in
run
    result = _command.main(self._ctrl, opts)
  File &quot;/usr/lib/python2.5/site-packages/smart/commands/update.py&quot;, line
77, in main
    ctrl.reloadChannels()
  File &quot;/usr/lib/python2.5/site-packages/smart/control.py&quot;, line 352, in
reloadChannels
    if not channel.fetch(self._fetcher, progress):
  File &quot;/usr/lib/python2.5/site-packages/smart/channels/yast2.py&quot;, line 68,
in fetch
    digest = getFileDigest(fetched.getTargetPath())
  File &quot;/usr/lib/python2.5/site-packages/smart/util/filetools.py&quot;, line 33,
in getFileDigest
    data = file.read(BLOCKSIZE)
IOError: [Errno 5] Input/output error
+ test 1 = 0
+ SPID=8662
+ wait 8662
+ echo 1
+ rm -f '/srv/kiwi-ltsp-nfs/etc/smart/channels/*'
+ rm -f /var/lock/kiwi-init.lock
   done
Nov-15 15:02 &lt;1&gt; : Removing smart channel(s): kiwi1-8595 kiwi2-8595   done
Nov-15 15:02 &lt;1&gt; : Reset RPM signature check to: True   done
Nov-15 15:02 &lt;1&gt; : Mounting required file systems   done
Nov-15 15:02 &lt;1&gt; : Mounting local channel: kiwi1-8595   done
Nov-15 15:02 &lt;1&gt; : Mounting local channel: kiwi2-8595   skipped
Nov-15 15:02 &lt;2&gt; : Path /usr/share/kiwi/image/ltsp/suse-10.3/extra-packages
is writable, trying read-only mount   skipped
Nov-15 15:02 &lt;2&gt; : Couldn't mount read-only, using bind mount   done
Nov-15 15:02 &lt;1&gt; : Setting RPM signature check to: Falsechroot: cannot run
command `bash': No such file or directory
   failed
Nov-15 15:02 &lt;3&gt; : 
Nov-15 15:02 &lt;3&gt; : Image installation failed   failed
Nov-15 15:02 &lt;1&gt; : Umounting path:
/srv/kiwi-ltsp-nfs//base-system/usr/share/kiwi/image/ltsp/suse-10.3/extra-packages
Nov-15 15:02 &lt;1&gt; : Umounting path:
/srv/kiwi-ltsp-nfs//base-system/media/SU1030.001
Nov-15 15:02 &lt;1&gt; : Umounting path: /srv/kiwi-ltsp-nfs/dev/pts
Nov-15 15:02 &lt;1&gt; : Umounting path: /srv/kiwi-ltsp-nfs/sys
Nov-15 15:02 &lt;1&gt; : Umounting path: /srv/kiwi-ltsp-nfs/proc
Nov-15 15:02 &lt;3&gt; : KIWI exited with error(s)   done
KIWI-LTSP: 2007-11-15 15:02:10: Setting up the SSH keys
Setting up ssh_known_hosts in: 
  /srv/ftp
WARNING: /srv/ftp/etc/ssh not found. skipping...
  /srv/kiwi-ltsp-nfs
WARNING: /srv/kiwi-ltsp-nfs/etc/ssh not found. skipping...
  /srv/kiwi-ltsp.0711151449
WARNING: /srv/kiwi-ltsp.0711151449/etc/ssh not found. skipping...
  /srv/kiwi-ltsp.0711151502
WARNING: /srv/kiwi-ltsp.0711151502/etc/ssh not found. skipping...
  /srv/www
WARNING: /srv/www/etc/ssh not found. skipping...
  /srv/tftpboot
WARNING: /srv/tftpboot/etc/ssh not found. skipping...
  /srv/kiwi-ltsp-nfs.0711151449
WARNING: /srv/kiwi-ltsp-nfs.0711151449/etc/ssh not found. skipping...
  /srv/kiwi-ltsp-nfs.0711151502
WARNING: /srv/kiwi-ltsp-nfs.0711151502/etc/ssh not found. skipping...
Nov-15 15:02 &lt;1&gt; : Setting log file to: terminal
Nov-15 15:02 &lt;1&gt; : Reading image description...   failed
Nov-15 15:02 &lt;3&gt; : Cannot open control file:
/srv/kiwi-ltsp-nfs/image/config.xml   failed
Nov-15 15:02 &lt;3&gt; : KIWI exited with error(s)   done
KIWI-LTSP: 2007-11-15 15:02:11: Could not create KIWI LTSP Image. Aborting!
 
-------

I did the installation on another server and ... same issue. 

Any idea what causes this? 

Thanks a lot in advance,

Mark Demeyer




-------------- next part --------------
A non-text attachment was scrubbed...
Name: kiwi-ltsp
Type: application/octet-stream
Size: 4278 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/kiwi-devel/attachments/20071115/62475ae1/attachment.obj">https://lists.berlios.de/pipermail/kiwi-devel/attachments/20071115/62475ae1/attachment.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000267.html">[Kiwi-devel] kiwi-ltsp-setup -s Fails on SuSE 10.3
</A></li>
	<LI>Next message: <A HREF="000269.html">[Kiwi-devel] kiwi-ltsp-setup -s Fails on SuSE 10.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#268">[ date ]</a>
              <a href="thread.html#268">[ thread ]</a>
              <a href="subject.html#268">[ subject ]</a>
              <a href="author.html#268">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
