<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 8780d7f50ac106e53cd5e810e383521ddc1afb06
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%208780d7f50ac106e53cd5e810e383521ddc1afb06&In-Reply-To=%3C200903301018.n2UAI6ln016789%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001149.html">
   <LINK REL="Next"  HREF="001151.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 8780d7f50ac106e53cd5e810e383521ddc1afb06</H1>
    <B>marcus_schaefer at BerliOS</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%208780d7f50ac106e53cd5e810e383521ddc1afb06&In-Reply-To=%3C200903301018.n2UAI6ln016789%40sheep.berlios.de%3E"
       TITLE="[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 8780d7f50ac106e53cd5e810e383521ddc1afb06">marcus_schaefer at mail.berlios.de
       </A><BR>
    <I>Mon Mar 30 12:18:06 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001149.html">[Kiwi-devel] /dev/mapper/loop0p1: Cannot create filesystem	with	requested number of inodes
</A></li>
        <LI>Next message: <A HREF="001151.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. eec9d1b551fda49650be90774366643b084e3878
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1150">[ date ]</a>
              <a href="thread.html#1150">[ thread ]</a>
              <a href="subject.html#1150">[ subject ]</a>
              <a href="author.html#1150">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;Project kiwi at BerliOS&quot;.

The branch, master has been updated
       via  8780d7f50ac106e53cd5e810e383521ddc1afb06 (commit)
      from  eb736e56fbe348c96d3b730bbec7d3e82ab8135b (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 8780d7f50ac106e53cd5e810e383521ddc1afb06
Author: Marcus Sch&#195;&#164;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&gt;
Date:   Mon Mar 30 12:17:45 2009 +0200

    - v3.39
    - added a xendomain attribute in config.xml to be able to
      distinguish whether a virtual disk image should be a Xen
      dom0 host system or a Xen domU guest system. If no domain
      is set a dom0 image will be created
    - added xenServer function to check if we run a Xen host
      or guest system. The bootloader setup is different for
      dom0 or domU. Adapt setupBootLoader* functions
    - allow filesystem resizing to be used in isoboot

-----------------------------------------------------------------------

Summary of changes:
diff --git a/doc/LaTex/Revision.txt b/doc/LaTex/Revision.txt
index 05f6227..423638a 100644
--- a/doc/LaTex/Revision.txt
+++ b/doc/LaTex/Revision.txt
@@ -1 +1 @@
-3.38
\ No newline at end of file
+3.39
\ No newline at end of file
diff --git a/doc/LaTex/xen.tex b/doc/LaTex/xen.tex
index a8f57a0..767f391 100644
--- a/doc/LaTex/xen.tex
+++ b/doc/LaTex/xen.tex
@@ -70,13 +70,14 @@ need in this para virtual environment.
    &lt;package name=&quot;kernel-xen&quot;/&gt;
    &lt;package name=&quot;xen&quot;/&gt;
 &lt;/packages&gt;
-&lt;xenconfig memory=&quot;512&quot;&gt;
+&lt;xenconfig memory=&quot;512&quot; domain=&quot;domU&quot;&gt;
    &lt;xendisk device=&quot;/dev/sda&quot;/&gt;
 &lt;/xenconfig&gt;
 \end{verbatim}
 \end{Command}
 
 If this information is present KIWI will create a Xen domain U
+(or domain 0)
 configuration with 512 MB of RAM and expects the disk at /dev/sda.
 Additional information to setup the Xen guest machine properties are
 explained in the \textbf{xenconfig} section. The KIWI Xen domain U
diff --git a/doc/kiwi.pdf b/doc/kiwi.pdf
index ccc35a5..5bbace5 100644
Binary files a/doc/kiwi.pdf and b/doc/kiwi.pdf differ
diff --git a/kiwi.pl b/kiwi.pl
index e248837..ae4771c 100755
--- a/kiwi.pl
+++ b/kiwi.pl
@@ -44,7 +44,7 @@ use KIWITest;
 #============================================
 # Globals (Version)
 #--------------------------------------------
-our $Version       = &quot;3.38&quot;;
+our $Version       = &quot;3.39&quot;;
 our $Publisher     = &quot;SUSE LINUX Products GmbH&quot;;
 our $Preparer      = &quot;KIWI - <A HREF="http://kiwi.berlios.de">http://kiwi.berlios.de</A>&quot;;
 our $openSUSE      = &quot;<A HREF="http://download.opensuse.org">http://download.opensuse.org</A>&quot;;
diff --git a/modules/KIWIBoot.pm b/modules/KIWIBoot.pm
index f1f224e..8a5a1a5 100644
--- a/modules/KIWIBoot.pm
+++ b/modules/KIWIBoot.pm
@@ -79,6 +79,7 @@ sub new {
 	my $result;
 	my $status;
 	my $isxen;
+	my $xendomain;
 	my $xengz;
 	my $xml;
 	#==========================================
@@ -119,14 +120,15 @@ sub new {
 		$zipped = 1;
 	}
 	#==========================================
-	# xen kernel used...
+	# xen kernel used
 	#------------------------------------------
 	$isxen = 0;
 	$xengz = $initrd;
 	if ($zipped) {
 		$xengz =~ s/\.gz$//;
 	}
-	foreach my $xen (glob (&quot;$xengz*xen.gz&quot;)) {
+	$xengz =~ s/\.splash$//;
+	foreach my $xen (glob (&quot;$xengz*xen*.gz&quot;)) {
 		$isxen = 1;
 		$xengz = $xen;
 		last;
@@ -265,6 +267,17 @@ sub new {
 		}
 	}
 	#==========================================
+	# find Xen domain configuration
+	#==========================================
+	if ($isxen &amp;&amp; defined $xml) {
+		my %xenc = $xml -&gt; getXenConfig();
+		if (defined $xenc{xen_domain}) {
+			$xendomain = $xenc{xen_domain};
+		} else {
+			$xendomain = &quot;dom0&quot;;
+		}
+	}
+	#==========================================
 	# setup virtual disk size
 	#------------------------------------------
 	if ((! defined $vmsize) &amp;&amp; (defined $system)) {
@@ -360,23 +373,24 @@ sub new {
 	#==========================================
 	# Store object data (2)
 	#------------------------------------------
-	$this-&gt;{kiwi}   = $kiwi;
-	$this-&gt;{initrd} = $initrd;
-	$this-&gt;{system} = $system;
-	$this-&gt;{kernel} = $kernel;
-	$this-&gt;{vmmbyte}= $vmmbyte;
-	$this-&gt;{vmsize} = $vmsize;
-	$this-&gt;{syszip} = $syszip;
-	$this-&gt;{device} = $device;
-	$this-&gt;{format} = $format;
-	$this-&gt;{zipped} = $zipped;
-	$this-&gt;{isxen}  = $isxen;
-	$this-&gt;{xengz}  = $xengz;
-	$this-&gt;{arch}   = $arch;
-	$this-&gt;{ptool}  = $main::Partitioner;
-	$this-&gt;{lvm}    = $lvm;
-	$this-&gt;{vga}    = $vga;
-	$this-&gt;{xml}    = $xml;
+	$this-&gt;{kiwi}      = $kiwi;
+	$this-&gt;{initrd}    = $initrd;
+	$this-&gt;{system}    = $system;
+	$this-&gt;{kernel}    = $kernel;
+	$this-&gt;{vmmbyte}   = $vmmbyte;
+	$this-&gt;{vmsize}    = $vmsize;
+	$this-&gt;{syszip}    = $syszip;
+	$this-&gt;{device}    = $device;
+	$this-&gt;{format}    = $format;
+	$this-&gt;{zipped}    = $zipped;
+	$this-&gt;{isxen}     = $isxen;
+	$this-&gt;{xengz}     = $xengz;
+	$this-&gt;{arch}      = $arch;
+	$this-&gt;{ptool}     = $main::Partitioner;
+	$this-&gt;{lvm}       = $lvm;
+	$this-&gt;{vga}       = $vga;
+	$this-&gt;{xml}       = $xml;
+	$this-&gt;{xendomain} = $xendomain;
 	return $this;
 }
 
@@ -393,6 +407,7 @@ sub createBootStructure {
 	my $zipped = $this-&gt;{zipped};
 	my $isxen  = $this-&gt;{isxen};
 	my $xengz  = $this-&gt;{xengz};
+	my $xendomain = $this-&gt;{xendomain};
 	my $lname  = &quot;linux&quot;;
 	my $iname  = &quot;initrd&quot;;
 	my $xname  = &quot;xen.gz&quot;;
@@ -417,6 +432,12 @@ sub createBootStructure {
 		return undef;
 	}
 	if ($zipped) {
+		if ($isxen) {
+			# deflate/inflate initrd to make xen happy
+			my $irdunc = $initrd;
+			$irdunc =~ s/\.gz//;
+			qxx (&quot;$main::Gzip -d $initrd &amp;&amp; $main::Gzip $irdunc&quot;);
+		}
 		$status = qxx ( &quot;cp $initrd $tmpdir/boot/$iname 2&gt;&amp;1&quot; );
 	} else {
 		$status = qxx ( &quot;cat $initrd | $main::Gzip &gt; $tmpdir/boot/$iname&quot; );
@@ -438,7 +459,7 @@ sub createBootStructure {
 		$this -&gt; cleanTmp ();
 		return undef;
 	}
-	if ($isxen) {
+	if ($isxen &amp;&amp; $xendomain eq &quot;dom0&quot;) {
 		$status = qxx ( &quot;cp $xengz $tmpdir/boot/$xname 2&gt;&amp;1&quot; );
 		$result = $? &gt;&gt; 8;
 		if ($result != 0) {
@@ -516,7 +537,6 @@ sub setupBootStick {
 	my $loopdir   = $this-&gt;{loopdir};
 	my $zipped    = $this-&gt;{zipped};
 	my $isxen     = $this-&gt;{isxen};
-	my $xengz     = $this-&gt;{xengz};
 	my $lvm       = $this-&gt;{lvm};
 	my %deviceMap = ();
 	my @commands  = ();
@@ -1236,7 +1256,6 @@ sub setupInstallCD {
 	my $oldird    = $this-&gt;{initrd};
 	my $zipped    = $this-&gt;{zipped};
 	my $isxen     = $this-&gt;{isxen};
-	my $xengz     = $this-&gt;{xengz};
 	my $md5name   = $system;
 	my $imgtype   = &quot;oem&quot;;
 	my $gotsys    = 1;
@@ -1489,7 +1508,6 @@ sub setupInstallStick {
 	my $loopdir   = $this-&gt;{loopdir};
 	my $zipped    = $this-&gt;{zipped};
 	my $isxen     = $this-&gt;{isxen};
-	my $xengz     = $this-&gt;{xengz};
 	my $irdsize   = -s $initrd;
 	my $diskname  = $system.&quot;.install.raw&quot;;
 	my $md5name   = $system;
@@ -1871,7 +1889,6 @@ sub setupBootDisk {
 	my $loopdir   = $this-&gt;{loopdir};
 	my $zipped    = $this-&gt;{zipped};
 	my $isxen     = $this-&gt;{isxen};
-	my $xengz     = $this-&gt;{xengz};
 	my $lvm       = $this-&gt;{lvm};
 	my $diskname  = $system.&quot;.raw&quot;;
 	my %deviceMap = ();
@@ -3324,10 +3341,12 @@ sub setupBootLoaderConfiguration {
 	my $tmpdir   = $this-&gt;{tmpdir};
 	my $initrd   = $this-&gt;{initrd};
 	my $isxen    = $this-&gt;{isxen};
+	my $xendomain= $this-&gt;{xendomain};
 	my $imgtype  = $this-&gt;{imgtype};
 	my $bootpart = $this-&gt;{bootpart};
 	my $label    = $this-&gt;{bootlabel};
 	my $vga      = $this-&gt;{vga};
+	my $title;
 	#==========================================
 	# Check boot partition number
 	#------------------------------------------
@@ -3368,19 +3387,22 @@ sub setupBootLoaderConfiguration {
 		print FD &quot;default 0\n&quot;;
 		print FD &quot;timeout 10\n&quot;;
 		if ($type =~ /^KIWI CD/) {
+			$title = $this -&gt; makeLabel (&quot;Restore $label&quot;);
 			print FD &quot;gfxmenu (cd)/boot/message\n&quot;;
-			print FD &quot;title _Restore &quot;.$label.&quot;_\n&quot;;
+			print FD &quot;title $title\n&quot;;
 		} elsif ($type =~ /^KIWI USB/) {
+			$title = $this -&gt; makeLabel (&quot;Restore $label&quot;);
 			print FD &quot;gfxmenu (hd0,0)/boot/message\n&quot;;
-			print FD &quot;title _Restore &quot;.$label.&quot;_\n&quot;;
+			print FD &quot;title $title\n&quot;;
 		} else {
+			$title = $this -&gt; makeLabel (&quot;$label [ $type ]&quot;);
 			print FD &quot;gfxmenu (hd0,$bootpart)/boot/message\n&quot;;
-			print FD &quot;title _&quot;.$label.&quot; [ &quot;.$type.&quot; ]_\n&quot;;
+			print FD &quot;title $title\n&quot;;
 		}
 		#==========================================
 		# Standard boot
 		#------------------------------------------
-		if (! $isxen) {
+		if (! $isxen || ($isxen &amp;&amp; $xendomain eq &quot;domU&quot;)) {
 			if ($type =~ /^KIWI CD/) {
 				print FD &quot; kernel (cd)/boot/linux vga=$vga splash=silent&quot;;
 				print FD &quot; ramdisk_size=512000 ramdisk_blocksize=4096&quot;;
@@ -3441,14 +3463,9 @@ sub setupBootLoaderConfiguration {
 		#==========================================
 		# Failsafe boot
 		#------------------------------------------
-		if ($type =~ /^KIWI CD/) {
-			print FD &quot;title _Failsafe -- Restore &quot;.$label.&quot;_\n&quot;;
-		} elsif ($type =~ /^KIWI USB/) {
-			print FD &quot;title _Failsafe -- Restore &quot;.$label.&quot;_\n&quot;;
-		} else {
-			print FD &quot;title _Failsafe -- &quot;.$label.&quot; [ &quot;.$type.&quot; ]_\n&quot;;
-		}
-		if (! $isxen) {
+		$title = $this -&gt; makeLabel (&quot;Failsafe -- $title&quot;);
+		print FD &quot;title $title\n&quot;;
+		if (! $isxen || ($isxen &amp;&amp; $xendomain eq &quot;domU&quot;)) {
 			if ($type =~ /^KIWI CD/) {
 				print FD &quot; kernel (cd)/boot/linux vga=$vga splash=silent&quot;;
 				print FD &quot; ramdisk_size=512000 ramdisk_blocksize=4096&quot;;
@@ -4388,4 +4405,18 @@ sub deleteVolumeGroup {
 	return $this;
 }
 
+#==========================================
+# makeLabel
+#------------------------------------------
+sub makeLabel {
+	# ...
+	# grub handles spaces as &quot;_&quot;, so we replace
+	# each space with an underscore
+	# ----
+	my $this = shift;
+	my $label = shift;
+	$label =~ s/ /_/g;
+	return $label;
+}
+
 1; 
diff --git a/modules/KIWILinuxRC.sh b/modules/KIWILinuxRC.sh
index e98ad44..19f695c 100644
--- a/modules/KIWILinuxRC.sh
+++ b/modules/KIWILinuxRC.sh
@@ -731,11 +731,11 @@ function setupBootLoaderGrubRecovery {
 	# create recovery entry
 	#--------------------------------------
 	if [ ! -z &quot;$OEM_RECOVERY&quot; ];then
-		echo &quot;title _Recovery_&quot;                           &gt;&gt; $menu
+		echo &quot;title Recovery&quot;                             &gt;&gt; $menu
 		gdev_recovery=&quot;(hd0,3)&quot;
 		rdev_recovery=$OEM_RECOVERY
 		diskByID=`getDiskID $rdev_recovery`
-		if [ $kernel = &quot;vmlinuz-xen&quot; ];then
+		if xenServer;then
 			echo &quot; root $gdev_recovery&quot;                   &gt;&gt; $menu
 			echo &quot; kernel /boot/xen.gz&quot;                   &gt;&gt; $menu
 			echo -n &quot; module /boot/$kernel&quot;               &gt;&gt; $menu
@@ -768,7 +768,7 @@ function setupBootLoaderSyslinux {
 	local destsPrefix=$2  # base dir for the config files
 	local gnum=$3         # boot partition ID
 	local rdev=$4         # root partition
-	local gfix=$5         # syslinux title
+	local gfix=$5         # syslinux title postfix
 	local swap=$6         # optional swap partition
 	local conf=$destsPrefix/boot/syslinux/syslinux.cfg
 	local sysb=$destsPrefix/etc/sysconfig/bootloader
@@ -776,6 +776,7 @@ function setupBootLoaderSyslinux {
 	local kname=&quot;&quot;
 	local kernel=&quot;&quot;
 	local initrd=&quot;&quot;
+	local title=&quot;&quot;
 	local fbmode=$vga
 	local xencons=$xencons
 	if [ -z &quot;$fbmode&quot; ];then
@@ -825,7 +826,7 @@ function setupBootLoaderSyslinux {
 	IFS=&quot;,&quot; ; for i in $KERNEL_LIST;do
 		if test ! -z &quot;$i&quot;;then
 			#======================================
-			# create standard entry
+			# setup syslinux requirements
 			#--------------------------------------
 			kernel=`echo $i | cut -f1 -d:`
 			initrd=`echo $i | cut -f2 -d:`
@@ -835,23 +836,25 @@ function setupBootLoaderSyslinux {
 			#--------------------------------------
 			kernel=&quot;linux.$count&quot;
 			initrd=&quot;initrd.$count&quot;
-			echo &quot;LABEL Linux&quot; &gt;&gt; $conf
 			if ! echo $gfix | grep -E -q &quot;OEM|USB|VMX|unknown&quot;;then
-				echo &quot;MENU LABEL &quot;&quot;$gfix&quot;                      &gt;&gt; $conf
+				title=$(makeLabel &quot;$gfix&quot;)
 			elif [ -z &quot;$kiwi_oemtitle&quot; ];then
-				echo &quot;MENU LABEL &quot;&quot;$kname&quot;&quot; [ &quot;$gfix&quot; ]&quot;       &gt;&gt; $conf
+				title=$(makeLabel &quot;$kname [ $gfix ]&quot;)
 			else
 				if [ &quot;$count&quot; = &quot;1&quot; ];then
-					echo -n &quot;MENU LABEL &quot;&quot;$kiwi_oemtitle&quot;      &gt;&gt; $conf
-					echo &quot; [ &quot;&quot;$gfix&quot;&quot; ]&quot;                      &gt;&gt; $conf
+					title=$(makeLabel &quot;$kiwi_oemtitle [ $gfix ]&quot;)
 				else
-					echo -n &quot;MENU LABEL &quot;&quot;$kiwi_oemtitle&quot;      &gt;&gt; $conf
-					echo &quot;-&quot;&quot;$kname&quot;&quot; [ &quot;&quot;$gfix&quot;&quot; ]&quot;           &gt;&gt; $conf
+					title=$(makeLabel &quot;$kiwi_oemtitle-$kname [ $gfix ]&quot;)
 				fi
 			fi
-			if [ $kernel = &quot;vmlinuz-xen&quot; ];then
+			#======================================
+			# create standard entry
+			#--------------------------------------
+			echo &quot;LABEL Linux&quot; &gt;&gt; $conf
+			echo &quot;MENU LABEL $title&quot;                           &gt;&gt; $conf
+			if xenServer;then
 				systemException \
-					&quot;*** syslinux xen boot not implemented ***&quot; \
+					&quot;*** syslinux: Xen dom0 boot not implemented ***&quot; \
 				&quot;reboot&quot;
 			else
 				echo &quot;KERNEL /boot/$kernel&quot;                    &gt;&gt; $conf
@@ -870,26 +873,12 @@ function setupBootLoaderSyslinux {
 			#======================================
 			# create Failsafe entry
 			#--------------------------------------
-			echo &quot;LABEL Failsafe&quot; &gt;&gt; $conf
-			if ! echo $gfix | grep -E -q &quot;OEM|USB|VMX|unknown&quot;;then
-				echo &quot;MENU LABEL Failsafe -- &quot;&quot;$gfix&quot;          &gt;&gt; $conf
-			elif [ -z &quot;$kiwi_oemtitle&quot; ];then
-				echo -n &quot;MENU LABEL Failsafe -- &quot;&quot;$kname&quot;      &gt;&gt; $conf
-				echo &quot; [ &quot;$gfix&quot; ]&quot;                            &gt;&gt; $conf
-			else
-				if [ &quot;$count&quot; = &quot;1&quot; ];then
-					echo -n &quot;MENU LABEL Failsafe -- &quot;          &gt;&gt; $conf
-					echo -n &quot;$kiwi_oemtitle&quot;&quot; [ &quot;              &gt;&gt; $conf
-					echo &quot;$gfix&quot;&quot; ]&quot;                           &gt;&gt; $conf
-				else
-					echo -n &quot;MENU LABEL Failsafe -- &quot;          &gt;&gt; $conf
-					echo -n &quot;$kiwi_oemtitle&quot;&quot;-&quot;&quot;$kname&quot;&quot; [ &quot;   &gt;&gt; $conf
-					echo &quot;$gfix&quot;&quot; ]&quot;                           &gt;&gt; $conf
-				fi
-			fi
-			if [ $kernel = &quot;vmlinuz-xen&quot; ];then
+			title=$(makeLabel &quot;Failsafe -- $title&quot;)
+			echo &quot;LABEL Failsafe&quot;                              &gt;&gt; $conf
+			echo &quot;MENU LABEL $title&quot;                           &gt;&gt; $conf
+			if xenServer;then
 				systemException \
-					&quot;*** syslinux xen boot not implemented ***&quot; \
+					&quot;*** syslinux: Xen dom0 boot not implemented ***&quot; \
 				&quot;reboot&quot;
 			else
 				echo &quot;KERNEL /boot/$kernel&quot;                    &gt;&gt; $conf
@@ -937,7 +926,7 @@ function setupBootLoaderGrub {
 	local destsPrefix=$2  # base dir for the config files
 	local gnum=$3         # grub boot partition ID
 	local rdev=$4         # grub root partition
-	local gfix=$5         # grub title
+	local gfix=$5         # grub title postfix
 	local swap=$6         # optional swap partition
 	local menu=$destsPrefix/boot/grub/menu.lst
 	local conf=$destsPrefix/etc/grub.conf
@@ -947,6 +936,8 @@ function setupBootLoaderGrub {
 	local kname=&quot;&quot;
 	local kernel=&quot;&quot;
 	local initrd=&quot;&quot;
+	local title=&quot;&quot;
+	local rdisk=&quot;&quot;
 	local fbmode=$vga
 	local xencons=$xencons
 	if [ -z &quot;$fbmode&quot; ];then
@@ -1020,25 +1011,27 @@ function setupBootLoaderGrub {
 	IFS=&quot;,&quot; ; for i in $KERNEL_LIST;do
 		if test ! -z &quot;$i&quot;;then
 			#======================================
-			# create standard entry
+			# create grub requirements
 			#--------------------------------------
 			kernel=`echo $i | cut -f1 -d:`
 			initrd=`echo $i | cut -f2 -d:`
 			kname=${KERNEL_NAME[$count]}
 			if ! echo $gfix | grep -E -q &quot;OEM|USB|VMX|unknown&quot;;then
-				echo &quot;title _&quot;&quot;$gfix&quot;&quot;_&quot;                          &gt;&gt; $menu
+				title=$(makeLabel &quot;$gfix&quot;)
 			elif [ -z &quot;$kiwi_oemtitle&quot; ];then
-				echo &quot;title _&quot;&quot;$kname&quot;&quot; [ &quot;$gfix&quot; ]_&quot;             &gt;&gt; $menu
+				title=$(makeLabel &quot;$kname [ $gfix ]&quot;)
 			else
 				if [ &quot;$count&quot; = &quot;1&quot; ];then
-					echo -n &quot;title _&quot;&quot;$kiwi_oemtitle&quot;             &gt;&gt; $menu
-					echo &quot; [ &quot;&quot;$gfix&quot;&quot; ]_&quot;                        &gt;&gt; $menu
+					title=$(makeLabel &quot;$kiwi_oemtitle [ $gfix ]&quot;)
 				else
-					echo -n &quot;title _&quot;&quot;$kiwi_oemtitle&quot;&quot;-&quot;&quot;$kname&quot;  &gt;&gt; $menu
-					echo &quot; [ &quot;&quot;$gfix&quot;&quot; ]_&quot;                        &gt;&gt; $menu
+					title=$(makeLabel &quot;$kiwi_oemtitle-$kname [ $gfix ]&quot;)
 				fi
 			fi
-			if [ $kernel = &quot;vmlinuz-xen&quot; ];then
+			#======================================
+			# create standard entry
+			#--------------------------------------
+			echo &quot;title $title&quot;                                   &gt;&gt; $menu
+			if xenServer;then
 				echo &quot; root $gdev&quot;                                &gt;&gt; $menu
 				echo &quot; kernel /boot/xen.gz&quot;                       &gt;&gt; $menu
 				echo -n &quot; module /boot/$kernel&quot;                   &gt;&gt; $menu
@@ -1070,21 +1063,9 @@ function setupBootLoaderGrub {
 			#======================================
 			# create failsafe entry
 			#--------------------------------------
-			if ! echo $gfix | grep -E -q &quot;OEM|USB|VMX|unknown&quot;;then
-				echo &quot;title _Failsafe -- &quot;&quot;$gfix&quot;&quot;_&quot;              &gt;&gt; $menu
-			elif [ -z &quot;$kiwi_oemtitle&quot; ];then
-				echo -n &quot;title _Failsafe -- &quot;                     &gt;&gt; $menu
-				echo &quot;$kname&quot;&quot; [ &quot;&quot;$gfix&quot;&quot; ]_&quot;                    &gt;&gt; $menu
-			else
-				if [ &quot;$count&quot; = &quot;1&quot; ];then
-					echo -n &quot;title _Failsafe -- &quot;&quot;$kiwi_oemtitle&quot; &gt;&gt; $menu
-					echo &quot; [ &quot;&quot;$gfix&quot;&quot; ]_&quot;                        &gt;&gt; $menu
-				else
-					echo -n &quot;title _Failsafe -- &quot;&quot;$kiwi_oemtitle&quot; &gt;&gt; $menu
-					echo &quot;-&quot;&quot;$kname&quot;&quot; [ &quot;&quot;$gfix&quot;&quot; ]_&quot;             &gt;&gt; $menu
-				fi
-			fi
-			if [ $kernel = &quot;vmlinuz-xen&quot; ];then
+			title=$(makeLabel &quot;Failsafe -- $title&quot;)
+			echo &quot;title $title&quot;                                   &gt;&gt; $menu
+			if xenServer;then
 				echo &quot; root $gdev&quot;                                &gt;&gt; $menu
 				echo &quot; kernel /boot/xen.gz&quot;                       &gt;&gt; $menu
 				echo -n &quot; module /boot/$kernel&quot;                   &gt;&gt; $menu
@@ -1117,7 +1098,7 @@ function setupBootLoaderGrub {
 			# create recovery entry
 			#--------------------------------------
 			if [ ! -z &quot;$OEM_RECOVERY&quot; ];then
-				echo &quot;title _Recovery_&quot;                           &gt;&gt; $menu
+				echo &quot;title Recovery&quot;                             &gt;&gt; $menu
 				echo &quot; rootnoverify (hd0,3)&quot;                      &gt;&gt; $menu
 				echo &quot; chainloader +1&quot;                            &gt;&gt; $menu
 			fi
@@ -1157,24 +1138,27 @@ function setupBootLoaderLilo {
 	# ----
 	local mountPrefix=$1  # mount path of the image
 	local destsPrefix=$2  # base dir for the config files
-	local gnum=$3         # lilo boot partition ID
-	local bdev=$4         # lilo root partition
-	local gfix=$5         # lilo title
+	local lnum=$3         # lilo boot partition ID
+	local rdev=$4         # lilo root partition
+	local lfix=$5         # lilo title postfix
 	local swap=$6         # optional swap partition
 	local conf=$destsPrefix/etc/lilo.conf
 	local sysb=$destsPrefix/etc/sysconfig/bootloader
+	local console=&quot;&quot;
 	local kname=&quot;&quot;
 	local kernel=&quot;&quot;
 	local initrd=&quot;&quot;
-	local count=1
+	local title=&quot;&quot;
+	local rdisk=&quot;&quot;
+	local fbmode=$vga
 	local xencons=$xencons
-	echo \
-		&quot;setupBootLoaderLilo $# called with '$1' '$2' '$3' '$4' '$5' '$6' '$7'&quot;\
-	&gt;&amp;2
+	if [ -z &quot;$fbmode&quot; ];then
+		fbmode=$DEFAULT_VGA
+	fi
 	#======================================
 	# check for device by ID
 	#--------------------------------------
-	local diskByID=`getDiskID $bdev`
+	local diskByID=`getDiskID $rdev`
 	local swapByID=`getDiskID $swap`
 	#======================================
 	# check for boot image .profile
@@ -1189,10 +1173,10 @@ function setupBootLoaderLilo {
 		importFile &lt; $mountPrefix/image/.profile
 	fi
 	#======================================
-	# check for grub title postfix
+	# check for lilo title postfix
 	#--------------------------------------
-	if [ -z &quot;$gfix&quot; ];then
-		gfix=&quot;unknown&quot;
+	if [ -z &quot;$lfix&quot; ];then
+		lfix=&quot;unknown&quot;
 	fi
 	#======================================
 	# check for boot TIMEOUT
@@ -1201,66 +1185,123 @@ function setupBootLoaderLilo {
 		KIWI_BOOT_TIMEOUT=10;
 	fi
 	#======================================
+	# check for UNIONFS_CONFIG
+	#--------------------------------------
+	if [ &quot;$haveLVM&quot; = &quot;yes&quot; ]; then
+		lnum=1
+	elif [ &quot;$haveDMSquash&quot; = &quot;yes&quot; ];then
+		lnum=2
+	elif [ ! -z &quot;$UNIONFS_CONFIG&quot; ] &amp;&amp; [ $gnum -gt 0 ]; then
+		rwDevice=`echo $UNIONFS_CONFIG | cut -d , -f 1`
+		lnum=`echo $rwDevice | sed -e &quot;s/\/dev.*\([0-9]\)/\\1/&quot;`
+		lnum=`expr $gnum - 1`
+	fi
+	#======================================
+	# setup lilo boot device
+	#--------------------------------------
+	rdisk=`echo $rdev | sed -e s&quot;@[0-9]@@g&quot;`
+	if [ ! -z &quot;$imageDiskDevice&quot; ];then
+		rdisk=$imageDiskDevice
+	fi
+	rdev=$rdisk$lnum
+	#======================================
 	# create directory structure
 	#--------------------------------------
 	for dir in $conf $sysb;do
 		dir=`dirname $dir`; mkdir -p $dir
 	done
 	#======================================
-	# setup lilo device node
-	#--------------------------------------
-	bdev=`echo $bdev |\
-		sed -e &quot;/\/dev\/disk\/by/{s/\(\/dev.*\)\(-part[0-9]\+$\)/\\1/;p;d};
-		/\/dev\//s/\(\/dev\/.*\)\([0-9]\+$\)/\1/&quot;`
-	#======================================
-	# create menu.lst file
+	# create lilo.conf file
 	#--------------------------------------
-	(
-	echo &quot;# generated by kiwi '$1' '$2' '$3' '$4' '$5' '$6' '$7'&quot;
-	echo &quot;boot=$bdev&quot;
-	echo &quot;activate&quot;
-	echo &quot;timeout=`expr $KIWI_BOOT_TIMEOUT \* 10`&quot;
-	echo &quot;default=kiwi$count&quot;
+	echo &quot;boot=$rdev&quot;                                        &gt;  $conf
+	echo &quot;activate&quot;                                          &gt;&gt; $conf
+	echo &quot;timeout=`expr $KIWI_BOOT_TIMEOUT \* 10`&quot;           &gt;&gt; $conf
+	echo &quot;default=kiwi$count&quot;                                &gt;&gt; $conf
+	local count=1
 	IFS=&quot;,&quot; ; for i in $KERNEL_LIST;do
 		if test ! -z &quot;$i&quot;;then
+			#======================================
+			# create lilo requirements
+			#--------------------------------------
 			kernel=`echo $i | cut -f1 -d:`
 			initrd=`echo $i | cut -f2 -d:`
 			kname=${KERNEL_NAME[$count]}
-			echo &quot;image=/boot/$kernel&quot;
-			echo -n &quot;###Don't change this comment - YaST2 identifier:&quot;
-			echo &quot; Original name: linux###&quot;
-			echo &quot;# kiwi_oemtitle $kiwi_oemtitle&quot;
-			if ! echo $gfix | grep -E -q &quot;OEM|USB|VMX|unknown&quot;;then
-				echo &quot;label=\&quot;$gfix\&quot;&quot;
+			if ! echo $lfix | grep -E -q &quot;OEM|USB|VMX|unknown&quot;;then
+				title=$(makeLabel &quot;$lfix&quot;)
 			elif [ -z &quot;$kiwi_oemtitle&quot; ];then
-				echo &quot;label=\&quot;$kname [ $gfix ]\&quot;&quot;
+				title=$(makeLabel &quot;$kname [ $lfix ]&quot;)
 			else
 				if [ &quot;$count&quot; = &quot;1&quot; ];then
-					echo &quot;label=\&quot;$kiwi_oemtitle [ $gfix ]\&quot;&quot;
+					title=$(makeLabel &quot;$kiwi_oemtitle [ $lfix ]&quot;)
 				else
-					echo &quot;label=\&quot;$kiwi_oemtitle-$kname [ $gfix ]\&quot;&quot;
+					title=$(makeLabel &quot;$kiwi_oemtitle-$kname [ $lfix ]&quot;)
 				fi
 			fi
-			echo &quot;    initrd=/boot/$initrd&quot;
-			echo -n &quot;    append=\&quot;quiet sysrq=1 panic=9&quot;
-			echo -n &quot; vga=$fbmode splash=silent&quot;
-			if [ ! -z &quot;$swap&quot; ];then
-				echo -n &quot; resume=$swapByID&quot;
+			#======================================
+			# create standard entry
+			#--------------------------------------
+			echo &quot;label=\&quot;$title\&quot;&quot;                          &gt;&gt; $conf
+			if xenServer;then
+				systemException \
+					&quot;*** lilo: Xen dom0 boot not implemented ***&quot; \
+				&quot;reboot&quot;
+			else
+				echo &quot;image=/boot/$kernel&quot;                   &gt;&gt; $conf
+				echo &quot;initrd=/boot/$initrd&quot;                  &gt;&gt; $conf
+				echo -n &quot;append=\&quot;quiet sysrq=1 panic=9&quot;     &gt;&gt; $conf
+				echo -n &quot; root=$diskByID $console&quot;           &gt;&gt; $conf
+				echo -n &quot; vga=$fbmode splash=silent&quot;         &gt;&gt; $conf
+				if [ ! -z &quot;$swap&quot; ];then                     
+					echo -n &quot; resume=$swapByID&quot;              &gt;&gt; $conf
+				fi
+				if [ ! -z &quot;$xencons&quot; ]; then
+					echo -n &quot; xencons=$xencons&quot;              &gt;&gt; $conf
+				fi
+				echo -n &quot; $KIWI_INITRD_PARAMS&quot;               &gt;&gt; $conf
+				echo &quot; $KIWI_KERNEL_OPTIONS showopts\&quot;&quot;      &gt;&gt; $conf
 			fi
-			if [ ! -z &quot;$xencons&quot; ]; then
-				echo -n &quot; xencons=$xencons&quot;
+			#======================================
+			# create failsafe entry
+			#--------------------------------------
+			title=$(makeLabel &quot;Failsafe -- $title&quot;)
+			echo &quot;label=\&quot;$title\&quot;&quot;                          &gt;&gt; $conf
+			if xenServer;then
+				systemException \
+					&quot;*** lilo: Xen dom0 boot not implemented ***&quot; \
+				&quot;reboot&quot;
+			else
+				echo &quot;image=/boot/$kernel&quot;                   &gt;&gt; $conf
+				echo &quot;initrd=/boot/$initrd&quot;                  &gt;&gt; $conf
+				echo -n &quot;append=\&quot;quiet sysrq=1 panic=9&quot;     &gt;&gt; $conf
+				echo -n &quot; root=$diskByID $console&quot;           &gt;&gt; $conf
+				echo -n &quot; vga=$fbmode splash=silent&quot;         &gt;&gt; $conf
+				if [ ! -z &quot;$swap&quot; ];then
+					echo -n &quot; resume=$swapByID&quot;              &gt;&gt; $conf
+				fi
+				if [ ! -z &quot;$xencons&quot; ]; then
+					echo -n &quot; xencons=$xencons&quot;              &gt;&gt; $conf
+				fi
+				echo -n &quot; $KIWI_INITRD_PARAMS&quot;               &gt;&gt; $conf
+				echo -n &quot; $KIWI_KERNEL_OPTIONS showopts\&quot;&quot;   &gt;&gt; $conf
+				echo -n &quot; ide=nodma apm=off acpi=off&quot;        &gt;&gt; $conf
+				echo &quot; noresume selinux=0 nosmp&quot;             &gt;&gt; $conf
+			fi
+			#======================================
+			# create recovery entry
+			#--------------------------------------
+			if [ ! -z &quot;$OEM_RECOVERY&quot; ];then
+				systemException \
+					&quot;*** lilo: recovery chain loading not implemented ***&quot; \
+				&quot;reboot&quot;
 			fi
-			echo -n &quot; $KIWI_INITRD_PARAMS&quot;
-			echo &quot; $KIWI_KERNEL_OPTIONS showopts\&quot;&quot;
-			echo
 			count=`expr $count + 1`
 		fi
 	done
-	) &gt; $conf
 	#======================================
 	# create sysconfig/bootloader
 	#--------------------------------------
-	echo &quot;LOADER_TYPE=\&quot;ppc\&quot;&quot;     &gt; $sysb
+	echo &quot;LOADER_TYPE=\&quot;lilo\&quot;&quot;     &gt; $sysb
+	echo &quot;LOADER_LOCATION=\&quot;mbr\&quot;&quot; &gt;&gt; $sysb
 }
 #======================================
 # setupDefaultPXENetwork
@@ -3921,3 +3962,34 @@ function canWrite {
 	fi
 	return 1
 }
+#======================================
+# xenServer
+#--------------------------------------
+function xenServer {
+	# /.../
+	# test if we are running a Xen dom0 kernel
+	# ---
+	local check=/proc/xen/capabilities
+	if cat $check 2&gt;/dev/null | grep &quot;control_d&quot; &amp;&gt;/dev/null; then
+		return 0
+	fi
+	return 1
+}
+#======================================
+# makeLabel
+#--------------------------------------
+function makeLabel {
+	# /.../
+	# create boot label and replace all spaces with
+	# underscores. current bootloaders show the
+	# underscore sign as as space in the boot menu
+	# ---
+	if [ -z &quot;$loader&quot; ];then
+		loader=&quot;grub&quot;
+	fi
+	if [ ! $loader = &quot;syslinux&quot; ];then
+		echo $1 | tr &quot; &quot; &quot;_&quot;
+	else
+		echo $1
+	fi
+}
diff --git a/modules/KIWIScheme.rnc b/modules/KIWIScheme.rnc
index 8b2d92a..4942b36 100644
--- a/modules/KIWIScheme.rnc
+++ b/modules/KIWIScheme.rnc
@@ -1721,8 +1721,12 @@ div {
 	k.xenconfig.memory.attribute =
 		## The memory setup for the Xen guest.
 		attribute memory { text }
+	k.xenconfig.domain.attribute =
+		## The type of Xen domain to create (dom0 or domU)
+		attribute domain { &quot;dom0&quot; | &quot;domU&quot; }
 	k.xenconfig.attlist =
-		k.xenconfig.memory.attribute ?
+		k.xenconfig.memory.attribute ? &amp;
+		k.xenconfig.domain.attribute ?
 	k.xenconfig =
 		## specifies the Xen configuration sections
 		[
diff --git a/modules/KIWIScheme.rng b/modules/KIWIScheme.rng
index 53b10d6..81aa226 100644
--- a/modules/KIWIScheme.rng
+++ b/modules/KIWIScheme.rng
@@ -2456,10 +2456,24 @@ virtual machine when running the image.&lt;/db:para&gt;
         &lt;a:documentation&gt;The memory setup for the Xen guest.&lt;/a:documentation&gt;
       &lt;/attribute&gt;
     &lt;/define&gt;
+    &lt;define name=&quot;k.xenconfig.domain.attribute&quot;&gt;
+      &lt;attribute name=&quot;domain&quot;&gt;
+        &lt;a:documentation&gt;The type of Xen domain to create (dom0 or domU)&lt;/a:documentation&gt;
+        &lt;choice&gt;
+          &lt;value&gt;dom0&lt;/value&gt;
+          &lt;value&gt;domU&lt;/value&gt;
+        &lt;/choice&gt;
+      &lt;/attribute&gt;
+    &lt;/define&gt;
     &lt;define name=&quot;k.xenconfig.attlist&quot;&gt;
-      &lt;optional&gt;
-        &lt;ref name=&quot;k.xenconfig.memory.attribute&quot;/&gt;
-      &lt;/optional&gt;
+      &lt;interleave&gt;
+        &lt;optional&gt;
+          &lt;ref name=&quot;k.xenconfig.memory.attribute&quot;/&gt;
+        &lt;/optional&gt;
+        &lt;optional&gt;
+          &lt;ref name=&quot;k.xenconfig.domain.attribute&quot;/&gt;
+        &lt;/optional&gt;
+      &lt;/interleave&gt;
     &lt;/define&gt;
     &lt;define name=&quot;k.xenconfig&quot;&gt;
       &lt;element name=&quot;xenconfig&quot;&gt;
diff --git a/modules/KIWIXML.pm b/modules/KIWIXML.pm
index 3c8502b..e40aa71 100644
--- a/modules/KIWIXML.pm
+++ b/modules/KIWIXML.pm
@@ -2200,6 +2200,7 @@ sub getXenConfig {
 	# global setup
 	#------------------------------------------
 	my $memory = $node -&gt; getAttribute (&quot;memory&quot;);
+	my $domain = $node -&gt; getAttribute (&quot;domain&quot;);
 	#==========================================
 	# storage setup
 	#------------------------------------------
@@ -2228,6 +2229,7 @@ sub getXenConfig {
 	# save hash
 	#------------------------------------------
 	$result{xen_memory}= $memory;
+	$result{xen_domain}= $domain;
 	if ($disk) {
 		$result{xen_diskdevice} = $device;
 	}
diff --git a/rpm/kiwi.changes b/rpm/kiwi.changes
index 004dce3..2f5d11b 100644
--- a/rpm/kiwi.changes
+++ b/rpm/kiwi.changes
@@ -1,4 +1,17 @@
 -------------------------------------------------------------------
+Mon Mar 30 11:31:54 CEST 2009 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>
+
+- v3.39
+- added a xendomain attribute in config.xml to be able to
+  distinguish whether a virtual disk image should be a Xen
+  dom0 host system or a Xen domU guest system. If no domain
+  is set a dom0 image will be created
+- added xenServer function to check if we run a Xen host
+  or guest system. The bootloader setup is different for
+  dom0 or domU. Adapt setupBootLoader* functions
+- allow filesystem resizing to be used in isoboot
+
+-------------------------------------------------------------------
 Fri Mar 27 13:59:44 CET 2009 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>
 
 - v3.38
diff --git a/rpm/kiwi.spec b/rpm/kiwi.spec
index de26455..ec925ee 100644
--- a/rpm/kiwi.spec
+++ b/rpm/kiwi.spec
@@ -1,5 +1,5 @@
 #
-# spec file for package kiwi (Version 3.38)
+# spec file for package kiwi (Version 3.39)
 #
 # Copyright (c) 2008 SUSE LINUX Products GmbH, Nuernberg, Germany.
 # This file and all modifications and additions to the pristine
@@ -46,7 +46,7 @@ Requires:       satsolver-tools
 Summary:        OpenSuSE - KIWI Image System
 Provides:       kiwi2 &lt;= 2.14
 Obsoletes:      kiwi2 &lt;= 2.14
-Version:        3.38
+Version:        3.39
 Release:        80
 Group:          System/Management
 License:        GPL v2 or later
diff --git a/system/boot/ix86/isoboot/suse-11.0/config.xml b/system/boot/ix86/isoboot/suse-11.0/config.xml
index 12d13a6..97cf695 100644
--- a/system/boot/ix86/isoboot/suse-11.0/config.xml
+++ b/system/boot/ix86/isoboot/suse-11.0/config.xml
@@ -153,7 +153,6 @@
 		&lt;package name=&quot;libbz2-1&quot;/&gt;
 		&lt;package name=&quot;libcom_err2&quot;/&gt;
 		&lt;package name=&quot;libexpat1&quot;/&gt;
-		&lt;package name=&quot;libext2fs2&quot;/&gt;
 		&lt;package name=&quot;libjpeg&quot;/&gt;
 		&lt;package name=&quot;liblcms&quot;/&gt;
 		&lt;package name=&quot;libmng&quot;/&gt;
diff --git a/system/boot/ix86/isoboot/suse-11.1/config.xml b/system/boot/ix86/isoboot/suse-11.1/config.xml
index 47f4e3b..e538015 100644
--- a/system/boot/ix86/isoboot/suse-11.1/config.xml
+++ b/system/boot/ix86/isoboot/suse-11.1/config.xml
@@ -155,7 +155,6 @@
 		&lt;package name=&quot;libbz2-1&quot;/&gt;
 		&lt;package name=&quot;libcom_err2&quot;/&gt;
 		&lt;package name=&quot;libexpat1&quot;/&gt;
-		&lt;package name=&quot;libext2fs2&quot;/&gt;
 		&lt;package name=&quot;libjpeg&quot;/&gt;
 		&lt;package name=&quot;liblcms&quot;/&gt;
 		&lt;package name=&quot;libmng&quot;/&gt;
diff --git a/system/boot/ix86/isoboot/suse-11.2/config.xml b/system/boot/ix86/isoboot/suse-11.2/config.xml
index a066862..aac08e3 100644
--- a/system/boot/ix86/isoboot/suse-11.2/config.xml
+++ b/system/boot/ix86/isoboot/suse-11.2/config.xml
@@ -150,7 +150,6 @@
 		&lt;package name=&quot;libbz2-1&quot;/&gt;
 		&lt;package name=&quot;libcom_err2&quot;/&gt;
 		&lt;package name=&quot;libexpat1&quot;/&gt;
-		&lt;package name=&quot;libext2fs2&quot;/&gt;
 		&lt;package name=&quot;libjpeg&quot;/&gt;
 		&lt;package name=&quot;liblcms&quot;/&gt;
 		&lt;package name=&quot;libmng&quot;/&gt;
diff --git a/system/boot/ix86/isoboot/suse-SLED11/config.xml b/system/boot/ix86/isoboot/suse-SLED11/config.xml
index c6a53b1..eb3bcd8 100644
--- a/system/boot/ix86/isoboot/suse-SLED11/config.xml
+++ b/system/boot/ix86/isoboot/suse-SLED11/config.xml
@@ -146,7 +146,6 @@
 		&lt;package name=&quot;libbz2-1&quot;/&gt;
 		&lt;package name=&quot;libcom_err2&quot;/&gt;
 		&lt;package name=&quot;libexpat1&quot;/&gt;
-		&lt;package name=&quot;libext2fs2&quot;/&gt;
 		&lt;package name=&quot;libjpeg&quot;/&gt;
 		&lt;package name=&quot;liblcms&quot;/&gt;
 		&lt;package name=&quot;libmng&quot;/&gt;
diff --git a/system/boot/ix86/isoboot/suse-SLES11/config.xml b/system/boot/ix86/isoboot/suse-SLES11/config.xml
index e1f745c..0e78cbb 100644
--- a/system/boot/ix86/isoboot/suse-SLES11/config.xml
+++ b/system/boot/ix86/isoboot/suse-SLES11/config.xml
@@ -146,7 +146,6 @@
 		&lt;package name=&quot;libbz2-1&quot;/&gt;
 		&lt;package name=&quot;libcom_err2&quot;/&gt;
 		&lt;package name=&quot;libexpat1&quot;/&gt;
-		&lt;package name=&quot;libext2fs2&quot;/&gt;
 		&lt;package name=&quot;libjpeg&quot;/&gt;
 		&lt;package name=&quot;liblcms&quot;/&gt;
 		&lt;package name=&quot;libmng&quot;/&gt;


hooks/post-receive
-- 
Project kiwi at BerliOS

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001149.html">[Kiwi-devel] /dev/mapper/loop0p1: Cannot create filesystem	with	requested number of inodes
</A></li>
	<LI>Next message: <A HREF="001151.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. eec9d1b551fda49650be90774366643b084e3878
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1150">[ date ]</a>
              <a href="thread.html#1150">[ thread ]</a>
              <a href="subject.html#1150">[ subject ]</a>
              <a href="author.html#1150">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
