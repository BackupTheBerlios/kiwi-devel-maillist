<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] Issues while setting up grub bootloader on RHEL
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20Issues%20while%20setting%20up%20grub%20bootloader%20on%20RHEL&In-Reply-To=%3C20110824080647.GA4850%40D7.ddts.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003725.html">
   <LINK REL="Next"  HREF="003730.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] Issues while setting up grub bootloader on RHEL</H1>
    <B>Marcus Sch&#228;fer</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20Issues%20while%20setting%20up%20grub%20bootloader%20on%20RHEL&In-Reply-To=%3C20110824080647.GA4850%40D7.ddts.net%3E"
       TITLE="[Kiwi-devel] Issues while setting up grub bootloader on RHEL">ms at suse.de
       </A><BR>
    <I>Wed Aug 24 10:06:48 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003725.html">[Kiwi-devel] Issues while setting up grub bootloader on RHEL
</A></li>
        <LI>Next message: <A HREF="003730.html">[Kiwi-devel] Issues while setting up grub bootloader on RHEL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3729">[ date ]</a>
              <a href="thread.html#3729">[ thread ]</a>
              <a href="subject.html#3729">[ subject ]</a>
              <a href="author.html#3729">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> There are two issues while setting up the grub boot loader on RHEL
</I>&gt;<i> 
</I>&gt;<i> i)                    The grub stage files are available in /usr/share/grub/{i386,x86_64} directories on RHEL. Currently kiwi expects these files to be in /usr/lib/grub directory. If the files are not found here, the builds fails. Two ways to fix this issue:
</I>&gt;<i> 
</I>&gt;<i> 	a.       Write a script to be called in images.sh/config.sh (of the boot image) to copy the stage files to /usr/lib/grub directory, where kiwi expects them to be.
</I>&gt;<i> 
</I>&gt;<i> 	b.      Extend the KIWIBoot.pm script to check in /usr/share/grub/{i386,x86_64} directories as well, for getting the stage files.
</I>&gt;<i> 
</I>&gt;<i> 	Which of these two methods is preferable?
</I>
I have pushed a patch which adds the function baseSetupBootLoaderCompatLinks()
You can call this function best in config.sh of the boot image.

&gt;<i> ii)                   The grub configuration file kiwi composes is menu.lst (/boot/grub/menu.lst) file. Looks like the grub bootloader in RHEL expects the name of the configuration file to be grub.conf (/boot/grub/grub.conf). So the attached patch adds a grub.conf, which will link to menu.lst file. 
</I>
I have added a slightly different version of your patch.

Would you mind to verify if I didn't add something stupid :) Thanks

By the way it looks like you are adding vmxboot or similar support
for RHEL to kiwi. If so it would be great if we can add that
boot code to the git so we can create a kiwi-desc-vmxboot package
for RHEL too

Thanks

Regards,
Marcus
-- 
 Public Key available
 gpg --keyserver gpg-keyserver.de --recv-keys 0xCCE3C6A2
 -------------------------------------------------------
 Marcus Sch&#228;fer (Res. &amp; Dev.)   SUSE LINUX Products GmbH
 Tel: 0911-740 53 0             Maxfeldstrasse 5
 FAX: 0911-740 53 479           D-90409 N&#252;rnberg
 GF:  Jeff Hawn,Jennifer Guild, Felix Imend&#246;rffer                  
 HRB: 21284 (AG N&#252;rnberg)       Germany
 <A HREF="http://www.suse.de">http://www.suse.de</A>
 -------------------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003725.html">[Kiwi-devel] Issues while setting up grub bootloader on RHEL
</A></li>
	<LI>Next message: <A HREF="003730.html">[Kiwi-devel] Issues while setting up grub bootloader on RHEL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3729">[ date ]</a>
              <a href="thread.html#3729">[ thread ]</a>
              <a href="subject.html#3729">[ subject ]</a>
              <a href="author.html#3729">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
