<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 1f6d18bae23d3840f114f179cb88fb69238c6aa4
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%201f6d18bae23d3840f114f179cb88fb69238c6aa4&In-Reply-To=%3C20110318154555.E4BDF480035%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003223.html">
   <LINK REL="Next"  HREF="003225.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 1f6d18bae23d3840f114f179cb88fb69238c6aa4</H1>
    <B>marcus_schaefer at BerliOS</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%201f6d18bae23d3840f114f179cb88fb69238c6aa4&In-Reply-To=%3C20110318154555.E4BDF480035%40sheep.berlios.de%3E"
       TITLE="[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 1f6d18bae23d3840f114f179cb88fb69238c6aa4">marcus_schaefer at mail.berlios.de
       </A><BR>
    <I>Fri Mar 18 16:45:55 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003223.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 1963d5ea123fb79b28654ea68c20e231f61fcc42
</A></li>
        <LI>Next message: <A HREF="003225.html">[Kiwi-devel] silent boot mode for OEM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3224">[ date ]</a>
              <a href="thread.html#3224">[ thread ]</a>
              <a href="subject.html#3224">[ subject ]</a>
              <a href="author.html#3224">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;Project kiwi at BerliOS&quot;.

The branch, master has been updated
       via  1f6d18bae23d3840f114f179cb88fb69238c6aa4 (commit)
      from  1963d5ea123fb79b28654ea68c20e231f61fcc42 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 1f6d18bae23d3840f114f179cb88fb69238c6aa4
Author: Marcus Sch&#195;&#164;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&gt;
Date:   Fri Mar 18 16:44:08 2011 +0100

    - fixed examples, added boot.local script to the suse-live-stick
      example which allows to mount the fat boot partition as data
      container below /media/stickstorage

-----------------------------------------------------------------------

Summary of changes:
diff --git a/doc/examples/suse-11.3/suse-live-iso.readme b/doc/examples/suse-11.3/suse-live-iso.readme
index 4db2ac1..6eb971e 100644
--- a/doc/examples/suse-11.3/suse-live-iso.readme
+++ b/doc/examples/suse-11.3/suse-live-iso.readme
@@ -24,7 +24,7 @@ How to test this Example
 * Testing an iso can be done with any full virtual system or simply
   by burning the .iso file on a CD or DVD. For example:
 
-    qemu -cdrom /tmp/myiso-result/suse-11.3-live-iso.i686-2.5.iso -m 512
+    qemu -cdrom /tmp/myiso-result/suse-11.3-live.i686-2.5.2.iso -m 512
 
 Login Details
 ==============================
diff --git a/doc/examples/suse-11.3/suse-live-iso/config.xml b/doc/examples/suse-11.3/suse-live-iso/config.xml
index 67c64b3..0665ad0 100644
--- a/doc/examples/suse-11.3/suse-live-iso/config.xml
+++ b/doc/examples/suse-11.3/suse-live-iso/config.xml
@@ -1,6 +1,6 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
 
-&lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.3-live-iso&quot;&gt;
+&lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.3-live&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#195;&#164;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
@@ -8,6 +8,13 @@
 	&lt;/description&gt;
 	&lt;preferences&gt;
 		&lt;type image=&quot;iso&quot; primary=&quot;true&quot; boot=&quot;isoboot/suse-11.3&quot; hybrid=&quot;true&quot; flags=&quot;clic&quot;/&gt;
+		&lt;type image=&quot;oem&quot; boot=&quot;oemboot/suse-11.3&quot; filesystem=&quot;clicfs&quot; bootloader=&quot;syslinux&quot; ramonly=&quot;true&quot;&gt;
+			&lt;oemconfig&gt;
+				&lt;oem-swap&gt;false&lt;/oem-swap&gt;
+				&lt;oem-systemsize&gt;2048&lt;/oem-systemsize&gt;
+			&lt;/oemconfig&gt;
+			&lt;systemdisk/&gt;
+		&lt;/type&gt;
 		&lt;version&gt;2.5.2&lt;/version&gt;
 		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
 		&lt;rpm-check-signatures&gt;false&lt;/rpm-check-signatures&gt;
@@ -18,6 +25,9 @@
 	&lt;users group=&quot;root&quot;&gt;
 		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/root&quot; name=&quot;root&quot;/&gt;
 	&lt;/users&gt;
+	&lt;users group=&quot;users&quot;&gt;
+		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/home/tux&quot; name=&quot;tux&quot;/&gt;
+	&lt;/users&gt;
 	&lt;repository type=&quot;yast2&quot;&gt;
 		&lt;source path=&quot;<A HREF="opensuse://11.3/repo/oss/">opensuse://11.3/repo/oss/</A>&quot;/&gt;
 	&lt;/repository&gt;
diff --git a/doc/examples/suse-11.3/suse-live-iso/root/etc/init.d/boot b/doc/examples/suse-11.3/suse-live-iso/root/etc/init.d/boot
deleted file mode 100755
index 7572e8d..0000000
--- a/doc/examples/suse-11.3/suse-live-iso/root/etc/init.d/boot
+++ /dev/null
@@ -1,323 +0,0 @@
-#! /bin/bash
-#
-# Copyright (c) 1996-2004 SuSE Linux AG, Nuernberg, Germany.
-# All rights reserved.
-#
-# Author: Ruediger Oertel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ro at suse.de</A>&gt;, 1996-2002
-#         Werner Fink &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">werner at suse.de</A>&gt;, 1996-2004
-#         Burchard Steinbild, 1996-2000
-#         Florian La Roche, 1996
-#
-# Please send feedback to <A HREF="http://www.suse.de/feedback">http://www.suse.de/feedback</A>
-#
-# /etc/init.d/boot
-#
-# first script to be executed from init on system startup
-#
-
-#
-# Avoid be interrupted by child or keyboard
-# 
-trap &quot;echo&quot; SIGINT SIGSEGV SIGQUIT
-set +e
-
-#
-# Get terminal size of standard input of the system console
-#
-test -z &quot;$CONSOLE&quot; &amp;&amp; CONSOLE=/dev/console
-set -- $(stty size &lt; $CONSOLE)
-  LINES=$1
-COLUMNS=$2
-export LINES COLUMNS CONSOLE
-
-#
-# Set I/O of this script and its childs to console
-#
-exec 0&lt;&gt; $CONSOLE 1&gt;&amp;0 2&gt;&amp;0
-
-#
-# Export the real device in variable REDIRECT.
-#
-REDIRECT=&quot;`showconsole 2&gt;/dev/null`&quot;
-export REDIRECT
-if test $COLUMNS -eq 0 ; then
-    # Serial: columns and lines are not defined
-      LINES=24
-    COLUMNS=80
-    test &quot;$TERM&quot; = &quot;linux&quot; -o -z &quot;$TERM&quot; &amp;&amp; TERM=vt102
-fi
-
-#
-# Configuration and coloring of the boot messages
-#
-
-. /etc/rc.status
-. /etc/sysconfig/boot
-
-echo -n &quot;System Boot Control: &quot;
-echo &quot;Running $0&quot;
-
-#
-# Start of e.g. blogd, requires /proc and /dev/pts.
-#
-rc_reset
-echo -n &quot;Mounting procfs at /proc&quot;
-mount -n -t proc proc /proc
-rc_status -v -r
-
-echo -n &quot;Mounting sysfs at /sys&quot;
-mount -n -t sysfs sysfs /sys
-rc_status -v -r
-
-if test -d /sys/kernel/debug ; then
-    while read dev type ; do
-	if test &quot;$type&quot; = &quot;debugfs&quot; ; then
-	    echo -n &quot;Mounting debugfs at /sys/kernel/debug&quot;
-	    mount -n -t debugfs debugfs /sys/kernel/debug
-	    rc_status -v -r
-	fi
-    done &lt; /proc/filesystems
-fi
-#
-# mount tmpfs on /dev if not already done by initramfs
-#
-while read dev dir type options; do
-    if test &quot;$dir&quot; = &quot;/dev&quot; -a &quot;$type&quot; = &quot;tmpfs&quot;; then
-	DEV_MOUNTED=1;
-	break;
-    fi
-done &lt; /proc/mounts
-if test -z &quot;$DEV_MOUNTED&quot;; then
-    echo -n &quot;Mounting tmpfs at /dev&quot;
-    mount -n -t tmpfs -o mode=0755 udev /dev
-    rc_status -v -r
-fi
-
-#
-# populate /dev with initial content
-#
-echo -n &quot;Initializing /dev&quot;
-cp --preserve=all --recursive --remove-destination /lib/udev/devices/* /dev
-chmod 1777 /dev/shm
-rc_status -v -r
-
-echo -n &quot;Mounting devpts at /dev/pts&quot;
-mount -n -t devpts -o mode=0620,gid=5 devpts /dev/pts
-rc_status -v -r
-
-#
-# Save old terminal settings and set -nl to avoid staircase
-# effect, do not lock scrolling, and avoid break characters.
-#
-otty=$(stty -g)
-if test &quot;$FLOW_CONTROL&quot; = &quot;yes&quot; ; then
-    stty -nl  ixon ignbrk -brkint
-else
-    stty -nl -ixon ignbrk -brkint
-fi
-
-#
-# Should we ask for interactive boot mode
-#
-DO_CONFIRM=&quot;&quot;
-read -t 2 check &lt; /proc/cmdline 2&gt; /dev/null
-case &quot;$check&quot; in
-    *confirm*) DO_CONFIRM=yes ;;
-esac
-test -z &quot;$CONFIRM_PROMPT_TIMEOUT&quot; &amp;&amp; CONFIRM_PROMPT_TIMEOUT=5
-if test &quot;$PROMPT_FOR_CONFIRM&quot; = &quot;yes&quot; -a &quot;$DO_CONFIRM&quot; != &quot;yes&quot; ; then
-    echo -en &quot;${extd}Enter Interactive startup mode?${norm}&quot;
-    rc_timer_on &quot;$CONFIRM_PROMPT_TIMEOUT&quot; 37
-    read -t &quot;$CONFIRM_PROMPT_TIMEOUT&quot; -n 1 \
-	-p &quot; ${extd}y${norm}/[${extd}n${norm}](&quot;${CONFIRM_PROMPT_TIMEOUT}s&quot;) &quot; answer
-    rc_timer_off
-    case &quot;$answer&quot; in
-    [yYiI]) DO_CONFIRM=yes ;;
-    *)      DO_CONFIRM=    ;;
-    esac
-    unset answer
-    echo
-fi
-export DO_CONFIRM
-
-#
-# Start blogd, requires /proc and /dev/pts.
-# Export the real device in variable REDIRECT.
-#
-test -x /sbin/blogd -a -n &quot;$REDIRECT&quot; &amp;&amp; /sbin/blogd $REDIRECT
-if test -z &quot;$REDIRECT&quot; ; then
-    if (echo -n &gt; /dev/tty) 2&gt;/dev/null ; then
-	REDIRECT=/dev/tty
-    else
-	REDIRECT=/dev/console
-    fi
-fi
-
-#
-# Common used variables
-#
-bootrc=/etc/init.d/boot.d
-rex=&quot;[0-9][0-9]&quot;
-failed=&quot;&quot;
-skipped=&quot;&quot;
-callord=&quot;&quot;
-
-#
-# Initialize boosplash progressbar variables
-#
-. /etc/rc.splash B
-splashtrigger &quot;rlchange B&quot;
-
-#
-# Check if we are able to use make for booting
-#
-test -s /etc/init.d/.depend.boot || RUN_PARALLEL=&quot;no&quot;
-test -s /etc/init.d/Makefile	 || RUN_PARALLEL=&quot;no&quot;
-test &quot;$DO_CONFIRM&quot;   = &quot;yes&quot;	 &amp;&amp; RUN_PARALLEL=&quot;no&quot;
-type -p startpar &amp;&gt; /dev/null    || RUN_PARALLEL=&quot;no&quot;
-startpar -v &amp;&gt; /dev/null	 || RUN_PARALLEL=&quot;no&quot;
-
-#
-# Start bootup client scripts.
-#
-if test &quot;$RUN_PARALLEL&quot; = &quot;yes&quot; ; then
-
-    #
-    # Start scripts in parallel with make behaviour of startpar
-    #
-
-    startopt=&quot;-p4 -t 30 -T 3 $(splashmake)&quot;
-    eval $(startpar $startopt -M boot)
-    failed=&quot;${failed:+$failed }$failed_service&quot;
-    skipped=&quot;${skipped:+$skipped }$skipped_service&quot;
-
-    unset failed_service skipped_service startopt
-
-elif test -d ${bootrc}/ ; then
-
-    #
-    # Start scripts in given link order
-    #
-    for i in ${bootrc}/S${rex}*; do
-
-	test -f $i || continue
-
-	B=${i##*/}
-	script=${B#*S$rex}
-	B=${B%$script}
-
-	if test &quot;$DO_CONFIRM&quot; = &quot;yes&quot; ; then
-	    rc_confirm -t $CONFIRM_PROMPT_TIMEOUT &quot;Start bootup script ${script}&quot; &lt; $REDIRECT &gt; $REDIRECT 2&gt;&amp;1
-	    case &quot;$?&quot; in
-	    0) true     ;;
-	    1) continue ;;
-	    2) DO_CONFIRM=&quot;&quot;
-	    esac
-	fi
-
-	blogger &quot;$script start&quot;
-
-	if test -x &quot;$i&quot; ; then
-		$i start
-	else
-	    echo Running $i
-	    /bin/sh $i b
-	    rc_status -v1 -r
-	fi
-	status=$?
-	echo -en &quot;$rc_reset&quot;
-	splashprogress &quot;$script start&quot;
-
-	case $status in
-	[1-47])  failed=&quot;${failed:+$failed }$script&quot;   ;;
-	[56])   skipped=&quot;${skipped:+$skipped }$script&quot; ;;
-	0|*) ;;
-	esac
-
-	blogger &quot;'$script start' exits with status $status&quot;
-    done
-fi
-
-splashtrigger &quot;rlreached B&quot;
-
-#
-# Be verbose and print stats
-#
-echo -n &quot;System Boot Control: &quot;
-echo -e &quot;The system has been ${stat}${extd}set up${norm}&quot;
-if test -n &quot;$failed&quot; ; then
-    n=$((${#failed} + 7))
-    echo -n  &quot;Failed features: &quot;
-    test $n -lt 47 &amp;&amp; echo -en &quot;\033[${COLUMNS}C\033[${n}D&quot;
-    echo -e  &quot;${warn}${failed}${norm}&quot;
-fi
-if test -n &quot;$skipped&quot; ; then
-    n=$((${#skipped} + 7))
-    echo -n  &quot;Skipped features: &quot;
-    test $n -lt 47 &amp;&amp; echo -en &quot;\033[${COLUMNS}C\033[${n}D&quot;
-    echo -e  &quot;${attn}${skipped}${norm}&quot;
-fi
-
-#
-# Start user defined bootup script.
-#
-if test -f /etc/init.d/boot.local ; then
-    echo -n &quot;System Boot Control: &quot;
-    echo &quot;Running /etc/init.d/boot.local&quot;
-    /bin/sh /etc/init.d/boot.local
-    rc_status -v1 -r
-    splashtrigger &quot;boot.local&quot;
-fi
-
-#
-# Stop blogd
-#
-test -x /sbin/blogd &amp;&amp; killproc -QUIT /sbin/blogd
-
-#
-# Check for boot cycle detection
-#
-test -s /lib/bootcycle/stats &amp;&amp; . /lib/bootcycle/stats
-
-#
-# Remember for master resource script
-#
-if test &quot;$DO_CONFIRM&quot; = &quot;yes&quot; ; then
-    touch /var/run/do_confirm
-fi
-
-#
-# Restore old terminal settings
-#
-stty $otty
-
-# create config file if not yet done
-if [ ! -f /etc/X11/xorg.conf ];then
-	/usr/sbin/sax2 -c 0 -a -i &amp;&gt;/dev/null
-fi
-
-#
-# Let YaST2 finish its installation, if you installed with YaST2
-#
-if test -f /var/lib/YaST2/runme_at_boot ; then
-    HOSTTYPE=$(uname -m)
-    splashtrigger &quot;YaST&quot;
-    exec 0&lt;&gt; $REDIRECT 1&gt;&amp;0 2&gt;&amp;0
-    # if yast2 failed, this ensures proper system setup
-    #ulimit -c unlimited
-    touch /var/lib/YaST2/run_suseconfig
-    if test -x /usr/lib/YaST2/startup/YaST2.Second-Stage; then
-	/usr/lib/YaST2/startup/YaST2.Second-Stage
-    else
-	# oops, yast2 not installed
-	rm -f /var/lib/YaST2/runme_at_boot
-    fi
-fi
-# run SuSEconfig (with args) if needed
-if test -f /var/lib/YaST2/run_suseconfig ; then
-    /sbin/SuSEconfig `cat /var/lib/YaST2/run_suseconfig`
-    rm -f /var/lib/YaST2/run_suseconfig
-fi
-
-rc_reset
-exit 0
diff --git a/doc/examples/suse-11.3/suse-live-iso/root/etc/init.d/boot.local b/doc/examples/suse-11.3/suse-live-iso/root/etc/init.d/boot.local
new file mode 100755
index 0000000..928c736
--- /dev/null
+++ b/doc/examples/suse-11.3/suse-live-iso/root/etc/init.d/boot.local
@@ -0,0 +1,20 @@
+#!/bin/bash
+
+function dn {
+	local part=$1
+	local part_new=$(echo $part | sed -e 's@\(^.*\)\(p.*$\)@\1@')
+	if [ $part = $part_new ];then
+		part_new=$(echo $part | sed -e 's@\(^.*\)\([0-9].*$\)@\1@')
+	fi
+	echo $part_new
+}
+
+bootdev=$(dn $(pvdisplay -c | cut -f1 -d:))
+if [ ! -e ${bootdev}1 ];then
+	return
+fi
+
+mkdir -p /media/stickstorage
+mount ${bootdev}1 /media/stickstorage
+mkdir -p /media/stickstorage/Storage
+chmod 777 /media/stickstorage/Storage
diff --git a/doc/examples/suse-11.3/suse-live-stick b/doc/examples/suse-11.3/suse-live-stick
new file mode 120000
index 0000000..d68f643
--- /dev/null
+++ b/doc/examples/suse-11.3/suse-live-stick
@@ -0,0 +1 @@
+suse-live-iso
\ No newline at end of file
diff --git a/doc/examples/suse-11.3/suse-live-stick.readme b/doc/examples/suse-11.3/suse-live-stick.readme
new file mode 100644
index 0000000..fe603bf
--- /dev/null
+++ b/doc/examples/suse-11.3/suse-live-stick.readme
@@ -0,0 +1,30 @@
+KIWI Image Description Example
+==============================
+* A live OEM stick is a virtual disk. In this example the OEM
+  is created as ramonly system using the clicfs filesystem.
+  Additionally it uses the syslinux bootloader and allows to
+  specify the size of the first (fat) partition. That way the
+  stick can be used as live OS as well as as data container
+  under Linux and Windows. Compared to the hybrid iso image
+  which you can also dump on a stick the advantage is that
+  also Windows can see the stick as data because the oem added
+  a fat partition at the beginning of the stick
+
+How to build this Example
+==============================
+
+   kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.3/suse-live-stick \
+        --root /tmp/myoem
+
+   kiwi --create /tmp/myoem --type oem -d /tmp/myoem-result --fat-storage 300
+
+How to test this Example
+==============================
+* Testing an oem can be done with any full virtual system or simply
+  by dumping the .raw file on the stick. For example:
+
+    qemu /tmp/myoem-result/suse-11.3-live.i686-2.5.2.raw -m 512
+
+Login Details
+==============================
+* User root pwd: linux
diff --git a/doc/examples/suse-11.4/suse-euca-cloud.readme b/doc/examples/suse-11.4/suse-euca-cloud.readme
index cc23139..4804fa6 100644
--- a/doc/examples/suse-11.4/suse-euca-cloud.readme
+++ b/doc/examples/suse-11.4/suse-euca-cloud.readme
@@ -11,10 +11,10 @@ KIWI Image Description Example
   machine. After the package location has been specified you may build the
   images as indicated below.
 
-  Use Eucalyptus version 1.6.2 or later with openSUSE 11.3
+  Use Eucalyptus version 1.6.2 or later with openSUSE 11.4
 
   It is assumed that you copied
-  /usr/share/doc/packages/kiwi/examples/suse-11.3/suse-euca-cloud to
+  /usr/share/doc/packages/kiwi/examples/suse-11.4/suse-euca-cloud to
   /tmp/suse-euca-cloud
 
 How to build this Example
diff --git a/doc/examples/suse-11.4/suse-live-iso.readme b/doc/examples/suse-11.4/suse-live-iso.readme
index 4db2ac1..8df2d35 100644
--- a/doc/examples/suse-11.4/suse-live-iso.readme
+++ b/doc/examples/suse-11.4/suse-live-iso.readme
@@ -14,7 +14,7 @@ KIWI Image Description Example
 How to build this Example
 ==============================
 
-   kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.3/suse-live-iso \
+   kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.4/suse-live-iso \
         --root /tmp/myiso
 
    kiwi --create /tmp/myiso --type iso -d /tmp/myiso-result
@@ -24,7 +24,7 @@ How to test this Example
 * Testing an iso can be done with any full virtual system or simply
   by burning the .iso file on a CD or DVD. For example:
 
-    qemu -cdrom /tmp/myiso-result/suse-11.3-live-iso.i686-2.5.iso -m 512
+    qemu -cdrom /tmp/myiso-result/suse-11.4-live.i686-2.5.2.iso -m 512
 
 Login Details
 ==============================
diff --git a/doc/examples/suse-11.4/suse-live-iso/config.xml b/doc/examples/suse-11.4/suse-live-iso/config.xml
index 3f414b6..3a32ace 100644
--- a/doc/examples/suse-11.4/suse-live-iso/config.xml
+++ b/doc/examples/suse-11.4/suse-live-iso/config.xml
@@ -1,6 +1,6 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
 
-&lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.4-live-iso&quot;&gt;
+&lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.4-live&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#195;&#164;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
@@ -8,6 +8,13 @@
 	&lt;/description&gt;
 	&lt;preferences&gt;
 		&lt;type image=&quot;iso&quot; primary=&quot;true&quot; boot=&quot;isoboot/suse-11.4&quot; hybrid=&quot;true&quot; flags=&quot;clic&quot;/&gt;
+		&lt;type image=&quot;oem&quot; boot=&quot;oemboot/suse-11.3&quot; filesystem=&quot;clicfs&quot; bootloader=&quot;syslinux&quot; ramonly=&quot;true&quot;&gt;
+			&lt;oemconfig&gt;
+				&lt;oem-swap&gt;false&lt;/oem-swap&gt;
+				&lt;oem-systemsize&gt;2048&lt;/oem-systemsize&gt;
+			&lt;/oemconfig&gt;
+			&lt;systemdisk/&gt;
+		&lt;/type&gt;
 		&lt;version&gt;2.5.2&lt;/version&gt;
 		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
 		&lt;rpm-check-signatures&gt;false&lt;/rpm-check-signatures&gt;
@@ -18,6 +25,9 @@
 	&lt;users group=&quot;root&quot;&gt;
 		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/root&quot; name=&quot;root&quot;/&gt;
 	&lt;/users&gt;
+	&lt;users group=&quot;users&quot;&gt;
+		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/home/tux&quot; name=&quot;tux&quot;/&gt;
+	&lt;/users&gt;
 	&lt;repository type=&quot;yast2&quot;&gt;
 		&lt;source path=&quot;<A HREF="opensuse://11.4/repo/oss/">opensuse://11.4/repo/oss/</A>&quot;/&gt;
 	&lt;/repository&gt;
diff --git a/doc/examples/suse-11.4/suse-live-iso/root/etc/init.d/boot.local b/doc/examples/suse-11.4/suse-live-iso/root/etc/init.d/boot.local
new file mode 100755
index 0000000..928c736
--- /dev/null
+++ b/doc/examples/suse-11.4/suse-live-iso/root/etc/init.d/boot.local
@@ -0,0 +1,20 @@
+#!/bin/bash
+
+function dn {
+	local part=$1
+	local part_new=$(echo $part | sed -e 's@\(^.*\)\(p.*$\)@\1@')
+	if [ $part = $part_new ];then
+		part_new=$(echo $part | sed -e 's@\(^.*\)\([0-9].*$\)@\1@')
+	fi
+	echo $part_new
+}
+
+bootdev=$(dn $(pvdisplay -c | cut -f1 -d:))
+if [ ! -e ${bootdev}1 ];then
+	return
+fi
+
+mkdir -p /media/stickstorage
+mount ${bootdev}1 /media/stickstorage
+mkdir -p /media/stickstorage/Storage
+chmod 777 /media/stickstorage/Storage
diff --git a/doc/examples/suse-11.4/suse-live-stick b/doc/examples/suse-11.4/suse-live-stick
new file mode 120000
index 0000000..d68f643
--- /dev/null
+++ b/doc/examples/suse-11.4/suse-live-stick
@@ -0,0 +1 @@
+suse-live-iso
\ No newline at end of file
diff --git a/doc/examples/suse-11.4/suse-live-stick.readme b/doc/examples/suse-11.4/suse-live-stick.readme
new file mode 100644
index 0000000..b695d56
--- /dev/null
+++ b/doc/examples/suse-11.4/suse-live-stick.readme
@@ -0,0 +1,30 @@
+KIWI Image Description Example
+==============================
+* A live OEM stick is a virtual disk. In this example the OEM
+  is created as ramonly system using the clicfs filesystem.
+  Additionally it uses the syslinux bootloader and allows to
+  specify the size of the first (fat) partition. That way the
+  stick can be used as live OS as well as as data container
+  under Linux and Windows. Compared to the hybrid iso image
+  which you can also dump on a stick the advantage is that
+  also Windows can see the stick as data because the oem added
+  a fat partition at the beginning of the stick
+
+How to build this Example
+==============================
+
+   kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.4/suse-live-stick \
+        --root /tmp/myoem
+
+   kiwi --create /tmp/myoem --type oem -d /tmp/myoem-result --fat-storage 300
+
+How to test this Example
+==============================
+* Testing an oem can be done with any full virtual system or simply
+  by dumping the .raw file on the stick. For example:
+
+    qemu /tmp/myoem-result/suse-11.4-live.i686-2.5.2.raw -m 512
+
+Login Details
+==============================
+* User root pwd: linux
diff --git a/doc/examples/suse-11.4/suse-min-gnome.readme b/doc/examples/suse-11.4/suse-min-gnome.readme
index 1a5fa35..1bc3da1 100644
--- a/doc/examples/suse-11.4/suse-min-gnome.readme
+++ b/doc/examples/suse-11.4/suse-min-gnome.readme
@@ -15,7 +15,7 @@ KIWI Image Description Example
 How to build this Example
 ==============================
 
-    kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.3/suse-min-gnome \
+    kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.4/suse-min-gnome \
          --root /tmp/mymingnome
 
     kiwi --create /tmp/mymingnome -d /tmp/mymingnome-result
@@ -26,7 +26,7 @@ How to test this Example
   virtualization software. Using qemu as an example you can use the 
   following command to test the VMware image for a 64 bit build.
 
-   qemu-kvm /tmp/mymingnome-result/suse-11.3-gnome-demo.x86_64-1.0.1.vmdk
+   qemu-kvm /tmp/mymingnome-result/suse-11.4-gnome-demo.x86_64-1.0.1.vmdk
 
   
 Login Details
diff --git a/doc/examples/suse-11.4/suse-oem-preload.readme b/doc/examples/suse-11.4/suse-oem-preload.readme
index e8666ce..595fc03 100644
--- a/doc/examples/suse-11.4/suse-oem-preload.readme
+++ b/doc/examples/suse-11.4/suse-oem-preload.readme
@@ -17,7 +17,7 @@ KIWI Image Description Example
 How to build this Example
 ==============================
 
-    kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.3/suse-oem-preload \
+    kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.4/suse-oem-preload \
          --root /tmp/myoem
 
     kiwi --create /tmp/myoem --type split -d /tmp/myoem-result
@@ -30,7 +30,7 @@ How to test this Example
   image. The installation disk should be tested on a bare test system
   For the .raw test just call:
 
-    qemu /tmp/myoem-result/use-11.3-oem-preload.i686-1.1.2.raw -m 512
+    qemu /tmp/myoem-result/use-11.4-oem-preload.i686-1.1.2.raw -m 512
 
   Please note if you test an oem image the virtual disk geometry of the
   image is the same as the disk geometry inside the host system. According
diff --git a/doc/examples/suse-11.4/suse-pxe-client.readme b/doc/examples/suse-11.4/suse-pxe-client.readme
index c54f025..78da342 100644
--- a/doc/examples/suse-11.4/suse-pxe-client.readme
+++ b/doc/examples/suse-11.4/suse-pxe-client.readme
@@ -49,7 +49,7 @@ KIWI Image Description Example
 How to build this Example
 ==============================
 
-    kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.3/suse-pxe-client \
+    kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.4/suse-pxe-client \
          --root /tmp/mypxe
 
     kiwi --create /tmp/mypxe --type pxe -d /tmp/mypxe-result
@@ -60,22 +60,22 @@ How to test this Example
   the boot server. According to this example one should do:
 
   - copy the boot image
-    cp /tmp/mypxe-result/initrd-netboot-suse-11.3.i686-2.1.1.splash.gz \
+    cp /tmp/mypxe-result/initrd-netboot-suse-11.4.i686-2.1.1.splash.gz \
        /srv/tftpboot/boot/initrd
 
   - copy the kernel image
-    cp /tmp/mypxe-result/initrd-netboot-suse-11.3.i686-2.1.1.kernel \
+    cp /tmp/mypxe-result/initrd-netboot-suse-11.4.i686-2.1.1.kernel \
        /srv/tftpboot/boot/linux
 
   - copy the system image and md5 sum
-    cp /tmp/mypxe-result/suse-11.3-pxe-client.i686-1.2.8 \
+    cp /tmp/mypxe-result/suse-11.4-pxe-client.i686-1.2.8 \
        /srv/tftpboot/image
-    cp /tmp/mypxe-result/suse-11.3-pxe-client.i686-1.2.8.md5 \
+    cp /tmp/mypxe-result/suse-11.4-pxe-client.i686-1.2.8.md5 \
        /srv/tftpboot/image  
 
   - copy the image boot configuration
     ===&gt; make sure you know the MAX address of your pxe client !
-    cp /tmp/mypxe-result/suse-11.3-pxe-client.i686-1.2.8.config \
+    cp /tmp/mypxe-result/suse-11.4-pxe-client.i686-1.2.8.config \
        /srv/tftpboot/KIWI/config.&lt;MAC&gt;
 
   - make sure the values in /srv/tftpboot/pxelinux.cfg/default
diff --git a/doc/examples/suse-11.4/suse-vm-guest.readme b/doc/examples/suse-11.4/suse-vm-guest.readme
index 84e5e73..c40dfac 100644
--- a/doc/examples/suse-11.4/suse-vm-guest.readme
+++ b/doc/examples/suse-11.4/suse-vm-guest.readme
@@ -9,7 +9,7 @@ KIWI Image Description Example
 How to build this Example
 ==============================
 
-    kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.3/suse-vm-guest \
+    kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.4/suse-vm-guest \
          --root /tmp/myvm
 
     kiwi --create /tmp/myvm --type vmx -d /tmp/myvm-result
@@ -19,13 +19,13 @@ How to test this Example
 * Testing virtual disk images can only happen in virtualisation systems.
   For example:
 
-    qemu /tmp/myvm-result/suse-11.3-vm-guest.i686-1.1.2.raw -m 512
+    qemu /tmp/myvm-result/suse-11.4-vm-guest.i686-1.1.2.raw -m 512
 
   If specified in config.xml kiwi can also create the guest configuration
   as required for VMware. The guest configuration for this example can
   be found here:
 
-    /tmp/myvm-result/suse-11.3-vm-guest.i686-1.1.2.vmx
+    /tmp/myvm-result/suse-11.4-vm-guest.i686-1.1.2.vmx
 
   If a format attribute is specified kiwi also converts the raw image
   format into the specified format. For example VMware uses the vmdk
diff --git a/doc/examples/suse-11.4/suse-xen-guest.readme b/doc/examples/suse-11.4/suse-xen-guest.readme
index 7a391b2..64e3b01 100644
--- a/doc/examples/suse-11.4/suse-xen-guest.readme
+++ b/doc/examples/suse-11.4/suse-xen-guest.readme
@@ -7,7 +7,7 @@ How to build this Example
 ==============================
 
     kiwi --prepare \
-         /usr/share/doc/packages/kiwi/examples/suse-11.3/suse-xen-guest \
+         /usr/share/doc/packages/kiwi/examples/suse-11.4/suse-xen-guest \
          --root /tmp/myxen
 
     kiwi --create /tmp/myxen -d /tmp/myxen-result
@@ -17,7 +17,7 @@ How to test this Example
 * Testing the xen image works together with the Xen tools. In this
   example activating the guest domain X requires the following call:
 
-    xm create -c /tmp/myxen-result/suse-11.3-xen-guest.i686-1.1.2.xenconfig
+    xm create -c /tmp/myxen-result/suse-11.4-xen-guest.i686-1.1.2.xenconfig
 
 Login Details
 ==============================


hooks/post-receive
-- 
Project kiwi at BerliOS

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003223.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 1963d5ea123fb79b28654ea68c20e231f61fcc42
</A></li>
	<LI>Next message: <A HREF="003225.html">[Kiwi-devel] silent boot mode for OEM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3224">[ date ]</a>
              <a href="thread.html#3224">[ thread ]</a>
              <a href="subject.html#3224">[ subject ]</a>
              <a href="author.html#3224">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
