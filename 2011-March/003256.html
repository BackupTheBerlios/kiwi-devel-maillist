<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] ownership -- throwing out an idea
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20ownership%20--%20throwing%20out%20an%20idea&In-Reply-To=%3C20110328092513.GA4346%40D7.ddts.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003252.html">
   <LINK REL="Next"  HREF="003257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] ownership -- throwing out an idea</H1>
    <B>Marcus Sch&#228;fer</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20ownership%20--%20throwing%20out%20an%20idea&In-Reply-To=%3C20110328092513.GA4346%40D7.ddts.net%3E"
       TITLE="[Kiwi-devel] ownership -- throwing out an idea">ms at suse.de
       </A><BR>
    <I>Mon Mar 28 11:25:13 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003252.html">[Kiwi-devel] ownership -- throwing out an idea
</A></li>
        <LI>Next message: <A HREF="003257.html">[Kiwi-devel] ownership -- throwing out an idea
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3256">[ date ]</a>
              <a href="thread.html#3256">[ thread ]</a>
              <a href="subject.html#3256">[ subject ]</a>
              <a href="author.html#3256">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> &gt;I think there might also be some bugs in the distribution
</I>&gt;<i> &gt;which prevents the ownership from being set correctly.
</I>&gt;<i> &gt;I don't think that it's kiwi's task to fix them too
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> No definitely not, and I was not trying to imply that. Kiwi just
</I>&gt;<i> should take care of the files that get into the image via archives
</I>&gt;<i> and the overlay tree. Everything else is the responsibility of the
</I>&gt;<i> packages, no question about that.
</I>
ok, I'm fully behind you with that. But how should we safely
implement it ? In terms of the users home data everything should
be owned by that user. So it's easy to handle that, and we already
provide a function called

   baseSetupUserPermissions()

which one can call in the config.sh script.

So the question is how to handle everything else which can be
part of the overlay tree. I think to let everything else owned
by root:root would be a mistake. There are daemon users like
postfix, wwwrun or sshd. If the user has created overlay files
which are related to that services and did not store them
with the right ownership, how should we know it ?

I also think that all of the special users have the same
user and group id according to LSB, so files in the overlay
tree belonging to e.g wwwrun are also belong to wwwrun
inside the new root tree

Thoughts ?

Regards,
Marcus
-- 
 Public Key available
 gpg --keyserver gpg-keyserver.de --recv-keys 0xCCE3C6A2
 -------------------------------------------------------
 Marcus Sch&#228;fer (Res. &amp; Dev.)   SUSE LINUX Products GmbH
 Tel: 0911-740 53 0             Maxfeldstrasse 5
 FAX: 0911-740 53 479           D-90409 N&#252;rnberg
 GF: Markus Rex                 HRB: 16746 (AG N&#252;rnberg)
 <A HREF="http://www.suse.de">http://www.suse.de</A>             Germany
 -------------------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003252.html">[Kiwi-devel] ownership -- throwing out an idea
</A></li>
	<LI>Next message: <A HREF="003257.html">[Kiwi-devel] ownership -- throwing out an idea
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3256">[ date ]</a>
              <a href="thread.html#3256">[ thread ]</a>
              <a href="subject.html#3256">[ subject ]</a>
              <a href="author.html#3256">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
