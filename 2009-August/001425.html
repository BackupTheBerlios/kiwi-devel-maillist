<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 2d08ee844bdef07353b575597f55836b667e556c
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%202d08ee844bdef07353b575597f55836b667e556c&In-Reply-To=%3C200908251502.n7PF2mCN019398%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001424.html">
   <LINK REL="Next"  HREF="001426.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 2d08ee844bdef07353b575597f55836b667e556c</H1>
    <B>marcus_schaefer at BerliOS</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%202d08ee844bdef07353b575597f55836b667e556c&In-Reply-To=%3C200908251502.n7PF2mCN019398%40sheep.berlios.de%3E"
       TITLE="[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 2d08ee844bdef07353b575597f55836b667e556c">marcus_schaefer at mail.berlios.de
       </A><BR>
    <I>Tue Aug 25 17:02:48 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001424.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 38e7fab1e17f16707b750b3ed781f6ae2ae00800
</A></li>
        <LI>Next message: <A HREF="001426.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 96e36003c4e48dbacf36a0efce0195e1825f6115
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1425">[ date ]</a>
              <a href="thread.html#1425">[ thread ]</a>
              <a href="subject.html#1425">[ subject ]</a>
              <a href="author.html#1425">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;Project kiwi at BerliOS&quot;.

The branch, master has been updated
       via  2d08ee844bdef07353b575597f55836b667e556c (commit)
      from  38e7fab1e17f16707b750b3ed781f6ae2ae00800 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 2d08ee844bdef07353b575597f55836b667e556c
Author: Marcus Sch&#195;&#164;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&gt;
Date:   Tue Aug 25 17:02:31 2009 +0200

    - fixed bootloader title setup if multiple kernels are installed
    - restructured oem repartition code to allow use of parted.
      parted does not allow to create custom partition id's they
      are the result of a sequence of subsequently created partitions.
      parted implementation will follow soon
    - allow only bool (true/false) content for the oem-*
      boolean attributes

-----------------------------------------------------------------------

Summary of changes:
diff --git a/doc/examples/suse-11.1/suse-live-stick/config.xml b/doc/examples/suse-11.1/suse-live-stick/config.xml
index fdaf3f9..015566d 100644
--- a/doc/examples/suse-11.1/suse-live-stick/config.xml
+++ b/doc/examples/suse-11.1/suse-live-stick/config.xml
@@ -11,16 +11,15 @@
 		&lt;type filesystem=&quot;squashfs&quot; boot=&quot;vmxboot/suse-11.1&quot;&gt;vmx&lt;/type&gt;
 		&lt;version&gt;1.1.2&lt;/version&gt;
 		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
-		&lt;rpm-check-signatures&gt;False&lt;/rpm-check-signatures&gt;
+		&lt;rpm-check-signatures&gt;false&lt;/rpm-check-signatures&gt;
 		&lt;rpm-force&gt;true&lt;/rpm-force&gt;
 		&lt;rpm-excludedocs&gt;true&lt;/rpm-excludedocs&gt;
-		&lt;oem-swap&gt;no&lt;/oem-swap&gt;
-		&lt;oem-kiwi-initrd&gt;yes&lt;/oem-kiwi-initrd&gt;
+		&lt;oem-swap&gt;false&lt;/oem-swap&gt;
+		&lt;oem-kiwi-initrd&gt;true&lt;/oem-kiwi-initrd&gt;
 		&lt;oem-boot-title&gt;USB&lt;/oem-boot-title&gt;
 		&lt;locale&gt;en_US.UTF-8&lt;/locale&gt;
 		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
 		&lt;timezone&gt;Europe/Berlin&lt;/timezone&gt;
-		
 	&lt;/preferences&gt;
 	&lt;users group=&quot;users&quot;&gt;
 		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/home/tux&quot; name=&quot;tux&quot;/&gt;
diff --git a/doc/examples/suse-11.2/suse-live-stick/config.xml b/doc/examples/suse-11.2/suse-live-stick/config.xml
index 0b069a3..e8d8bbb 100644
--- a/doc/examples/suse-11.2/suse-live-stick/config.xml
+++ b/doc/examples/suse-11.2/suse-live-stick/config.xml
@@ -11,11 +11,11 @@
 		&lt;type filesystem=&quot;clicfs&quot; boot=&quot;vmxboot/suse-11.2&quot;&gt;vmx&lt;/type&gt;
 		&lt;version&gt;1.1.2&lt;/version&gt;
 		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
-		&lt;rpm-check-signatures&gt;False&lt;/rpm-check-signatures&gt;
+		&lt;rpm-check-signatures&gt;false&lt;/rpm-check-signatures&gt;
 		&lt;rpm-force&gt;true&lt;/rpm-force&gt;
 		&lt;rpm-excludedocs&gt;true&lt;/rpm-excludedocs&gt;
-		&lt;oem-swap&gt;no&lt;/oem-swap&gt;
-		&lt;oem-kiwi-initrd&gt;yes&lt;/oem-kiwi-initrd&gt;
+		&lt;oem-swap&gt;false&lt;/oem-swap&gt;
+		&lt;oem-kiwi-initrd&gt;true&lt;/oem-kiwi-initrd&gt;
 		&lt;oem-boot-title&gt;USB&lt;/oem-boot-title&gt;
 		&lt;locale&gt;en_US.UTF-8&lt;/locale&gt;
 		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
diff --git a/modules/KIWILinuxRC.sh b/modules/KIWILinuxRC.sh
index baf1ee4..62b5062 100644
--- a/modules/KIWILinuxRC.sh
+++ b/modules/KIWILinuxRC.sh
@@ -515,9 +515,10 @@ function installBootLoaderGrubRecovery {
 	# fourth primary partition of the disk
 	# ----
 	local input=/grub.input
+	local gdevreco=$(expr $recoid - 1)
 	echo &quot;device (hd0) $imageDiskDevice&quot; &gt; $input
-	echo &quot;root (hd0,3)&quot;  &gt;&gt; $input
-	echo &quot;setup (hd0,3)&quot; &gt;&gt; $input
+	echo &quot;root (hd0,$gdevreco)&quot;  &gt;&gt; $input
+	echo &quot;setup (hd0,$gdevreco)&quot; &gt;&gt; $input
 	echo &quot;quit&quot;          &gt;&gt; $input
 	if [ -x /mnt/usr/sbin/grub ];then
 		/mnt/usr/sbin/grub --batch &lt; $input 1&gt;&amp;2
@@ -731,6 +732,7 @@ function setupBootLoaderGrubRecovery {
 	local kernel=&quot;&quot;
 	local initrd=&quot;&quot;
 	local fbmode=$vga
+	local gdevreco=$(expr $recoid - 1)
 	if [ -z &quot;$fbmode&quot; ];then
 		fbmode=$DEFAULT_VGA
 	fi
@@ -754,7 +756,7 @@ function setupBootLoaderGrubRecovery {
 	#--------------------------------------
 	if [ ! -z &quot;$OEM_RECOVERY&quot; ];then
 		echo &quot;title Recovery&quot;                             &gt;&gt; $menu
-		gdev_recovery=&quot;(hd0,3)&quot;
+		gdev_recovery=&quot;(hd0,$gdevreco)&quot;
 		rdev_recovery=$OEM_RECOVERY
 		diskByID=`getDiskID $rdev_recovery`
 		if xenServer;then
@@ -765,7 +767,7 @@ function setupBootLoaderGrubRecovery {
 			echo -n &quot; vga=$fbmode splash=silent&quot;          &gt;&gt; $menu
 			echo -n &quot; $KIWI_INITRD_PARAMS&quot;                &gt;&gt; $menu
 			echo -n &quot; $KIWI_KERNEL_OPTIONS&quot;               &gt;&gt; $menu
-			echo &quot; KIWI_RECOVERY=1 showopts&quot;              &gt;&gt; $menu
+			echo &quot; KIWI_RECOVERY=$recoid showopts&quot;        &gt;&gt; $menu
 			echo &quot; module /boot/$initrd&quot;                  &gt;&gt; $menu
 		else
 			echo -n &quot; kernel $gdev_recovery/boot/$kernel&quot; &gt;&gt; $menu
@@ -773,7 +775,7 @@ function setupBootLoaderGrubRecovery {
 			echo -n &quot; vga=$fbmode splash=silent&quot;          &gt;&gt; $menu
 			echo -n &quot; $KIWI_INITRD_PARAMS&quot;                &gt;&gt; $menu
 			echo -n &quot; $KIWI_KERNEL_OPTIONS&quot;               &gt;&gt; $menu
-			echo &quot; KIWI_RECOVERY=1 showopts&quot;              &gt;&gt; $menu
+			echo &quot; KIWI_RECOVERY=$recoid showopts&quot;        &gt;&gt; $menu
 			echo &quot; initrd $gdev_recovery/boot/$initrd&quot;    &gt;&gt; $menu
 		fi
 	fi
@@ -859,7 +861,11 @@ function setupBootLoaderSyslinux {
 			kernel=&quot;linux.$count&quot;
 			initrd=&quot;initrd.$count&quot;
 			if ! echo $gfix | grep -E -q &quot;OEM|USB|VMX|unknown&quot;;then
-				title=$(makeLabel &quot;$gfix&quot;)
+				if [ &quot;$count&quot; = &quot;1&quot; ];then
+					title=$(makeLabel &quot;$gfix&quot;)
+				else
+					title=$(makeLabel &quot;$kname [ $gfix ]&quot;)
+				fi
 			elif [ -z &quot;$kiwi_oemtitle&quot; ];then
 				title=$(makeLabel &quot;$kname [ $gfix ]&quot;)
 			else
@@ -919,18 +925,18 @@ function setupBootLoaderSyslinux {
 				echo -n &quot; noresume selinux=0 nosmp&quot;            &gt;&gt; $conf
 				echo &quot; noapic maxcpus=0 edd=off&quot;               &gt;&gt; $conf
 			fi
-			#======================================
-			# create recovery entry
-			#--------------------------------------
-			if [ ! -z &quot;$OEM_RECOVERY&quot; ];then
-				systemException \
-					&quot;*** syslinux recovery chain loading not implemented ***&quot; \
-				&quot;reboot&quot;
-			fi
 			count=`expr $count + 1`
 		fi
 	done
 	#======================================
+	# create recovery entry
+	#--------------------------------------
+	if [ ! -z &quot;$OEM_RECOVERY&quot; ];then
+		systemException \
+			&quot;*** syslinux recovery chain loading not implemented ***&quot; \
+		&quot;reboot&quot;
+	fi
+	#======================================
 	# create sysconfig/bootloader
 	#--------------------------------------
 	echo &quot;LOADER_TYPE=\&quot;syslinux\&quot;&quot;                           &gt; $sysb
@@ -977,6 +983,7 @@ function setupBootLoaderGrub {
 	local rdisk=&quot;&quot;
 	local fbmode=$vga
 	local xencons=$xencons
+	local gdevreco=$(expr $recoid - 1)
 	if [ -z &quot;$fbmode&quot; ];then
 		fbmode=$DEFAULT_VGA
 	fi
@@ -1056,7 +1063,11 @@ function setupBootLoaderGrub {
 			initrd=`echo $i | cut -f2 -d:`
 			kname=${KERNEL_NAME[$count]}
 			if ! echo $gfix | grep -E -q &quot;OEM|USB|VMX|unknown&quot;;then
-				title=$(makeLabel &quot;$gfix&quot;)
+				if [ &quot;$count&quot; = &quot;1&quot; ];then
+					title=$(makeLabel &quot;$gfix&quot;)
+				else
+					title=$(makeLabel &quot;$kname [ $gfix ]&quot;)
+				fi
 			elif [ -z &quot;$kiwi_oemtitle&quot; ];then
 				title=$(makeLabel &quot;$kname [ $gfix ]&quot;)
 			else
@@ -1133,18 +1144,18 @@ function setupBootLoaderGrub {
 				echo &quot; noapic maxcpus=0 edd=off&quot;                  &gt;&gt; $menu
 				echo &quot; initrd $gdev/boot/$initrd&quot;                 &gt;&gt; $menu
 			fi
-			#======================================
-			# create recovery entry
-			#--------------------------------------
-			if [ ! -z &quot;$OEM_RECOVERY&quot; ];then
-				echo &quot;title Recovery&quot;                             &gt;&gt; $menu
-				echo &quot; rootnoverify (hd0,3)&quot;                      &gt;&gt; $menu
-				echo &quot; chainloader +1&quot;                            &gt;&gt; $menu
-			fi
-			count=`expr $count + 1`
+					count=`expr $count + 1`
 		fi
 	done
 	#======================================
+	# create recovery entry
+	#--------------------------------------
+	if [ ! -z &quot;$OEM_RECOVERY&quot; ];then
+		echo &quot;title Recovery&quot;                             &gt;&gt; $menu
+		echo &quot; rootnoverify (hd0,$gdevreco)&quot;              &gt;&gt; $menu
+		echo &quot; chainloader +1&quot;                            &gt;&gt; $menu
+	fi
+	#======================================
 	# create grub.conf file
 	#--------------------------------------
 	echo -en &quot;root $gdev\ninstall&quot;           &gt; $conf
@@ -1283,7 +1294,11 @@ function setupBootLoaderLilo {
 			initrd=`echo $i | cut -f2 -d:`
 			kname=${KERNEL_NAME[$count]}
 			if ! echo $lfix | grep -E -q &quot;OEM|USB|VMX|unknown&quot;;then
-				title=$(makeLabel &quot;$lfix&quot;)
+				if [ &quot;$count&quot; = &quot;1&quot; ];then
+					title=$(makeLabel &quot;$lfix&quot;)
+				else
+					title=$(makeLabel &quot;$kname [ $lfix ]&quot;)
+				fi
 			elif [ -z &quot;$kiwi_oemtitle&quot; ];then
 				title=$(makeLabel &quot;$kname [ $lfix ]&quot;)
 			else
@@ -1342,18 +1357,18 @@ function setupBootLoaderLilo {
 				echo -n &quot; ide=nodma apm=off acpi=off&quot;        &gt;&gt; $conf
 				echo &quot; noresume selinux=0 nosmp&quot;             &gt;&gt; $conf
 			fi
-			#======================================
-			# create recovery entry
-			#--------------------------------------
-			if [ ! -z &quot;$OEM_RECOVERY&quot; ];then
-				systemException \
-					&quot;*** lilo: recovery chain loading not implemented ***&quot; \
-				&quot;reboot&quot;
-			fi
 			count=`expr $count + 1`
 		fi
 	done
 	#======================================
+	# create recovery entry
+	#--------------------------------------
+	if [ ! -z &quot;$OEM_RECOVERY&quot; ];then
+		systemException \
+			&quot;*** lilo: recovery chain loading not implemented ***&quot; \
+		&quot;reboot&quot;
+	fi
+	#======================================
 	# create sysconfig/bootloader
 	#--------------------------------------
 	echo &quot;LOADER_TYPE=\&quot;lilo\&quot;&quot;                               &gt; $sysb
diff --git a/modules/KIWISchema.rnc b/modules/KIWISchema.rnc
index 3585b52..c28d9c4 100644
--- a/modules/KIWISchema.rnc
+++ b/modules/KIWISchema.rnc
@@ -882,6 +882,7 @@ div {
 # common element &lt;oem-swap&gt;
 #
 div {
+	k.oem-swap.content = xsd:boolean
 	k.oem-swap.attlist = empty
 	k.oem-swap =
 		## For oemboot driven images: use a swap partition yes/no
@@ -892,7 +893,7 @@ div {
 		]
 		element oem-swap {
 			k.oem-swap.attlist,
-			text
+			k.oem-swap.content
 		}
 }
 
@@ -900,6 +901,7 @@ div {
 # common element &lt;oem-home&gt;
 #
 div {
+	k.oem-home.content = xsd:boolean
 	k.oem-home.attlist = empty
 	k.oem-home =
 		## For oemboot driven images: use a home partition yes/no
@@ -910,7 +912,7 @@ div {
 		]
 		element oem-home {
 			k.oem-home.attlist,
-			text
+			k.oem-home.content
 		}
 }
 
@@ -918,6 +920,7 @@ div {
 # common element &lt;oem-recovery&gt;
 #
 div {
+	k.oem-recovery.content = xsd:boolean
 	k.oem-recovery.attlist = empty
 	k.oem-recovery =
 		## For oemboot driven images: create a recovery archive yes/no
@@ -928,7 +931,7 @@ div {
 		]
 		element oem-recovery {
 			k.oem-recovery.attlist,
-			text
+			k.oem-recovery.content
 		}
 }
 
@@ -958,6 +961,7 @@ div {
 # common element &lt;oem-kiwi-initrd&gt;
 #
 div {
+	k.oem-kiwi-initrd.content = xsd:boolean
 	k.oem-kiwi-initrd.attlist = empty
 	k.oem-kiwi-initrd =
 		## For oemboot driven images: use kiwi initrd in any case
@@ -970,7 +974,7 @@ div {
 		]
 		element oem-kiwi-initrd {
 			k.oem-kiwi-initrd.attlist,
-			text
+			k.oem-kiwi-initrd.content
 		}
 }
 
@@ -978,6 +982,7 @@ div {
 # common element &lt;oem-sap-install&gt;
 #
 div {
+	k.oem-sap-install.content = xsd:boolean
 	k.oem-sap-install.attlist = empty
 	k.oem-sap-install =
 		## For oemboot driven images: tag the image to be an SAP
@@ -994,7 +999,7 @@ div {
 		]
 		element oem-sap-install {
 			k.oem-sap-install.attlist,
-			text
+			k.oem-sap-install.content
 		}
 }
 
@@ -1002,6 +1007,7 @@ div {
 # common element &lt;oem-reboot&gt;
 #
 div {
+	k.oem-reboot.content = xsd:boolean
 	k.oem-reboot.attlist = empty
 	k.oem-reboot =
 		## For oemboot driven images: reboot after first deployment yes/no
@@ -1012,7 +1018,7 @@ div {
 		]
 		element oem-reboot {
 			k.oem-reboot.attlist,
-			text
+			k.oem-reboot.content
 		}
 }
 
diff --git a/modules/KIWISchema.rng b/modules/KIWISchema.rng
index 715140e..d8a83b8 100644
--- a/modules/KIWISchema.rng
+++ b/modules/KIWISchema.rng
@@ -1258,6 +1258,9 @@ partition in MB. No swapspace with oem-swap set to false.&lt;/db:para&gt;
     
   --&gt;
   &lt;div&gt;
+    &lt;define name=&quot;k.oem-swap.content&quot;&gt;
+      &lt;data type=&quot;boolean&quot;/&gt;
+    &lt;/define&gt;
     &lt;define name=&quot;k.oem-swap.attlist&quot;&gt;
       &lt;empty/&gt;
     &lt;/define&gt;
@@ -1266,7 +1269,7 @@ partition in MB. No swapspace with oem-swap set to false.&lt;/db:para&gt;
         &lt;a:documentation&gt;For oemboot driven images: use a swap partition yes/no&lt;/a:documentation&gt;
         &lt;db:para&gt;For oemboot driven images: use a swap partition yes/no.&lt;/db:para&gt;
         &lt;ref name=&quot;k.oem-swap.attlist&quot;/&gt;
-        &lt;text/&gt;
+        &lt;ref name=&quot;k.oem-swap.content&quot;/&gt;
       &lt;/element&gt;
     &lt;/define&gt;
   &lt;/div&gt;
@@ -1276,6 +1279,9 @@ partition in MB. No swapspace with oem-swap set to false.&lt;/db:para&gt;
     
   --&gt;
   &lt;div&gt;
+    &lt;define name=&quot;k.oem-home.content&quot;&gt;
+      &lt;data type=&quot;boolean&quot;/&gt;
+    &lt;/define&gt;
     &lt;define name=&quot;k.oem-home.attlist&quot;&gt;
       &lt;empty/&gt;
     &lt;/define&gt;
@@ -1284,7 +1290,7 @@ partition in MB. No swapspace with oem-swap set to false.&lt;/db:para&gt;
         &lt;a:documentation&gt;For oemboot driven images: use a home partition yes/no&lt;/a:documentation&gt;
         &lt;db:para&gt;For oemboot driven images: use a home partition yes/no.&lt;/db:para&gt;
         &lt;ref name=&quot;k.oem-home.attlist&quot;/&gt;
-        &lt;text/&gt;
+        &lt;ref name=&quot;k.oem-home.content&quot;/&gt;
       &lt;/element&gt;
     &lt;/define&gt;
   &lt;/div&gt;
@@ -1294,6 +1300,9 @@ partition in MB. No swapspace with oem-swap set to false.&lt;/db:para&gt;
     
   --&gt;
   &lt;div&gt;
+    &lt;define name=&quot;k.oem-recovery.content&quot;&gt;
+      &lt;data type=&quot;boolean&quot;/&gt;
+    &lt;/define&gt;
     &lt;define name=&quot;k.oem-recovery.attlist&quot;&gt;
       &lt;empty/&gt;
     &lt;/define&gt;
@@ -1302,7 +1311,7 @@ partition in MB. No swapspace with oem-swap set to false.&lt;/db:para&gt;
         &lt;a:documentation&gt;For oemboot driven images: create a recovery archive yes/no&lt;/a:documentation&gt;
         &lt;db:para&gt;For oemboot driven images: create a recovery archive yes/no&lt;/db:para&gt;
         &lt;ref name=&quot;k.oem-recovery.attlist&quot;/&gt;
-        &lt;text/&gt;
+        &lt;ref name=&quot;k.oem-recovery.content&quot;/&gt;
       &lt;/element&gt;
     &lt;/define&gt;
   &lt;/div&gt;
@@ -1334,6 +1343,9 @@ of the OEM image.&lt;/db:para&gt;
     
   --&gt;
   &lt;div&gt;
+    &lt;define name=&quot;k.oem-kiwi-initrd.content&quot;&gt;
+      &lt;data type=&quot;boolean&quot;/&gt;
+    &lt;/define&gt;
     &lt;define name=&quot;k.oem-kiwi-initrd.attlist&quot;&gt;
       &lt;empty/&gt;
     &lt;/define&gt;
@@ -1344,7 +1356,7 @@ and don't replace it with mkinitrd created initrd&lt;/a:documentation&gt;
         &lt;db:para&gt;For oemboot driven images: use kiwi initrd in any case
 and don't replace it with mkinitrd created initrd&lt;/db:para&gt;
         &lt;ref name=&quot;k.oem-kiwi-initrd.attlist&quot;/&gt;
-        &lt;text/&gt;
+        &lt;ref name=&quot;k.oem-kiwi-initrd.content&quot;/&gt;
       &lt;/element&gt;
     &lt;/define&gt;
   &lt;/div&gt;
@@ -1354,6 +1366,9 @@ and don't replace it with mkinitrd created initrd&lt;/db:para&gt;
     
   --&gt;
   &lt;div&gt;
+    &lt;define name=&quot;k.oem-sap-install.content&quot;&gt;
+      &lt;data type=&quot;boolean&quot;/&gt;
+    &lt;/define&gt;
     &lt;define name=&quot;k.oem-sap-install.attlist&quot;&gt;
       &lt;empty/&gt;
     &lt;/define&gt;
@@ -1368,7 +1383,7 @@ appliance. This causes some checks inside the initrd
 to become activated as well as a the media changer is
 started in early preinit&lt;/db:para&gt;
         &lt;ref name=&quot;k.oem-sap-install.attlist&quot;/&gt;
-        &lt;text/&gt;
+        &lt;ref name=&quot;k.oem-sap-install.content&quot;/&gt;
       &lt;/element&gt;
     &lt;/define&gt;
   &lt;/div&gt;
@@ -1378,6 +1393,9 @@ started in early preinit&lt;/db:para&gt;
     
   --&gt;
   &lt;div&gt;
+    &lt;define name=&quot;k.oem-reboot.content&quot;&gt;
+      &lt;data type=&quot;boolean&quot;/&gt;
+    &lt;/define&gt;
     &lt;define name=&quot;k.oem-reboot.attlist&quot;&gt;
       &lt;empty/&gt;
     &lt;/define&gt;
@@ -1386,7 +1404,7 @@ started in early preinit&lt;/db:para&gt;
         &lt;a:documentation&gt;For oemboot driven images: reboot after first deployment yes/no&lt;/a:documentation&gt;
         &lt;db:para&gt;For oemboot driven images: reboot after first deployment yes/no.&lt;/db:para&gt;
         &lt;ref name=&quot;k.oem-reboot.attlist&quot;/&gt;
-        &lt;text/&gt;
+        &lt;ref name=&quot;k.oem-reboot.content&quot;/&gt;
       &lt;/element&gt;
     &lt;/define&gt;
   &lt;/div&gt;
diff --git a/modules/KIWIXML.pm b/modules/KIWIXML.pm
index b99918e..62e7493 100644
--- a/modules/KIWIXML.pm
+++ b/modules/KIWIXML.pm
@@ -2205,12 +2205,12 @@ sub getImageConfig {
 		if (defined $boottheme) {
 			$result{kiwi_boottheme}= $boottheme;
 		}
-		if ((defined $oemswap) &amp;&amp; (&quot;$oemswap&quot; eq &quot;no&quot;)) {
+		if ((defined $oemswap) &amp;&amp; (&quot;$oemswap&quot; eq &quot;false&quot;)) {
 			$result{kiwi_oemswap} = &quot;no&quot;;
 		} elsif ((defined $oemswapMB) &amp;&amp; (&quot;$oemswapMB&quot; &gt; 0)) {
 			$result{kiwi_oemswapMB} = $oemswapMB;
 		}
-		if ((defined $oemhome) &amp;&amp; (&quot;$oemhome&quot; eq &quot;no&quot;)) {
+		if ((defined $oemhome) &amp;&amp; (&quot;$oemhome&quot; eq &quot;false&quot;)) {
 			$result{kiwi_oemhome} = &quot;no&quot;;
 		}
 		if ((defined $oemrootMB) &amp;&amp; (&quot;$oemrootMB&quot; &gt; 0)) {
@@ -2225,10 +2225,10 @@ sub getImageConfig {
 		if ((defined $oemsap) &amp;&amp; (&quot;$oemsap&quot; ne &quot;&quot;)) {
 			$result{kiwi_oemsap} = $oemsap
 		}
-		if ((defined $oemreboot) &amp;&amp; (&quot;$oemreboot&quot; eq &quot;yes&quot;)) {
+		if ((defined $oemreboot) &amp;&amp; (&quot;$oemreboot&quot; eq &quot;true&quot;)) {
 			$result{kiwi_oemreboot} = $oemreboot;
 		}
-		if ((defined $oemreco) &amp;&amp; (&quot;$oemreco&quot; eq &quot;yes&quot;)) {
+		if ((defined $oemreco) &amp;&amp; (&quot;$oemreco&quot; eq &quot;true&quot;)) {
 			$result{kiwi_oemrecovery} = $oemreco;
 		}
 	}
diff --git a/rpm/kiwi.changes b/rpm/kiwi.changes
index aa8b744..7689f87 100644
--- a/rpm/kiwi.changes
+++ b/rpm/kiwi.changes
@@ -1,4 +1,15 @@
 -------------------------------------------------------------------
+Tue Aug 25 15:01:17 CEST 2009 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>
+
+- fixed bootloader title setup if multiple kernels are installed
+- restructured oem repartition code to allow use of parted.
+  parted does not allow to create custom partition id's they
+  are the result of a sequence of subsequently created partitions.
+  parted implementation will follow soon
+- allow only bool (true/false) content for the oem-*
+  boolean attributes 
+
+-------------------------------------------------------------------
 Fri Aug 21 15:45:09 CEST 2009 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>
 
 - remove kernel-.*-base from all boot image descriptions
diff --git a/system/boot/ix86/oemboot/suse-linuxrc b/system/boot/ix86/oemboot/suse-linuxrc
index a622cb1..665444e 100755
--- a/system/boot/ix86/oemboot/suse-linuxrc
+++ b/system/boot/ix86/oemboot/suse-linuxrc
@@ -22,7 +22,7 @@
 export PATH=&quot;/sbin:/bin:/usr/sbin:/usr/bin&quot;
 export IFS_ORIG=$IFS
 export DEBUG=0
-export bootid=0
+export bootid=1
 
 #======================================
 # Exports (Booting)
@@ -49,7 +49,7 @@ export OEM_PARTITION_CONFIG=&quot;/config.oempartition&quot;
 #======================================
 # Functions...
 #--------------------------------------
-function setupDeviceNames {
+function setupInitialDeviceNames {
 	#======================================
 	# Check for DONT_PARTITION variable
 	#--------------------------------------
@@ -96,8 +96,8 @@ function setupDeviceNames {
 		# Standard setup
 		#--------------------------------------
 		if [ ! -z &quot;$KIWI_RECOVERY&quot; ];then
-			export imageRecoveryDevice=$(ddn $imageDiskDevice 4)
-			export imageRootDevice=$(ddn $imageDiskDevice 2)
+			export imageRecoveryDevice=$(ddn $imageDiskDevice $KIWI_RECOVERY)
+			export imageRootDevice=$(ddn $imageDiskDevice 1)
 		else
 			for i in 1 2;do
 				export imageRootDevice=$imageDiskDevice$i
@@ -238,7 +238,7 @@ fi
 #======================================
 # 11) Setup device names...
 #--------------------------------------
-setupDeviceNames
+setupInitialDeviceNames
 
 #======================================
 # 12) repartition the disk device
@@ -253,7 +253,7 @@ fi
 #--------------------------------------
 if isFSTypeReadOnly;then
 	setupUnionFS $imageRWDevice $imageRODevice $unionFST
-	bootid=1
+	bootid=2
 fi
 
 #======================================
@@ -425,7 +425,7 @@ if [ &quot;$LOCAL_BOOT&quot; = &quot;no&quot; ]; then
 		# DM use third partition as boot
 		#--------------------------------------
 		mkdir /mnt/dmboot
-		bootid=2
+		bootid=3
 		export imageBootDevice=$(ddn $imageDiskDevice 3)
 		mount $imageBootDevice /mnt/dmboot
 		cp -a  /mnt/boot /mnt/dmboot
@@ -440,10 +440,10 @@ if [ &quot;$LOCAL_BOOT&quot; = &quot;no&quot; ]; then
 		#--------------------------------------
 		mkdir -p /mnt/luksboot
 		imageBootDevice=$(ddn $imageDiskDevice 2)
-		bootid=1
+		bootid=2
 		if isFSTypeReadOnly;then
 			export imageBootDevice=$(ddn $imageDiskDevice 3)
-			bootid=2
+			bootid=3
 		fi
 		mount $imageBootDevice /mnt/luksboot
 		cp -a /mnt/boot /mnt/luksboot
@@ -549,7 +549,7 @@ if [ &quot;$LOCAL_BOOT&quot; = &quot;no&quot; ];then
 		OEM_RECOVERY=$imageRootDevice
 	fi
 	setupBootLoader \
-		/mnt /config $bootid $imageRootDevice \
+		/mnt /config $(($bootid - 1)) $imageRootDevice \
 		&quot;$OEM_BOOT_TITLE&quot; $imageSwapDevice
 	setupKernelModules /config
 fi
diff --git a/system/boot/ix86/oemboot/suse-repart b/system/boot/ix86/oemboot/suse-repart
index 6326ddc..009ee46 100755
--- a/system/boot/ix86/oemboot/suse-repart
+++ b/system/boot/ix86/oemboot/suse-repart
@@ -143,32 +143,34 @@ function OEMRepartStandard {
 					#--------------------------------------
 					if [ ! -z &quot;$OEM_SYSTEMSIZE&quot; ];then
 						createFDiskInput \
-							d n p 2 1 +&quot;$disk1MBytes&quot;M \
-							n p 1 . +&quot;$swapsize&quot;M \
-							t 1 82 w q
+							d n p 1 1 +&quot;$disk1MBytes&quot;M \
+							n p 2 . +&quot;$swapsize&quot;M \
+							t 2 82 w q
 					else
 						createFDiskInput \
-							d n p 2 1 +&quot;$disk1MBytes&quot;M \
-							n p 1 . . \
-							t 1 82 w q
+							d n p 1 1 +&quot;$disk1MBytes&quot;M \
+							n p 2 . . \
+							t 2 82 w q
 					fi
+					setupDeviceNames 1 2 no no 1 no
 				else
 					#======================================
 					# -home +swap +recovery
 					#--------------------------------------
 					if [ ! -z &quot;$OEM_SYSTEMSIZE&quot; ];then
 						createFDiskInput \
-							d n p 2 1 +&quot;$disk1MBytes&quot;M \
-							n p 4 . +&quot;$recoMByte&quot;M \
-							n p 1 . +&quot;$swapsize&quot;M \
-							t 1 82 w q
+							d n p 1 1 +&quot;$disk1MBytes&quot;M \
+							n p 2 . +&quot;$swapsize&quot;M \
+							n p 3 . +&quot;$recoMByte&quot;M \
+							t 2 82 w q
 					else
 						createFDiskInput \
-							d n p 2 1 +&quot;$disk1MBytes&quot;M \
-							n p 4 . +&quot;$recoMByte&quot;M \
-							n p 1 . . \
-							t 1 82 w q
+							d n p 1 1 +&quot;$disk1MBytes&quot;M \
+							n p 2 . +&quot;$swapsize&quot;M \
+							n p 3 . . \
+							t 2 82 w q
 					fi
+					setupDeviceNames 1 2 no 3 1 no
 				fi
 			else
 				#======================================
@@ -180,24 +182,26 @@ function OEMRepartStandard {
 					#--------------------------------------
 					if [ ! -z &quot;$OEM_SYSTEMSIZE&quot; ];then
 						createFDiskInput \
-							d n p 2 . +&quot;$disk1MBytes&quot;M w q
+							d n p 1 . +&quot;$disk1MBytes&quot;M w q
 					else
 						createFDiskInput \
-							d n p 2 . . w q
+							d n p 1 . . w q
 					fi
+					setupDeviceNames 1 no no no 1 no
 				else
 					#======================================
 					# -home -swap +recovery
 					#--------------------------------------
 					if [ ! -z &quot;$OEM_SYSTEMSIZE&quot; ];then
 						createFDiskInput \
-							d n p 2 1 +&quot;$disk1MBytes&quot;M \
-							n p 4 . +&quot;$recoMByte&quot;M w q
+							d n p 1 1 +&quot;$disk1MBytes&quot;M \
+							n p 2 . +&quot;$recoMByte&quot;M w q
 					else
 						createFDiskInput \
-							d n p 2 1 +&quot;$disk1MBytes&quot;M \
-							n p 4 . . w q
+							d n p 1 1 +&quot;$disk1MBytes&quot;M \
+							n p 2 . . w q
 					fi
+					setupDeviceNames 1 no no 2 1 no
 				fi
 			fi
 		else
@@ -213,20 +217,22 @@ function OEMRepartStandard {
 					# +home +swap -recovery
 					#--------------------------------------
 					createFDiskInput \
-						d n p 2 1 +&quot;$disk1MBytes&quot;M \
-						n p 1 . +&quot;$swapsize&quot;M \
+						d n p 1 1 +&quot;$disk1MBytes&quot;M \
+						n p 2 . +&quot;$swapsize&quot;M \
 						n p 3 . . \
-						t 1 82 w q
+						t 2 82 w q
+					setupDeviceNames 1 2 3 no 1 no
 				else
 					#======================================
 					# +home +swap +recovery
 					#--------------------------------------
 					createFDiskInput \
-						d n p 2 1 +&quot;$disk1MBytes&quot;M \
-						n p 1 . +&quot;$swapsize&quot;M \
-						n p 4 . +&quot;$recoMByte&quot;M \
-						n p 3 . . \
-						t 1 82 w q
+						d n p 1 1 +&quot;$disk1MBytes&quot;M \
+						n p 2 . +&quot;$swapsize&quot;M \
+						n p 3 . +&quot;$recoMByte&quot;M \
+						n p 4 . . \
+						t 2 82 w q
+					setupDeviceNames 1 2 4 3 1 no
 				fi
 			else
 				#======================================
@@ -237,16 +243,18 @@ function OEMRepartStandard {
 					# +home -swap -recovery
 					#--------------------------------------
 					createFDiskInput \
-						d n p 2 1 +&quot;$disk1MBytes&quot;M \
-						n p 3 . . w q
+						d n p 1 1 +&quot;$disk1MBytes&quot;M \
+						n p 2 . . w q
+					setupDeviceNames 1 no 2 no 1 no
 				else
 					#======================================
 					# +home -swap +recovery
 					#--------------------------------------
 					createFDiskInput \
-						d n p 2 1 +&quot;$disk1MBytes&quot;M \
-						n p 4 . +&quot;$recoMByte&quot;M \
+						d n p 1 1 +&quot;$disk1MBytes&quot;M \
+						n p 2 . +&quot;$recoMByte&quot;M \
 						n p 3 . . w q
+					setupDeviceNames 1 no 3 2 1 no
 				fi
 			fi
 		fi
@@ -257,18 +265,12 @@ function OEMRepartStandard {
 		fi
 	fi
 	#======================================
-	# Update new device names
+	# post repart actions
 	#--------------------------------------
 	if [ -z &quot;$DONT_PARTITION&quot; ];then
-		export imageRootDevice=$(luksOpen $(ddn $imageDiskDevice 2))
-		export imageSwapDevice=$(ddn $imageDiskDevice 1)
-		if [ -z &quot;$OEM_WITHOUTHOME&quot; ];then
-			export imageHomeDevice=$(ddn $imageDiskDevice 3)
-		fi
-		if [ ! -z &quot;$OEM_RECOVERY&quot; ];then
-			export imageRecoveryDevice=$(ddn $imageDiskDevice 4)
-		fi
-		bootid=1
+		#======================================
+		# Activate boot partition
+		#--------------------------------------
 		activateBootPartition
 	fi
 }
@@ -278,7 +280,8 @@ function OEMRepartStandard {
 #--------------------------------------
 function OEMRepartOverlayed {
 	# /.../
-	# repartition disk if overlay system via aufs is used
+	# repartition disk if overlay system via overlay filesystem
+	# like aufs, unionfs is used
 	# ---- 
 	#====================================== 
 	# no recovery support in union mode
@@ -355,9 +358,11 @@ function OEMRepartOverlayed {
 			if [ &quot;$haveDMSquash&quot; = &quot;yes&quot; ];then
 				createFDiskInput \
 					d 2 n p 2 . +&quot;$disk2MBytes&quot;M n p 3 . . w q
+				setupDeviceNames 1 no no no 3 2
 			else
 				createFDiskInput \
 					d 2 n p 2 . . w q
+				setupDeviceNames 1 no no no 2 2
 			fi
 		else
 			if [ &quot;$haveDMSquash&quot; = &quot;yes&quot; ];then
@@ -365,10 +370,12 @@ function OEMRepartOverlayed {
 					d 2 n p 2 . +&quot;$disk2MBytes&quot;M \
 					n p 3 . +&quot;$bootXMBytes&quot;M n p 4 . . \
 					t 4 82 w q
+				setupDeviceNames 1 4 no no 3 2
 			else
 				createFDiskInput \
 					d 2 n p 2 . +&quot;$disk2MBytes&quot;M n p 3 . . \
 					t 3 82 w q
+				setupDeviceNames 1 3 no no 2 2
 			fi
 		fi
 		Echo &quot;Repartition the disk according to current geometry&quot;
@@ -378,31 +385,23 @@ function OEMRepartOverlayed {
 		fi
 	fi
 	#======================================
-	# Update new device names
+	# post repart actions
 	#--------------------------------------
 	if [ -z &quot;$DONT_PARTITION&quot; ];then
-		export imageRootDevice=$(luksOpen $(ddn $imageDiskDevice 1))
-		export imageIOWRDevice=$(luksOpen $(ddn $imageDiskDevice 2) luksReadWrite)
+		#======================================
+		# LUKS maps
+		#--------------------------------------
+		export imageIOWRDevice=$(luksOpen $imageIOWRDevice luksReadWrite)
 		export imageRWDevice=$imageIOWRDevice
 		export imageRODevice=$imageRootDevice
-		if [ ! $swapsize = 0 ];then
-			if [ &quot;$haveDMSquash&quot; = &quot;yes&quot; ];then
-				export imageSwapDevice=$(ddn $imageDiskDevice 4)
-			else
-				export imageSwapDevice=$(ddn $imageDiskDevice 3)
-			fi
-		fi
-		if [ &quot;$haveDMSquash&quot; = &quot;yes&quot; ];then
-			bootid=2
-		else
-			bootid=1
-		fi
+		#======================================
+		# Activate boot partition
+		#--------------------------------------
 		activateBootPartition
 		#======================================
 		# Create bootfs if DM squash setup
 		#--------------------------------------
 		if [ &quot;$haveDMSquash&quot; = &quot;yes&quot; ];then
-			export imageBootDevice=$(ddn $imageDiskDevice 3)
 			if ! mke2fs -T ext2 -q $imageBootDevice &gt;/dev/null 2&gt;&amp;1;then
 				systemException &quot;Failed to create Boot filesystem&quot; &quot;reboot&quot;
 			fi
@@ -485,9 +484,11 @@ function OEMRepartCombined {
 		if [ $swapsize = 0 ];then
 			createFDiskInput \
 				d 2 n p 2 . . w q
+			setupDeviceNames 1 no no no 2 2
 		else
 			createFDiskInput \
 				d 2 n p 2 . +&quot;$disk2MBytes&quot;M n p 3 . . t 3 82 w q
+			setupDeviceNames 1 3 no no 2 2
 		fi
 		Echo &quot;Repartition the disk according to current geometry&quot;
 		fdisk $imageDiskDevice &lt; $input 1&gt;&amp;2
@@ -496,15 +497,18 @@ function OEMRepartCombined {
 		fi
 	fi
 	#======================================
-	# Update new device names
+	# post repart actions
 	#--------------------------------------
 	if [ -z &quot;$DONT_PARTITION&quot; ];then
-		export imageRootDevice=$(luksOpen $(ddn $imageDiskDevice 1))
-		export imageSwapDevice=$(ddn $imageDiskDevice 3)
-		export imageIOWRDevice=$(luksOpen $(ddn $imageDiskDevice 2) luksReadWrite)
+		#======================================
+		# LUKS maps
+		#--------------------------------------
+		export imageIOWRDevice=$(luksOpen $imageIOWRDevice luksReadWrite)
 		export imageRWDevice=$imageIOWRDevice
 		export imageRODevice=$imageRootDevice
-		bootid=1
+		#======================================
+		# Activate boot partition
+		#--------------------------------------
 		activateBootPartition
 	fi
 }
@@ -548,7 +552,7 @@ function OEMRepartLVM {
 	#======================================
 	# Set boot id
 	#--------------------------------------
-	bootid=1
+	bootid=2
 	activateBootPartition
 	vgchange -a y kiwiVG
 	pvcreate $(ddn $imageDiskDevice 3)
@@ -691,6 +695,7 @@ function OEMRepartLuks {
 			if isFSTypeReadOnly;then
 				createFDiskInput \
 					d 2 d 3 n p 2 . +&quot;$disk2MBytes&quot;M n p 3 . . w q
+				setupDeviceNames 1 no no no 3 2
 			else
 				if [ ! -z &quot;$OEM_SYSTEMSIZE&quot; ];then
 					createFDiskInput \
@@ -700,6 +705,7 @@ function OEMRepartLuks {
 					createFDiskInput \
 						d 2 d n p 1 . +&quot;$disk1MBytes&quot;M n p 2 . . w q
 				fi
+				setupDeviceNames 1 no no no 2 no
 			fi
 		else
 			if isFSTypeReadOnly;then
@@ -708,6 +714,7 @@ function OEMRepartLuks {
 					n p 3 . +&quot;$bootXMBytes&quot;M \
 					n p 4 . . \
 					t 4 82 w q
+				setupDeviceNames 1 4 no no 3 2
 			else
 				if [ ! -z &quot;$OEM_SYSTEMSIZE&quot; ];then
 					createFDiskInput \
@@ -722,6 +729,7 @@ function OEMRepartLuks {
 						n p 3 . . \
 						t 3 82 w q
 				fi
+				setupDeviceNames 1 3 no no 2 no
 			fi
 		fi
 		luksClose
@@ -732,26 +740,24 @@ function OEMRepartLuks {
 		fi
 	fi
 	#======================================
-	# Update new device names
+	# post repart actions
 	#--------------------------------------
 	if [ -z &quot;$DONT_PARTITION&quot; ];then
-		bootid=1
-		if isFSTypeReadOnly;then
-			bootid=2
-		fi
-		activateBootPartition
-		export imageRootDevice=$(luksOpen $(ddn $imageDiskDevice 1))
-		export imageBootDevice=$(ddn $imageDiskDevice 2)
-		export imageSwapDevice=$(ddn $imageDiskDevice 3)
+		#======================================
+		# LUKS Maps
+		#--------------------------------------
+		export imageRootDevice=$(luksOpen $imageRootDevice)
 		if isFSTypeReadOnly;then
-			export imageBootDevice=$(ddn $imageDiskDevice 3)
-			export imageSwapDevice=$(ddn $imageDiskDevice 4)
-			export imageIOWRDevice=$(luksOpen $(ddn $imageDiskDevice 2) luksReadWrite)
+			export imageIOWRDevice=$(luksOpen $imageIOWRDevice luksReadWrite)
 			export imageRWDevice=$imageIOWRDevice
 			export imageRODevice=$imageRootDevice
 		fi
 		#======================================
-		# Create bootfs if DM squash setup
+		# Activate boot partition
+		#--------------------------------------		
+		activateBootPartition
+		#======================================
+		# Create boot filesystem
 		#--------------------------------------
 		if ! mke2fs -T ext2 -q $imageBootDevice &gt;/dev/null 2&gt;&amp;1;then
 			systemException &quot;Failed to create Boot filesystem&quot; &quot;reboot&quot;
@@ -855,10 +861,9 @@ function activateBootPartition {
 	# set boot flag to current value of $bootid
 	# ----
 	local input=/part.input
-	local bid=`expr $bootid + 1`
-	Echo &quot;Set boot flag to partition ID: $bid [ $imageDiskDevice ]&quot;
+	Echo &quot;Set boot flag to partition ID: $bootid [ $imageDiskDevice ]&quot;
 	rm -f $input
-	for cmd in a $bid w q; do
+	for cmd in a $bootid w q; do
 		echo $cmd &gt;&gt; $input
 	done
 	fdisk $imageDiskDevice &lt; $input 1&gt;&amp;2
@@ -881,3 +886,54 @@ function createFDiskInput {
 		echo $cmd &gt;&gt; $input
 	done
 }
+
+#======================================
+# setupDeviceNames
+#--------------------------------------
+function setupDeviceNames {
+	local rootID=$1
+	local swapID=$2
+	local homeID=$3
+	local recoID=$4
+	local bootID=$5
+	local iorwID=$6
+	#======================================
+	# set root device name
+	#--------------------------------------
+	export imageRootDevice=$(ddn $imageDiskDevice $rootID)
+	#======================================
+	# set swap device name
+	#--------------------------------------
+	if [ ! $swapID = &quot;no&quot; ];then
+		export imageSwapDevice=$(ddn $imageDiskDevice $swapID)
+	fi
+	#======================================
+	# set home device name
+	#--------------------------------------
+	if [ ! $homeID = &quot;no&quot; ];then
+		export imageHomeDevice=$(ddn $imageDiskDevice $homeID)
+	fi
+	#======================================
+	# set recovery device name
+	#--------------------------------------
+	if [ ! $recoID = &quot;no&quot; ];then
+		export imageRecoveryDevice=$(ddn $imageDiskDevice $recoID)
+		export recoid=$recoID
+	fi
+	#======================================
+	# set read-write device name
+	#--------------------------------------
+	if [ ! $iorwID = &quot;no&quot; ];then
+		export imageIOWRDevice=$(ddn $imageDiskDevice $iorwID)
+		export imageRWDevice=$imageIOWRDevice
+		export imageRODevice=$imageRootDevice
+	fi
+	#======================================
+	# set boot device name
+	#--------------------------------------
+	export imageBootDevice=$(ddn $imageDiskDevice $bootID)
+	#======================================
+	# set boot partition id
+	#--------------------------------------
+	export bootid=$bootID
+}


hooks/post-receive
-- 
Project kiwi at BerliOS

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001424.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 38e7fab1e17f16707b750b3ed781f6ae2ae00800
</A></li>
	<LI>Next message: <A HREF="001426.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 96e36003c4e48dbacf36a0efce0195e1825f6115
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1425">[ date ]</a>
              <a href="thread.html#1425">[ thread ]</a>
              <a href="subject.html#1425">[ subject ]</a>
              <a href="author.html#1425">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
