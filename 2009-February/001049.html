<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] r1927 - in kiwi-head: . doc doc/LaTex modules rpm	system/boot/ix86/oemboot/suse-10.3	system/boot/ix86/oemboot/suse-11.0	system/boot/ix86/oemboot/suse-11.1	system/boot/ix86/oemboot/suse-11.2	system/boot/ix86/oemboot/suse-SLED10	system/boot/ix86/oemboot/suse-SLED11	system/boot/ix86/oemboot/suse-SLES10	system/boot/ix86/oemboot/suse-SLES11	system/boot/ix86/usbboot/suse-10.3	system/boot/ix86/usbboot/suse-11.0	system/boot/ix86/usbboot/suse-11.1	system/boot/ix86/usbboot/suse-11.2	system/boot/ix86/usbboot/suse-SLED10	system/boot/ix86/usbboot/suse-SLED11	system/boot/ix86/usbboot/suse-SLES10	system/boot/ix86/usbboot/suse-SLES11	system/boot/ix86/vmxboot/suse-10.3	system/boot/ix86/vmxboot/suse-11.0	system/boot/ix86/vmxboot/suse-11.1	system/boot/ix86/vmxboot/suse-11.2	system/boot/ix86/vmxboot/suse-SLED10	system/boot/ix86/vmxboot/suse-SLED11	system/boot/ix86/vmxboot/suse-SLES10	system/boot/ix86/vmxboot/suse-SLES11
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20r1927%20-%20in%20kiwi-head%3A%20.%20doc%20doc/LaTex%20modules%20rpm%0A%09system/boot/ix86/oemboot/suse-10.3%0A%09system/boot/ix86/oemboot/suse-11.0%0A%09system/boot/ix86/oemboot/suse-11.1%0A%09system/boot/ix86/oemboot/suse-11.2%0A%09system/boot/ix86/oemboot/suse-SLED10%0A%09system/boot/ix86/oemboot/suse-SLED11%0A%09system/boot/ix86/oemboot/suse-SLES10%0A%09system/boot/ix86/oemboot/suse-SLES11%0A%09system/boot/ix86/usbboot/suse-10.3%0A%09system/boot/ix86/usbboot/suse-11.0%0A%09system/boot/ix86/usbboot/suse-11.1%0A%09system/boot/ix86/usbboot/suse-11.2%0A%09system/boot/ix86/usbboot/suse-SLED10%0A%09system/boot/ix86/usbboot/suse-SLED11%0A%09system/boot/ix86/usbboot/suse-SLES10%0A%09system/boot/ix86/usbboot/suse-SLES11%0A%09system/boot/ix86/vmxboot/suse-10.3%0A%09system/boot/ix86/vmxboot/suse-11.0%0A%09system/boot/ix86/vmxboot/suse-11.1%0A%09system/boot/ix86/vmxboot/suse-11.2%0A%09system/boot/ix86/vmxboot/suse-SLED10%0A%09system/boot/ix86/vmxboot/suse-SLED11%0A%09system/boot/ix86/vmxboot/suse-SLES10%0A%09system/boot/ix86/vmxboot/suse-SLES11&In-Reply-To=%3C200902252052.n1PKqcIx023521%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001048.html">
   <LINK REL="Next"  HREF="001050.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] r1927 - in kiwi-head: . doc doc/LaTex modules rpm	system/boot/ix86/oemboot/suse-10.3	system/boot/ix86/oemboot/suse-11.0	system/boot/ix86/oemboot/suse-11.1	system/boot/ix86/oemboot/suse-11.2	system/boot/ix86/oemboot/suse-SLED10	system/boot/ix86/oemboot/suse-SLED11	system/boot/ix86/oemboot/suse-SLES10	system/boot/ix86/oemboot/suse-SLES11	system/boot/ix86/usbboot/suse-10.3	system/boot/ix86/usbboot/suse-11.0	system/boot/ix86/usbboot/suse-11.1	system/boot/ix86/usbboot/suse-11.2	system/boot/ix86/usbboot/suse-SLED10	system/boot/ix86/usbboot/suse-SLED11	system/boot/ix86/usbboot/suse-SLES10	system/boot/ix86/usbboot/suse-SLES11	system/boot/ix86/vmxboot/suse-10.3	system/boot/ix86/vmxboot/suse-11.0	system/boot/ix86/vmxboot/suse-11.1	system/boot/ix86/vmxboot/suse-11.2	system/boot/ix86/vmxboot/suse-SLED10	system/boot/ix86/vmxboot/suse-SLED11	system/boot/ix86/vmxboot/suse-SLES10	system/boot/ix86/vmxboot/suse-SLES11</H1>
    <B>marcus_schaefer at mail.berlios.de</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20r1927%20-%20in%20kiwi-head%3A%20.%20doc%20doc/LaTex%20modules%20rpm%0A%09system/boot/ix86/oemboot/suse-10.3%0A%09system/boot/ix86/oemboot/suse-11.0%0A%09system/boot/ix86/oemboot/suse-11.1%0A%09system/boot/ix86/oemboot/suse-11.2%0A%09system/boot/ix86/oemboot/suse-SLED10%0A%09system/boot/ix86/oemboot/suse-SLED11%0A%09system/boot/ix86/oemboot/suse-SLES10%0A%09system/boot/ix86/oemboot/suse-SLES11%0A%09system/boot/ix86/usbboot/suse-10.3%0A%09system/boot/ix86/usbboot/suse-11.0%0A%09system/boot/ix86/usbboot/suse-11.1%0A%09system/boot/ix86/usbboot/suse-11.2%0A%09system/boot/ix86/usbboot/suse-SLED10%0A%09system/boot/ix86/usbboot/suse-SLED11%0A%09system/boot/ix86/usbboot/suse-SLES10%0A%09system/boot/ix86/usbboot/suse-SLES11%0A%09system/boot/ix86/vmxboot/suse-10.3%0A%09system/boot/ix86/vmxboot/suse-11.0%0A%09system/boot/ix86/vmxboot/suse-11.1%0A%09system/boot/ix86/vmxboot/suse-11.2%0A%09system/boot/ix86/vmxboot/suse-SLED10%0A%09system/boot/ix86/vmxboot/suse-SLED11%0A%09system/boot/ix86/vmxboot/suse-SLES10%0A%09system/boot/ix86/vmxboot/suse-SLES11&In-Reply-To=%3C200902252052.n1PKqcIx023521%40sheep.berlios.de%3E"
       TITLE="[Kiwi-devel] r1927 - in kiwi-head: . doc doc/LaTex modules rpm	system/boot/ix86/oemboot/suse-10.3	system/boot/ix86/oemboot/suse-11.0	system/boot/ix86/oemboot/suse-11.1	system/boot/ix86/oemboot/suse-11.2	system/boot/ix86/oemboot/suse-SLED10	system/boot/ix86/oemboot/suse-SLED11	system/boot/ix86/oemboot/suse-SLES10	system/boot/ix86/oemboot/suse-SLES11	system/boot/ix86/usbboot/suse-10.3	system/boot/ix86/usbboot/suse-11.0	system/boot/ix86/usbboot/suse-11.1	system/boot/ix86/usbboot/suse-11.2	system/boot/ix86/usbboot/suse-SLED10	system/boot/ix86/usbboot/suse-SLED11	system/boot/ix86/usbboot/suse-SLES10	system/boot/ix86/usbboot/suse-SLES11	system/boot/ix86/vmxboot/suse-10.3	system/boot/ix86/vmxboot/suse-11.0	system/boot/ix86/vmxboot/suse-11.1	system/boot/ix86/vmxboot/suse-11.2	system/boot/ix86/vmxboot/suse-SLED10	system/boot/ix86/vmxboot/suse-SLED11	system/boot/ix86/vmxboot/suse-SLES10	system/boot/ix86/vmxboot/suse-SLES11">marcus_schaefer at mail.berlios.de
       </A><BR>
    <I>Wed Feb 25 21:52:38 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001048.html">[Kiwi-devel] r1926 - in kiwi-branches/KIWI-301-SuSE-11-1-Devel:	modules rpm
</A></li>
        <LI>Next message: <A HREF="001050.html">[Kiwi-devel] r1928 - in kiwi-branches/KIWI-301-SuSE-11-1-Devel:	modules rpm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1049">[ date ]</a>
              <a href="thread.html#1049">[ thread ]</a>
              <a href="subject.html#1049">[ subject ]</a>
              <a href="author.html#1049">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: marcus_schaefer
Date: 2009-02-25 21:52:09 +0100 (Wed, 25 Feb 2009)
New Revision: 1927

Modified:
   kiwi-head/doc/LaTex/Revision.txt
   kiwi-head/doc/LaTex/description.tex
   kiwi-head/doc/kiwi.pdf
   kiwi-head/kiwi.pl
   kiwi-head/modules/KIWIBoot.pm
   kiwi-head/modules/KIWILinuxRC.sh
   kiwi-head/modules/KIWIScheme.rnc
   kiwi-head/modules/KIWIScheme.rng
   kiwi-head/modules/KIWIURL.pm
   kiwi-head/modules/KIWIXML.pm
   kiwi-head/rpm/kiwi.changes
   kiwi-head/rpm/kiwi.spec
   kiwi-head/system/boot/ix86/oemboot/suse-10.3/config.xml
   kiwi-head/system/boot/ix86/oemboot/suse-11.0/config.xml
   kiwi-head/system/boot/ix86/oemboot/suse-11.1/config.xml
   kiwi-head/system/boot/ix86/oemboot/suse-11.2/config.xml
   kiwi-head/system/boot/ix86/oemboot/suse-SLED10/config.xml
   kiwi-head/system/boot/ix86/oemboot/suse-SLED11/config.xml
   kiwi-head/system/boot/ix86/oemboot/suse-SLES10/config.xml
   kiwi-head/system/boot/ix86/oemboot/suse-SLES11/config.xml
   kiwi-head/system/boot/ix86/usbboot/suse-10.3/config.xml
   kiwi-head/system/boot/ix86/usbboot/suse-11.0/config.xml
   kiwi-head/system/boot/ix86/usbboot/suse-11.1/config.xml
   kiwi-head/system/boot/ix86/usbboot/suse-11.2/config.xml
   kiwi-head/system/boot/ix86/usbboot/suse-SLED10/config.xml
   kiwi-head/system/boot/ix86/usbboot/suse-SLED11/config.xml
   kiwi-head/system/boot/ix86/usbboot/suse-SLES10/config.xml
   kiwi-head/system/boot/ix86/usbboot/suse-SLES11/config.xml
   kiwi-head/system/boot/ix86/vmxboot/suse-10.3/config.xml
   kiwi-head/system/boot/ix86/vmxboot/suse-11.0/config.xml
   kiwi-head/system/boot/ix86/vmxboot/suse-11.1/config.xml
   kiwi-head/system/boot/ix86/vmxboot/suse-11.2/config.xml
   kiwi-head/system/boot/ix86/vmxboot/suse-SLED10/config.xml
   kiwi-head/system/boot/ix86/vmxboot/suse-SLED11/config.xml
   kiwi-head/system/boot/ix86/vmxboot/suse-SLES10/config.xml
   kiwi-head/system/boot/ix86/vmxboot/suse-SLES11/config.xml
Log:

- v3.22
- fixed this path evaluation in upgrade mode
- added support for an alternative bootloader [syslinux].
  You can specify bootloader=&quot;syslinux&quot; as part of the type
  setup and kiwi uses syslinux instead of grub. This works
  for the _usb_ image type



Modified: kiwi-head/doc/LaTex/Revision.txt
===================================================================
--- kiwi-head/doc/LaTex/Revision.txt	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/doc/LaTex/Revision.txt	2009-02-25 20:52:09 UTC (rev 1927)
@@ -1 +1 @@
-3.19
\ No newline at end of file
+3.22
\ No newline at end of file

Modified: kiwi-head/doc/LaTex/description.tex
===================================================================
--- kiwi-head/doc/LaTex/description.tex	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/doc/LaTex/description.tex	2009-02-25 20:52:09 UTC (rev 1927)
@@ -224,11 +224,14 @@
 \item \textbf{usb}\\
       Use this type to create a USB stick system along with the
       attributes \textbf{filesystem} and \textbf{boot=''usbboot/suse-*''}
+      In addition to that type you can specify which bootloader to use.
+      The optional attribute \textbf{bootloader} is used to setup
+      either grub or syslinux as bootloader types.
 \item \textbf{vmx}\\
       Use this type to create a virtual disk system along with the
       attributes \textbf{filesystem}, \textbf{boot=''vmxboot/suse-*''} and
       optionally \textbf{format}. The format attribute spcifies one of
-      the qemu supported virtualisation formats, for example vmdk or qcow2.
+      the qemu supported virtualization formats, for example vmdk or qcow2.
 \item \textbf{oem}\\
       Use this type to create a preload virtual disk system along with
       the attributes \textbf{filesystem}, \textbf{boot=''oemboot/suse-*''} and

Modified: kiwi-head/doc/kiwi.pdf
===================================================================
(Binary files differ)

Modified: kiwi-head/kiwi.pl
===================================================================
--- kiwi-head/kiwi.pl	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/kiwi.pl	2009-02-25 20:52:09 UTC (rev 1927)
@@ -44,7 +44,7 @@
 #============================================
 # Globals (Version)
 #--------------------------------------------
-our $Version       = &quot;3.21&quot;;
+our $Version       = &quot;3.22&quot;;
 our $Publisher     = &quot;SUSE LINUX Products GmbH&quot;;
 our $Preparer      = &quot;KIWI - <A HREF="http://kiwi.berlios.de">http://kiwi.berlios.de</A>&quot;;
 our $openSUSE      = &quot;<A HREF="http://download.opensuse.org">http://download.opensuse.org</A>&quot;;

Modified: kiwi-head/modules/KIWIBoot.pm
===================================================================
--- kiwi-head/modules/KIWIBoot.pm	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/modules/KIWIBoot.pm	2009-02-25 20:52:09 UTC (rev 1927)
@@ -518,7 +518,10 @@
 	my $haveSplit = 0;
 	my $haveTree  = 0;
 	my $lvmbootMB = 0;
+	my $syslbootMB= 0;
+	my $bootloader= &quot;grub&quot;;
 	my $lvmsize;
+	my $syslsize;
 	my $FSTypeRW;
 	my $FSTypeRO;
 	my $status;
@@ -535,7 +538,7 @@
 	# add boot space if lvm based
 	#------------------------------------------
 	if ($lvm) {
-		$lvmbootMB = 10;
+		$lvmbootMB = 20;
 	}
 	#==========================================
 	# check if system is tree or image file
@@ -582,8 +585,25 @@
 			return undef;
 		}
 	}
-	$this-&gt;{imgtype} = $imgtype;
 	#==========================================
+	# load type attributes...
+	#------------------------------------------
+	my %type = %{$xml-&gt;getImageTypeAndAttributes()};
+	#==========================================
+	# setup boot loader type
+	#------------------------------------------
+	if ($type{bootloader}) {
+		$bootloader = $type{bootloader};
+	}
+	$this-&gt;{bootloader} = $bootloader;
+	$this-&gt;{imgtype}    = $imgtype;
+	#==========================================
+	# add boot space if syslinux based
+	#------------------------------------------
+	if ($bootloader eq &quot;syslinux&quot;) {
+		$syslbootMB= 20;
+	}
+	#==========================================
 	# check image split portion
 	#------------------------------------------
 	my $destdir  = dirname ($initrd);
@@ -608,7 +628,6 @@
 	#==========================================
 	# obtain filesystem type from xml data
 	#------------------------------------------
-	my %type = %{$xml-&gt;getImageTypeAndAttributes()};
 	if ($type{filesystem} =~ /(.*),(.*)/) {
 		$FSTypeRW = $1;
 		$FSTypeRO = $2;
@@ -626,7 +645,7 @@
 	#==========================================
 	# Import boot loader stages
 	#------------------------------------------
-	if (! $this -&gt; setupBootLoaderStages (&quot;grub&quot;)) {
+	if (! $this -&gt; setupBootLoaderStages ($bootloader)) {
 		$this -&gt; cleanTmp ();
 		return undef;
 	}
@@ -688,14 +707,14 @@
 	#==========================================
 	# Creating boot loader configuration
 	#------------------------------------------
-	if (! $this -&gt; setupBootLoaderConfiguration (&quot;grub&quot;,&quot;USB&quot;)) {
+	if (! $this -&gt; setupBootLoaderConfiguration ($bootloader,&quot;USB&quot;)) {
 		return undef;
 	}
 	#==========================================
 	# umount stick mounted by hal before lock
 	#------------------------------------------
 	for (my $i=1;$i&lt;=4;$i++) {
-		qxx ( &quot;umount $stick$i 2&gt;&amp;1&quot; );
+		qxx (&quot;umount $stick$i 2&gt;&amp;1&quot;);
 	}
 	#==========================================
 	# Wait for umount to settle
@@ -747,38 +766,88 @@
 		if (defined $system) {
 			if (! $lvm) {
 				if (($syszip) || ($haveSplit)) {
+					if ($bootloader eq &quot;syslinux&quot;) {
+						$syslsize = $hardSize;
+						$syslsize /= 1000;
+						$syslsize -= $syszip;
+						$syslsize -= $syslbootMB;
+						$syslsize = sprintf (&quot;%.f&quot;,$syslsize);
+						@commands = (
+							&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$syszip.&quot;M&quot;,
+							&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;+&quot;.$syslsize.&quot;M&quot;,
+							&quot;n&quot;,&quot;p&quot;,&quot;3&quot;,&quot;.&quot;,&quot;.&quot;,
+							&quot;t&quot;,&quot;1&quot;,&quot;83&quot;,
+							&quot;t&quot;,&quot;2&quot;,&quot;83&quot;,
+							&quot;t&quot;,&quot;3&quot;,&quot;6&quot;,
+							&quot;a&quot;,&quot;3&quot;,&quot;w&quot;,&quot;q&quot;
+						);
+					} else {
+						@commands = (
+							&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$syszip.&quot;M&quot;,
+							&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,
+							&quot;t&quot;,&quot;1&quot;,&quot;83&quot;,
+							&quot;t&quot;,&quot;2&quot;,&quot;83&quot;,
+							&quot;a&quot;,&quot;2&quot;,&quot;w&quot;,&quot;q&quot;
+						);
+					}
+				} else {
+					if ($bootloader eq &quot;syslinux&quot;) {
+						$syslsize = $hardSize;
+						$syslsize /= 1000;
+						$syslsize -= $syslbootMB;
+						$syslsize = sprintf (&quot;%.f&quot;,$syslsize);
+						@commands = (
+							&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$syslsize.&quot;M&quot;,&quot;t&quot;,&quot;83&quot;,
+							&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,&quot;t&quot;,&quot;2&quot;,&quot;6&quot;,
+							&quot;a&quot;,&quot;2&quot;,&quot;w&quot;,&quot;q&quot;
+						);
+					} else {
+						@commands = (
+							&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;.&quot;,&quot;t&quot;,&quot;83&quot;,
+							&quot;a&quot;,&quot;1&quot;,&quot;w&quot;,&quot;q&quot;
+						);
+					}
+				}
+			} else {
+				$lvmsize = $hardSize;
+				$lvmsize /= 1000;
+				$lvmsize -= $lvmbootMB;
+				$lvmsize = sprintf (&quot;%.f&quot;,$lvmsize);
+				if ($bootloader eq &quot;syslinux&quot;) {
 					@commands = (
-						&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$syszip.&quot;M&quot;,
+						&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$lvmsize.&quot;M&quot;,
 						&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,
-						&quot;t&quot;,&quot;1&quot;,&quot;83&quot;,
-						&quot;t&quot;,&quot;2&quot;,&quot;83&quot;,
+						&quot;t&quot;,&quot;1&quot;,&quot;8e&quot;,
+						&quot;t&quot;,&quot;2&quot;,&quot;6&quot;,
 						&quot;a&quot;,&quot;2&quot;,&quot;w&quot;,&quot;q&quot;
 					);
 				} else {
 					@commands = (
-						&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;.&quot;,&quot;t&quot;,&quot;83&quot;,
-						&quot;a&quot;,&quot;1&quot;,&quot;w&quot;,&quot;q&quot;
+						&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$lvmsize.&quot;M&quot;,
+						&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,
+						&quot;t&quot;,&quot;1&quot;,&quot;8e&quot;,
+						&quot;t&quot;,&quot;2&quot;,&quot;83&quot;,
+						&quot;a&quot;,&quot;2&quot;,&quot;w&quot;,&quot;q&quot;
 					);
 				}
-			} else {
-				$lvmsize = $hardSize;
-				$lvmsize /= 1000;
-				$lvmsize -= $lvmbootMB;
-				$lvmsize = sprintf (&quot;%.f&quot;,$lvmsize);
+			}
+		} else {
+			if ($bootloader eq &quot;syslinux&quot;) {
+				$syslsize = $hardSize;
+				$syslsize /= 1000;
+				$syslsize -= $syslbootMB;
+				$syslsize = sprintf (&quot;%.f&quot;,$syslsize);
 				@commands = (
-					&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$lvmsize.&quot;M&quot;,
-					&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,
-					&quot;t&quot;,&quot;1&quot;,&quot;8e&quot;,
-					&quot;t&quot;,&quot;2&quot;,&quot;83&quot;,
+					&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$syslsize.&quot;M&quot;,&quot;t&quot;,&quot;83&quot;,
+					&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,&quot;t&quot;,&quot;2&quot;,&quot;6&quot;,
 					&quot;a&quot;,&quot;2&quot;,&quot;w&quot;,&quot;q&quot;
 				);
+			} else {
+				@commands = (
+					&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;.&quot;,&quot;t&quot;,&quot;83&quot;,
+					&quot;a&quot;,&quot;1&quot;,&quot;w&quot;,&quot;q&quot;
+				);
 			}
-		} else {
-			@commands = (
-				&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;.&quot;,
-				&quot;t&quot;,&quot;83&quot;,
-				&quot;a&quot;,&quot;1&quot;,&quot;w&quot;,&quot;q&quot;
-			);
 		}
 		if (! $this -&gt; setStoragePartition ($stick,\@commands)) {
 			$kiwi -&gt; failed ();
@@ -796,7 +865,10 @@
 		# Umount possible mounted stick partitions
 		#------------------------------------------
 		for (my $i=1;$i&lt;=2;$i++) {
-			qxx ( &quot;umount $deviceMap{$i} 2&gt;&amp;1&quot; );
+			qxx (&quot;umount $deviceMap{$i} 2&gt;&amp;1&quot;);
+			if ($deviceMap{fat}) {
+				qxx (&quot;umount $deviceMap{fat} 2&gt;&amp;1&quot;);
+			}
 		}
 		$status = qxx ( &quot;/sbin/blockdev --rereadpt $stick 2&gt;&amp;1&quot; );
 		$result = $? &gt;&gt; 8;
@@ -816,7 +888,10 @@
 		# Umount possible mounted stick partitions
 		#------------------------------------------
 		for (my $i=1;$i&lt;=2;$i++) {
-			qxx ( &quot;umount $deviceMap{$i} 2&gt;&amp;1&quot; );
+			qxx (&quot;umount $deviceMap{$i} 2&gt;&amp;1&quot;);
+			if ($deviceMap{fat}) {
+				qxx (&quot;umount $deviceMap{fat} 2&gt;&amp;1&quot;);
+			}
 		}
 		#==========================================
 		# setup volume group if requested
@@ -1059,7 +1134,14 @@
 	#==========================================
 	# Mount system image / or rw partition
 	#------------------------------------------
-	if ($lvm) {
+	if ($bootloader eq &quot;syslinux&quot;) {
+		$status = qxx (&quot;/sbin/mkdosfs $deviceMap{fat} 2&gt;&amp;1&quot;);
+		$result = $? &gt;&gt; 8;
+		if ($result == 0) {
+			$status = qxx (&quot;mount $deviceMap{fat} $loopdir 2&gt;&amp;1&quot;);
+			$result = $? &gt;&gt; 8;
+		}
+	} elsif ($lvm) {
 		my %FSopts = main::checkFSOptions();
 		my $fsopts = $FSopts{ext2};
 		$fsopts.= &quot;-F&quot;;
@@ -1088,7 +1170,7 @@
 	# Copy boot data on system image
 	#------------------------------------------
 	$status = qxx (&quot;rm -rf $loopdir/boot&quot;);
-	$status = qxx (&quot;cp -a $tmpdir/boot $loopdir 2&gt;&amp;1&quot;);
+	$status = qxx (&quot;cp -dR $tmpdir/boot $loopdir 2&gt;&amp;1&quot;);
 	$result = $? &gt;&gt; 8;
 	if ($result != 0) {
 		$kiwi -&gt; failed ();
@@ -1109,7 +1191,7 @@
 	#==========================================
 	# Install boot loader on USB stick
 	#------------------------------------------
-	if (! $this -&gt; installBootLoader (&quot;grub&quot;, $stick)) {
+	if (! $this -&gt; installBootLoader ($bootloader, $stick, \%deviceMap)) {
 		$this -&gt; cleanDbus();
 		$this -&gt; cleanTmp ();
 	}
@@ -1653,7 +1735,7 @@
 	#==========================================
 	# Install boot loader on virtual disk
 	#------------------------------------------
-	if (! $this -&gt; installBootLoader (&quot;grub&quot;, $diskname)) {
+	if (! $this -&gt; installBootLoader (&quot;grub&quot;, $diskname, \%deviceMap)) {
 		$this -&gt; cleanLoop ();
 		$this -&gt; cleanTmp();
 	}
@@ -1696,6 +1778,8 @@
 	my $haveTree  = 0;
 	my $haveSplit = 0;
 	my $lvmbootMB = 0;
+	my $syslbootMB= 0;
+	my $bootloader= &quot;grub&quot;;
 	my $splitfile;
 	my $version;
 	my $label;
@@ -1711,7 +1795,7 @@
 	# add boot space if lvm based
 	#------------------------------------------
 	if ($lvm) {
-		$lvmbootMB = 30;
+		$lvmbootMB = 20;
 	}
 	#==========================================
 	# check if image type is oem
@@ -1771,6 +1855,23 @@
 		}
 	}
 	#==========================================
+	# load type attributes...
+	#------------------------------------------
+	my %type = %{$xml-&gt;getImageTypeAndAttributes()};
+	#==========================================
+	# setup boot loader type
+	#------------------------------------------
+	if ($type{bootloader}) {
+		$bootloader = $type{bootloader};
+	}
+	$this-&gt;{bootloader} = $bootloader;
+	#==========================================
+	# add boot space if syslinux based
+	#------------------------------------------
+	if ($bootloader eq &quot;syslinux&quot;) {
+		$syslbootMB = 20;
+	}
+	#==========================================
 	# build bootfix for the bootloader on oem
 	#------------------------------------------
 	if ($initrd =~ /oemboot/) {
@@ -1807,7 +1908,6 @@
 	#==========================================
 	# obtain filesystem type from xml data
 	#------------------------------------------
-	my %type = %{$xml-&gt;getImageTypeAndAttributes()};
 	if ($type{filesystem} =~ /(.*),(.*)/) {
 		$FSTypeRW = $1;
 		$FSTypeRO = $2;
@@ -1842,14 +1942,14 @@
 	#==========================================
 	# Import boot loader stages
 	#------------------------------------------
-	if (! $this -&gt; setupBootLoaderStages (&quot;grub&quot;)) {
+	if (! $this -&gt; setupBootLoaderStages ($bootloader)) {
 		$this -&gt; cleanTmp ();
 		return undef;
 	}
 	#==========================================
 	# Create boot loader configuration
 	#------------------------------------------
-	if (! $this -&gt; setupBootLoaderConfiguration (&quot;grub&quot;,$bootfix)) {
+	if (! $this -&gt; setupBootLoaderConfiguration ($bootloader,$bootfix)) {
 		$this -&gt; cleanTmp ();
 		return undef;
 	}
@@ -1889,26 +1989,58 @@
 		if (! $lvm) {
 			if (($syszip) || ($haveSplit)) {
 				# xda1 ro / xda2 rw
+				if ($bootloader eq &quot;syslinux&quot;) {
+					my $syslsize = $this-&gt;{vmmbyte} - $syslbootMB - $syszip;
+					@commands = (
+						&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$syszip.&quot;M&quot;,
+						&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;+&quot;.$syslsize.&quot;M&quot;,
+						&quot;n&quot;,&quot;p&quot;,&quot;3&quot;,&quot;.&quot;,&quot;.&quot;,
+						&quot;t&quot;,&quot;3&quot;,&quot;6&quot;,
+						&quot;a&quot;,&quot;3&quot;,&quot;w&quot;,&quot;q&quot;
+					);
+				} else {
+					@commands = (
+						&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$syszip.&quot;M&quot;,
+						&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,
+						&quot;a&quot;,&quot;2&quot;,&quot;w&quot;,&quot;q&quot;
+					);
+				}
+			} else {
+				# xda1 rw
+				if ($bootloader eq &quot;syslinux&quot;) {
+					my $syslsize = $this-&gt;{vmmbyte} - $syslbootMB;
+					@commands = (
+						&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$syslsize.&quot;M&quot;,
+						&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,
+						&quot;t&quot;,&quot;2&quot;,&quot;6&quot;,
+						&quot;a&quot;,&quot;2&quot;,&quot;w&quot;,&quot;q&quot;
+					);
+				} else {
+					@commands = (
+						&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;.&quot;,
+						&quot;a&quot;,&quot;1&quot;,&quot;w&quot;,&quot;q&quot;
+					);
+				}
+			}
+		} else {
+			if ($bootloader eq &quot;syslinux&quot;) {
+				my $lvmsize = $this-&gt;{vmmbyte} - $syslbootMB;
 				@commands = (
-					&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$syszip.&quot;M&quot;,
+					&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$lvmsize.&quot;M&quot;,
 					&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,
+					&quot;t&quot;,&quot;2&quot;,&quot;6&quot;,
+					&quot;t&quot;,&quot;1&quot;,&quot;8e&quot;,
 					&quot;a&quot;,&quot;2&quot;,&quot;w&quot;,&quot;q&quot;
 				);
 			} else {
-				# xda1 rw
+				my $lvmsize = $this-&gt;{vmmbyte} - $lvmbootMB;
 				@commands = (
-					&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;.&quot;,
-					&quot;a&quot;,&quot;1&quot;,&quot;w&quot;,&quot;q&quot;
+					&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$lvmsize.&quot;M&quot;,
+					&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,
+					&quot;t&quot;,&quot;1&quot;,&quot;8e&quot;,
+					&quot;a&quot;,&quot;2&quot;,&quot;w&quot;,&quot;q&quot;
 				);
 			}
-		} else {
-			my $lvmsize = $this-&gt;{vmmbyte} - $lvmbootMB;
-			@commands = (
-				&quot;n&quot;,&quot;p&quot;,&quot;1&quot;,&quot;.&quot;,&quot;+&quot;.$lvmsize.&quot;M&quot;,
-				&quot;n&quot;,&quot;p&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,
-				&quot;t&quot;,&quot;1&quot;,&quot;8e&quot;,
-				&quot;a&quot;,&quot;2&quot;,&quot;w&quot;,&quot;q&quot;
-			);
 		}
 		if (! $this -&gt; setStoragePartition ($this-&gt;{loop},\@commands)) {
 			$kiwi -&gt; failed ();
@@ -2151,9 +2283,9 @@
 			$root = $deviceMap{0};
 		}
 		if ((! $haveSplit) || ($lvm)) {
-			$kiwi -&gt; info (&quot;Creating ext2 read-write filesystem&quot;);
+			$kiwi -&gt; info (&quot;Creating ext3 read-write filesystem&quot;);
 			my %FSopts = main::checkFSOptions();
-			my $fsopts = $FSopts{ext2};
+			my $fsopts = $FSopts{ext3};
 			$fsopts.= &quot;-F&quot;;
 			$status = qxx (&quot;/sbin/mke2fs $fsopts $root 2&gt;&amp;1&quot;);
 			$result = $? &gt;&gt; 8;
@@ -2167,6 +2299,17 @@
 			$kiwi -&gt; done();
 		}
 	}
+	if ($bootloader eq &quot;syslinux&quot;) {
+		$root = $deviceMap{fat};
+		$status = qxx (&quot;/sbin/mkdosfs $root 2&gt;&amp;1&quot;);
+		$result = $? &gt;&gt; 8;
+		if ($result != 0) {
+			$kiwi -&gt; error  (&quot;Couldn't create DOS filesystem: $status&quot;);
+			$kiwi -&gt; failed ();
+			$this -&gt; cleanLoop ();
+			return undef;
+		}
+	}
 	#==========================================
 	# Dump boot image on virtual disk
 	#------------------------------------------
@@ -2207,7 +2350,7 @@
 	#==========================================
 	# Install boot loader on virtual disk
 	#------------------------------------------
-	if (! $this -&gt; installBootLoader (&quot;grub&quot;, $diskname)) {
+	if (! $this -&gt; installBootLoader ($bootloader, $diskname, \%deviceMap)) {
 		$this -&gt; cleanLoop ();
 	}
 	#==========================================
@@ -2972,8 +3115,43 @@
 		$kiwi -&gt; done();
 	}
 	#==========================================
+	# syslinux
+	#------------------------------------------
+	if ($loader eq &quot;syslinux&quot;) {
+		my $message= &quot;'image/loader/message'&quot;;
+		my $unzip  = &quot;$main::Gzip -cd $initrd 2&gt;&amp;1&quot;;
+		#==========================================
+		# Get syslinux graphics boot message
+		#------------------------------------------
+		$kiwi -&gt; info (&quot;Importing graphics boot message&quot;);
+		if ($zipped) {
+			$status= qxx (&quot;$unzip | (cd $tmpdir &amp;&amp; cpio -di $message 2&gt;&amp;1)&quot;);
+		} else {
+			$status= qxx (&quot;cat $initrd|(cd $tmpdir &amp;&amp; cpio -di $message 2&gt;&amp;1)&quot;);
+		}
+		if (-e $tmpdir.&quot;/image/loader/message&quot;) {
+			$status = qxx (&quot;mv $tmpdir/$message $tmpdir/boot/message 2&gt;&amp;1&quot;);
+			$result = $? &gt;&gt; 8;
+			$kiwi -&gt; done();
+		} else {
+			$kiwi -&gt; skipped();
+		}
+		#==========================================
+		# Get syslinux vesamenu extension
+		#------------------------------------------
+		$kiwi -&gt; info (&quot;Importing graphics boot message&quot;);
+		qxx (&quot;mkdir -p $tmpdir/boot/syslinux 2&gt;&amp;1&quot;);
+		qxx (&quot;cp /usr/share/syslinux/vesamenu.c32 $tmpdir/boot/syslinux 2&gt;&amp;1&quot;);
+		if (-e $tmpdir.&quot;/boot/syslinux/vesamenu.c32&quot;) {
+			$kiwi -&gt; done();
+		} else {
+			$kiwi -&gt; skipped();
+		}
+	}
+	#==========================================
 	# more boot managers to come...
 	#------------------------------------------
+	# ...
 	return $this;
 }
 
@@ -3165,8 +3343,135 @@
 		$kiwi -&gt; done();
 	}
 	#==========================================
+	# syslinux
+	#------------------------------------------
+	if ($loader eq &quot;syslinux&quot;) {
+		#==========================================
+		# Create MBR id file for boot device check
+		#------------------------------------------
+		$kiwi -&gt; info (&quot;Saving disk label on disk: $this-&gt;{mbrid}...&quot;);
+		qxx (&quot;mkdir -p $tmpdir/boot/grub&quot;);
+		if (! open (FD,&quot;&gt;$tmpdir/boot/grub/mbrid&quot;)) {
+			$kiwi -&gt; failed ();
+			$kiwi -&gt; error  (&quot;Couldn't create mbrid file: $!&quot;);
+			$kiwi -&gt; failed ();
+			return undef;
+		}
+		print FD &quot;$this-&gt;{mbrid}&quot;;
+		close FD;
+		$kiwi -&gt; done();
+		#==========================================
+		# Create syslinux.cfg file
+		#------------------------------------------
+		$kiwi -&gt; info (&quot;Creating syslinux config file...&quot;);
+		if (! open (FD,&quot;&gt;$tmpdir/boot/syslinux/syslinux.cfg&quot;)) {
+			$kiwi -&gt; failed ();
+			$kiwi -&gt; error  (&quot;Couldn't create syslinux.cfg: $!&quot;);
+			$kiwi -&gt; failed ();
+			return undef;
+		}
+		#==========================================
+		# General syslinux setup
+		#------------------------------------------
+		print FD &quot;DEFAULT vesamenu.c32\n&quot;;
+		print FD &quot;TIMEOUT 100\n&quot;;
+		if ($type =~ /^KIWI CD/) {
+			# not supported yet..
+		} elsif ($type =~ /^KIWI USB/) {
+			print FD &quot;LABEL Linux\n&quot;;
+			print FD &quot;MENU LABEL &quot;.$type.&quot;\n&quot;;
+		} else {
+			print FD &quot;LABEL Linux\n&quot;;
+			print FD &quot;MENU LABEL &quot;.$label.&quot; [ &quot;.$type.&quot; ]\n&quot;;
+		}
+		#==========================================
+		# Standard boot
+		#------------------------------------------
+		if (! $isxen) {
+			if ($type =~ /^KIWI CD/) {
+				# not supported yet..
+			} elsif (($type=~ /^KIWI USB/)||($imgtype=~ /vmx|oem|split|usb/)) {
+				print FD &quot;KERNEL /boot/linux.vmx\n&quot;;
+				print FD &quot;APPEND ro initrd=/boot/initrd.vmx &quot;;
+				print FD &quot;vga=0x314 splash=silent&quot;;
+			} else {
+				print FD &quot;KERNEL /boot/linux\n&quot;;
+				print FD &quot;APPEND ro initrd=/boot/initrd &quot;;
+				print FD &quot;vga=0x314 splash=silent&quot;;
+			}
+			if ($imgtype eq &quot;split&quot;) {
+				print FD &quot; COMBINED_IMAGE=yes showopts\n&quot;;
+			} else {
+				print FD &quot; showopts\n&quot;;
+			}
+		} else {
+			if ($type =~ /^KIWI CD/) {
+				# not supported yet..
+			} elsif (($type=~ /^KIWI USB/)||($imgtype=~ /vmx|oem|split|usb/)) {
+				# not supported yet..
+			} else {
+				# not supported yet..
+			}
+			if ($imgtype eq &quot;split&quot;) {
+				print FD &quot; COMBINED_IMAGE=yes showopts\n&quot;;
+			} else {
+				print FD &quot; showopts\n&quot;;
+			}
+		}
+		#==========================================
+		# Failsafe boot
+		#------------------------------------------
+		if ($type =~ /^KIWI CD/) {
+			# not supported yet..
+		} elsif ($type =~ /^KIWI USB/) {
+			print FD &quot;LABEL Failsafe\n&quot;;
+			print FD &quot;MENU LABEL Failsafe -- &quot;.$type.&quot;\n&quot;;
+		} else {
+			print FD &quot;LABEL Failsafe\n&quot;;
+			print FD &quot;MENU LABEL Failsafe -- &quot;.$label.&quot; [ &quot;.$type.&quot; ]\n&quot;;
+		}
+		if (! $isxen) {
+			if ($type =~ /^KIWI CD/) {
+				# not supported yet..
+			} elsif (($type=~ /^KIWI USB/)||($imgtype=~ /vmx|oem|split|usb/)) {
+				print FD &quot;KERNEL /boot/linux.vmx\n&quot;;
+				print FD &quot;APPEND ro initrd=/boot/initrd.vmx &quot;;
+				print FD &quot;vga=0x314 splash=silent&quot;;
+			} else {
+				print FD &quot;KERNEL /boot/linux\n&quot;;
+				print FD &quot;APPEND ro initrd=/boot/initrd &quot;;
+				print FD &quot;vga=0x314 splash=silent&quot;;
+			}
+			print FD &quot; ide=nodma apm=off acpi=off noresume selinux=0 nosmp&quot;;
+			print FD &quot; noapic maxcpus=0 edd=off&quot;;
+			if ($imgtype eq &quot;split&quot;) {
+				print FD &quot; COMBINED_IMAGE=yes showopts\n&quot;;
+			} else {
+				print FD &quot; showopts\n&quot;;
+			}
+		} else {
+			if ($type =~ /^KIWI CD/) {
+				# not supported yet..
+			} elsif (($type=~ /^KIWI USB/)||($imgtype=~ /vmx|oem|split|usb/)) {
+				# not supported yet..
+			} else {
+				# not supported yet..
+			}
+			print FD &quot; ide=nodma apm=off acpi=off noresume selinux=0 nosmp&quot;;
+			print FD &quot; noapic maxcpus=0 edd=off&quot;;
+			if ($imgtype eq &quot;split&quot;) {
+				print FD &quot; COMBINED_IMAGE=yes showopts\n&quot;;
+			} else {
+				print FD &quot; showopts\n&quot;;
+			}
+		}
+		close FD;
+		$kiwi -&gt; done();
+	}
+	#==========================================
 	# more boot managers to come...
 	#------------------------------------------
+	# ...
 	return $this;
 }
 
@@ -3177,6 +3482,7 @@
 	my $this     = shift;
 	my $loader   = shift;
 	my $diskname = shift;
+	my $deviceMap= shift;
 	my $kiwi     = $this-&gt;{kiwi};
 	my $tmpdir   = $this-&gt;{tmpdir};
 	my $bootpart = $this-&gt;{bootpart};
@@ -3192,7 +3498,7 @@
 	# Grub
 	#------------------------------------------
 	if ($loader eq &quot;grub&quot;) {
-		$kiwi -&gt; info (&quot;Installing grub on virtual disk&quot;);
+		$kiwi -&gt; info (&quot;Installing grub on device: $diskname&quot;);
 		#==========================================
 		# Create device map for the virtual disk
 		#------------------------------------------
@@ -3247,6 +3553,46 @@
 		$kiwi -&gt; done();
 	}
 	#==========================================
+	# syslinux
+	#------------------------------------------
+	if ($loader eq &quot;syslinux&quot;) {
+		if (! $deviceMap) {
+			$kiwi -&gt; failed ();
+			$kiwi -&gt; error  (&quot;No device map available&quot;);
+			$kiwi -&gt; failed ();
+			return undef;
+		}
+		my %deviceMap = %{$deviceMap};
+		my $device = $deviceMap{fat};
+		if ($device =~ /mapper/) {
+			qxx (&quot;kpartx -a $diskname&quot;);
+		}
+		$kiwi -&gt; info (&quot;Installing syslinux on device: $device&quot;);
+		$status = qxx (&quot;syslinux $device 2&gt;&amp;1&quot;);
+		$result = $? &gt;&gt; 8;
+		if ($device =~ /mapper/) {
+			qxx (&quot;kpartx -d $diskname&quot;);
+		}
+		if ($result != 0) {
+			$kiwi -&gt; failed ();
+			$kiwi -&gt; error  (&quot;Couldn't install syslinux on $device: $status&quot;);
+			$kiwi -&gt; failed ();
+			return undef;
+		}
+		my $syslmbr = &quot;/usr/share/syslinux/mbr.bin&quot;;
+		$status = qxx (
+			&quot;dd if=$syslmbr of=$diskname bs=512 count=1 conv=notrunc 2&gt;&amp;1&quot;
+		);
+		$result = $? &gt;&gt; 8;
+		if ($result != 0) {
+			$kiwi -&gt; failed ();
+			$kiwi -&gt; error  (&quot;Couldn't install syslinux MBR on $diskname&quot;);
+			$kiwi -&gt; failed ();
+			return undef;
+		}
+		$kiwi -&gt; done();
+	}
+	#==========================================
 	# more boot managers to come...
 	#------------------------------------------
 	# ...
@@ -3531,6 +3877,80 @@
 }
 
 #==========================================
+# getStorageID
+#------------------------------------------
+sub getStorageID {
+	# ...
+	# return the partition id of the given
+	# partition. If the call fails the function
+	# returns 0
+	# ---
+	my $this = shift;
+	my $pdev = shift;
+	my $tool = $this-&gt;{ptool};
+	my $result;
+	my $status;
+	if (! defined $tool) {
+		$tool = &quot;fdisk&quot;;
+	}
+	SWITCH: for ($tool) {
+		#==========================================
+		# fdisk
+		#------------------------------------------
+		/^fdisk/  &amp;&amp; do {
+			my $disk;
+			my $devnr= -1;
+			if ($pdev =~ /mapper/) {
+				if ($pdev =~ /mapper\/(.*)p(\d+)/) {
+					$disk = &quot;/dev/&quot;.$1;
+					$devnr= $2;
+				}
+			} else {
+				if ($pdev =~ /(.*)(\d+)/) {
+					$disk = $1;
+					$devnr= $2;
+				}
+			}
+			$status = qxx (&quot;/sbin/sfdisk -c $disk $devnr 2&gt;&amp;1&quot;);
+			$result = $? &gt;&gt; 8;
+			last SWITCH;
+		};
+		#==========================================
+		# parted
+		#------------------------------------------
+		/^parted/  &amp;&amp; do {
+			my $parted = &quot;/usr/sbin/parted -m &quot;;
+			my $disk   = $pdev;
+			if ($pdev =~ /mapper/) {
+				if ($pdev =~ /mapper\/(.*)p(\d+)/) {
+					$disk = &quot;/dev/&quot;.$1;
+					$pdev = &quot;/dev/&quot;.$1.$2;
+				}
+			} else {
+				if ($pdev =~ /(.*)(\d+)/) {
+					$disk = $1;
+				}
+			}
+			$parted .= '-s '.$disk.' print |';
+			$parted .= 'sed -e &quot;s@^\([0-4]\):@'.$disk.'\1:@&quot; |';
+			$parted .= 'grep ^'.$pdev.':|cut -f2 -d= | cut -f1 -d,';
+			$status = qxx ($parted);
+			$result = $? &gt;&gt; 8;
+			if ((! $status) &amp;&amp; ($pdev =~ /loop/)) {
+				$status = qxx (&quot;/usr/sbin/parted -s $pdev mklabel msdos 2&gt;&amp;1&quot;);
+				$status = qxx ($parted);
+				$result = $? &gt;&gt; 8;
+			}
+			last SWITCH;
+		};
+	}
+	if ($result == 0) {
+		return int $status;
+	}
+	return 0;
+}
+
+#==========================================
 # getStorageSize
 #------------------------------------------
 sub getStorageSize {
@@ -3564,7 +3984,7 @@
 			my $disk   = $pdev;
 			my $step   = 2;
 			if ($pdev =~ /mapper/) {
-				if ($pdev =~ /mapper\/(.*)\/p(\d+)/) {
+				if ($pdev =~ /mapper\/(.*)p(\d+)/) {
 					$disk = &quot;/dev/&quot;.$1;
 					$pdev = &quot;/dev/&quot;.$1.$2;
 					$step = 4;
@@ -3605,6 +4025,7 @@
 	# ---
 	my $this   = shift;
 	my $device = shift;
+	my $loader = $this-&gt;{bootloader};
 	my %result;
 	if (! defined $device) {
 		return undef;
@@ -3612,6 +4033,15 @@
 	for (my $i=1;$i&lt;=2;$i++) {
 		$result{$i} = $device.$i;
 	}
+	if ($loader eq &quot;syslinux&quot;) {
+		for (my $i=1;$i&lt;=3;$i++) {
+			my $type = $this -&gt; getStorageID ($device.$i);
+			if ($type == 6) {
+				$result{fat} = $device.$i;
+				last;
+			}
+		}
+	}
 	return %result;
 }
 
@@ -3625,6 +4055,7 @@
 	# ---
 	my $this   = shift;
 	my $device = shift;
+	my $loader = $this-&gt;{bootloader};
 	my %result;
 	if (! defined $device) {
 		return undef;
@@ -3633,6 +4064,15 @@
 	for (my $i=1;$i&lt;=2;$i++) {
 		$result{$i} = &quot;/dev/mapper&quot;.$dmap.&quot;p$i&quot;;
 	}
+	if ($loader eq &quot;syslinux&quot;) {
+		for (my $i=1;$i&lt;=3;$i++) {
+			my $type = $this -&gt; getStorageID (&quot;/dev/mapper&quot;.$dmap.&quot;p$i&quot;);
+			if ($type == 6) {
+				$result{fat} = &quot;/dev/mapper&quot;.$dmap.&quot;p$i&quot;;
+				last;
+			}
+		}
+	}
 	return %result;
 }
 
@@ -3649,6 +4089,7 @@
 	my $device = shift;
 	my $names  = shift;
 	my @names  = @{$names};
+	my $loader = $this-&gt;{bootloader};
 	my %result;
 	if (! defined $group) {
 		return undef;
@@ -3662,6 +4103,26 @@
 	for (my $i=0;$i&lt;@names;$i++) {
 		$result{$i+1} = &quot;/dev/$group/&quot;.$names[$i];
 	}
+	if ($loader eq &quot;syslinux&quot;) {
+		if ($device =~ /loop/) {
+			my $dmap = $device; $dmap =~ s/dev\///;
+			for (my $i=1;$i&lt;=3;$i++) {
+				my $type = $this -&gt; getStorageID (&quot;/dev/mapper&quot;.$dmap.&quot;p$i&quot;);
+				if ($type == 6) {
+					$result{fat} = &quot;/dev/mapper&quot;.$dmap.&quot;p$i&quot;;
+					last;
+				}
+			}
+		} else {
+			for (my $i=1;$i&lt;=3;$i++) {
+				my $type = $this -&gt; getStorageID ($device.$i);
+				if ($type == 6) {
+					$result{fat} = $device.$i;
+					last;
+				}
+			}
+		}
+	}
 	return %result;
 }
 

Modified: kiwi-head/modules/KIWILinuxRC.sh
===================================================================
--- kiwi-head/modules/KIWILinuxRC.sh	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/modules/KIWILinuxRC.sh	2009-02-25 20:52:09 UTC (rev 1927)
@@ -1056,7 +1056,22 @@
 	local sdev=$2
 	local diskByID=`getDiskID $sdev`
 	local nfstab=$prefix/etc/fstab
-	echo &quot;$diskByID /lvmboot ext2 defaults 0 0&quot; &gt;&gt; $nfstab
+
+
+	if [ ! -z &quot;$FSTYPE&quot; ];then
+		FSTYPE_SAVE=$FSTYPE
+	fi
+	#======================================
+	# probe filesystem
+	#--------------------------------------
+	probeFileSystem $sdev
+	if [ -z $FSTYPE ] || [ $FSTYPE = &quot;unknown&quot; ];then
+		FSTYPE=&quot;auto&quot;
+	fi
+	echo &quot;$diskByID /lvmboot $FSTYPE defaults 0 0&quot; &gt;&gt; $nfstab
+	if [ ! -z &quot;$FSTYPE_SAVE&quot; ];then
+		FSTYPE=$FSTYPE_SAVE
+	fi
 }
 #======================================
 # updateOtherDeviceFstab
@@ -1155,7 +1170,7 @@
 	# ----
 	FSTYPE=unknown
 	dd if=$1 of=/tmp/filesystem-$$ bs=128k count=1 &gt;/dev/null
-	data=$(file /tmp/filesystem-$$) &amp;&amp; rm -f /tmp/filesystem-$$
+	data=$(file /tmp/filesystem-$$)
 	case $data in
 		*ext3*)     FSTYPE=ext3 ;;
 		*ext2*)     FSTYPE=ext2 ;;
@@ -1166,6 +1181,12 @@
 			FSTYPE=unknown
 		;;
 	esac
+	if [ $FSTYPE = &quot;unknown&quot; ];then
+		if grep -q mkdosfs /tmp/filesystem-$$;then
+			FSTYPE=vfat
+		fi
+	fi
+	rm -f /tmp/filesystem-$$
 	export FSTYPE
 }
 #======================================

Modified: kiwi-head/modules/KIWIScheme.rnc
===================================================================
--- kiwi-head/modules/KIWIScheme.rnc	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/modules/KIWIScheme.rnc	2009-02-25 20:52:09 UTC (rev 1927)
@@ -1083,6 +1083,12 @@
 		attribute flags {
 			&quot;unified&quot; | &quot;compressed&quot; | &quot;unified-cromfs&quot; | &quot;compressed-cromfs&quot;
 		}
+	k.type.bootloader.attribute =
+		## Specified the bootloader used for booting the image.&quot;
+		## At the moment only grub and syslinux are supported
+		attribute bootloader {
+			&quot;grub&quot; | &quot;syslinux&quot;
+		}
 	k.type.filesystem.attribute = 
 		## Specifies the filesystem which can be one of:
 		## ext2 , ext3 , reiserfs ,squashfs or cromfs
@@ -1122,6 +1128,7 @@
 		k.type.bootprofile.attribute? &amp;
 		k.type.boot.attribute? &amp;
 		k.type.flags.attribute? &amp;
+		k.type.bootloader.attribute? &amp;
 		k.type.filesystem.attribute? &amp;
 		k.type.fsreadonly.attribute? &amp;
 		k.type.fsreadwrite.attribute? &amp;

Modified: kiwi-head/modules/KIWIScheme.rng
===================================================================
--- kiwi-head/modules/KIWIScheme.rng	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/modules/KIWIScheme.rng	2009-02-25 20:52:09 UTC (rev 1927)
@@ -20,7 +20,7 @@
   STATUS        : Development
   ****************
 --&gt;
-&lt;grammar xmlns:db=&quot;<A HREF="http://docbook.org/ns/docbook">http://docbook.org/ns/docbook</A>&quot; xmlns:a=&quot;<A HREF="http://relaxng.org/ns/compatibility/annotations/1.0">http://relaxng.org/ns/compatibility/annotations/1.0</A>&quot; xmlns:rng=&quot;<A HREF="http://relaxng.org/ns/structure/1.0">http://relaxng.org/ns/structure/1.0</A>&quot; xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot; xmlns=&quot;<A HREF="http://relaxng.org/ns/structure/1.0">http://relaxng.org/ns/structure/1.0</A>&quot; datatypeLibrary=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-datatypes">http://www.w3.org/2001/XMLSchema-datatypes</A>&quot;&gt;
+&lt;grammar xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot; xmlns:a=&quot;<A HREF="http://relaxng.org/ns/compatibility/annotations/1.0">http://relaxng.org/ns/compatibility/annotations/1.0</A>&quot; xmlns:db=&quot;<A HREF="http://docbook.org/ns/docbook">http://docbook.org/ns/docbook</A>&quot; xmlns:rng=&quot;<A HREF="http://relaxng.org/ns/structure/1.0">http://relaxng.org/ns/structure/1.0</A>&quot; xmlns=&quot;<A HREF="http://relaxng.org/ns/structure/1.0">http://relaxng.org/ns/structure/1.0</A>&quot; datatypeLibrary=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-datatypes">http://www.w3.org/2001/XMLSchema-datatypes</A>&quot;&gt;
   &lt;db:info&gt;
     &lt;db:releaseinfo&gt;$Id: kiwi.rnc 2957 2008-01-11 12:53:39Z thomas-schraitle $&lt;/db:releaseinfo&gt;
     &lt;db:releaseinfo&gt;RNC Schema Version 2.4&lt;/db:releaseinfo&gt;
@@ -1462,6 +1462,16 @@
         &lt;/choice&gt;
       &lt;/attribute&gt;
     &lt;/define&gt;
+    &lt;define name=&quot;k.type.bootloader.attribute&quot;&gt;
+      &lt;attribute name=&quot;bootloader&quot;&gt;
+        &lt;a:documentation&gt;Specified the bootloader used for booting the image.&quot;
+At the moment only grub and syslinux are supported&lt;/a:documentation&gt;
+        &lt;choice&gt;
+          &lt;value&gt;grub&lt;/value&gt;
+          &lt;value&gt;syslinux&lt;/value&gt;
+        &lt;/choice&gt;
+      &lt;/attribute&gt;
+    &lt;/define&gt;
     &lt;define name=&quot;k.type.filesystem.attribute&quot;&gt;
       &lt;attribute name=&quot;filesystem&quot;&gt;
         &lt;a:documentation&gt;Specifies the filesystem which can be one of:
@@ -1553,6 +1563,9 @@
           &lt;ref name=&quot;k.type.flags.attribute&quot;/&gt;
         &lt;/optional&gt;
         &lt;optional&gt;
+          &lt;ref name=&quot;k.type.bootloader.attribute&quot;/&gt;
+        &lt;/optional&gt;
+        &lt;optional&gt;
           &lt;ref name=&quot;k.type.filesystem.attribute&quot;/&gt;
         &lt;/optional&gt;
         &lt;optional&gt;

Modified: kiwi-head/modules/KIWIURL.pm
===================================================================
--- kiwi-head/modules/KIWIURL.pm	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/modules/KIWIURL.pm	2009-02-25 20:52:09 UTC (rev 1927)
@@ -188,7 +188,6 @@
 		return undef;
 	}
 	$module =~ s/this:\/\///;
-	$module =~ s/:/:\//g;
 	if ((! defined $module) || ($module eq &quot;/&quot;)) {
 		return undef;
 	}
@@ -205,6 +204,12 @@
 		}
 		$thisPath = &lt;FD&gt;; close FD;
 		$thisPath = &quot;$thisPath/$module&quot;;
+	} elsif (defined $main::Upgrade) {
+		if (! open FD,&quot;$main::Create/image/main::Prepare&quot;) {
+			return undef;
+		}
+		$thisPath = &lt;FD&gt;; close FD;
+		$thisPath = &quot;$thisPath/$module&quot;;
 	} elsif (defined $main::RunTestSuite) {
 		if (! open FD,&quot;$main::RunTestSuite/image/main::Prepare&quot;) {
 			return undef;

Modified: kiwi-head/modules/KIWIXML.pm
===================================================================
--- kiwi-head/modules/KIWIXML.pm	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/modules/KIWIXML.pm	2009-02-25 20:52:09 UTC (rev 1927)
@@ -656,6 +656,7 @@
 		$record{boot}   = $node -&gt; getAttribute(&quot;boot&quot;);
 		$record{flags}  = $node -&gt; getAttribute(&quot;flags&quot;);
 		$record{format} = $node -&gt; getAttribute(&quot;format&quot;);
+		$record{bootloader}    = $node -&gt; getAttribute(&quot;bootloader&quot;);
 		$record{checkprebuilt} = $node -&gt; getAttribute(&quot;checkprebuilt&quot;);
 		$record{baseroot}      = $node -&gt; getAttribute(&quot;baseroot&quot;);
 		$record{bootprofile}   = $node -&gt; getAttribute(&quot;bootprofile&quot;);

Modified: kiwi-head/rpm/kiwi.changes
===================================================================
--- kiwi-head/rpm/kiwi.changes	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/rpm/kiwi.changes	2009-02-25 20:52:09 UTC (rev 1927)
@@ -1,4 +1,14 @@
 -------------------------------------------------------------------
+Wed Feb 25 14:08:16 CET 2009 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>
+
+- v3.22
+- fixed this path evaluation in upgrade mode
+- added support for an alternative bootloader [syslinux].
+  You can specify bootloader=&quot;syslinux&quot; as part of the type
+  setup and kiwi uses syslinux instead of grub. This works
+  for the _usb_ image type
+
+-------------------------------------------------------------------
 Tue Feb 24 10:57:26 CET 2009 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>
 
 - v3.21

Modified: kiwi-head/rpm/kiwi.spec
===================================================================
--- kiwi-head/rpm/kiwi.spec	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/rpm/kiwi.spec	2009-02-25 20:52:09 UTC (rev 1927)
@@ -1,5 +1,5 @@
 #
-# spec file for package kiwi (Version 3.21
+# spec file for package kiwi (Version 3.22
 #
 # Copyright (c) 2008 SUSE LINUX Products GmbH, Nuernberg, Germany.
 # This file and all modifications and additions to the pristine
@@ -43,7 +43,7 @@
 Summary:        OpenSuSE - KIWI Image System
 Provides:       kiwi2 &lt;= 2.14
 Obsoletes:      kiwi2 &lt;= 2.14
-Version:        3.21
+Version:        3.22
 Release:        80
 Group:          System/Management
 License:        GPL v2 or later

Modified: kiwi-head/system/boot/ix86/oemboot/suse-10.3/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/oemboot/suse-10.3/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/oemboot/suse-10.3/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -30,6 +30,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -44,6 +46,8 @@
 		&lt;file name=&quot;weak-updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;fs/udf/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;
 		&lt;file name=&quot;drivers/message/fusion/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/oemboot/suse-11.0/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/oemboot/suse-11.0/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/oemboot/suse-11.0/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -30,6 +30,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -43,6 +45,8 @@
 		&lt;file name=&quot;updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;weak-updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;fs/udf/*&quot;/&gt;
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/oemboot/suse-11.1/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/oemboot/suse-11.1/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/oemboot/suse-11.1/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -30,6 +30,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -42,6 +44,8 @@
 		&lt;file name=&quot;updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;weak-updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;fs/udf/*&quot;/&gt;
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/oemboot/suse-11.2/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/oemboot/suse-11.2/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/oemboot/suse-11.2/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -30,6 +30,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -42,6 +44,8 @@
 		&lt;file name=&quot;updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;weak-updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;fs/udf/*&quot;/&gt;
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/oemboot/suse-SLED10/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/oemboot/suse-SLED10/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/oemboot/suse-SLED10/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -32,6 +32,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -45,6 +47,9 @@
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;
 		&lt;file name=&quot;drivers/message/fusion/*&quot;/&gt;
 		&lt;file name=&quot;drivers/firmware/edd.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 	&lt;/drivers&gt;
 	&lt;repository type=&quot;yast2&quot; status=&quot;replaceable&quot;&gt;
 		&lt;source path=&quot;<A HREF="ftp://dist.suse.de/install/SLP/SLED-10-SP2-GMC/%arch/DVD1">ftp://dist.suse.de/install/SLP/SLED-10-SP2-GMC/%arch/DVD1</A>&quot;/&gt;   

Modified: kiwi-head/system/boot/ix86/oemboot/suse-SLED11/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/oemboot/suse-SLED11/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/oemboot/suse-SLED11/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -30,6 +30,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -40,6 +42,8 @@
 		&lt;file name=&quot;fs/exportfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/squashfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;fs/udf/*&quot;/&gt;
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/oemboot/suse-SLES10/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/oemboot/suse-SLES10/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/oemboot/suse-SLES10/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -32,6 +32,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -45,6 +47,9 @@
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;
 		&lt;file name=&quot;drivers/message/fusion/*&quot;/&gt;
 		&lt;file name=&quot;drivers/firmware/edd.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 	&lt;/drivers&gt;
 	&lt;repository type=&quot;yast2&quot; status=&quot;replaceable&quot;&gt;
 		&lt;source path=&quot;<A HREF="ftp://dist.suse.de/install/SLP/SLES-10-SP2-GMC/%arch/DVD1">ftp://dist.suse.de/install/SLP/SLES-10-SP2-GMC/%arch/DVD1</A>&quot;/&gt;   

Modified: kiwi-head/system/boot/ix86/oemboot/suse-SLES11/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/oemboot/suse-SLES11/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/oemboot/suse-SLES11/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -30,6 +30,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -40,6 +42,8 @@
 		&lt;file name=&quot;fs/exportfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/squashfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;fs/udf/*&quot;/&gt;
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/usbboot/suse-10.3/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/usbboot/suse-10.3/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/usbboot/suse-10.3/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -48,6 +48,8 @@
 		&lt;file name=&quot;weak-updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;fs/reiserfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;net/ipv6/*&quot;/&gt;
 		&lt;file name=&quot;drivers/cdrom/*&quot;/&gt;
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/usbboot/suse-11.0/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/usbboot/suse-11.0/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/usbboot/suse-11.0/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -48,6 +48,8 @@
 		&lt;file name=&quot;weak-updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;fs/reiserfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;net/ipv6/*&quot;/&gt;
 		&lt;file name=&quot;drivers/cdrom/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/usbboot/suse-11.1/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/usbboot/suse-11.1/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/usbboot/suse-11.1/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -47,6 +47,8 @@
 		&lt;file name=&quot;weak-updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;fs/reiserfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;net/ipv6/*&quot;/&gt;
 		&lt;file name=&quot;drivers/cdrom/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/usbboot/suse-11.2/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/usbboot/suse-11.2/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/usbboot/suse-11.2/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -47,6 +47,8 @@
 		&lt;file name=&quot;weak-updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;fs/reiserfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;net/ipv6/*&quot;/&gt;
 		&lt;file name=&quot;drivers/cdrom/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/usbboot/suse-SLED10/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/usbboot/suse-SLED10/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/usbboot/suse-SLED10/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -45,6 +45,8 @@
 		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/reiserfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;net/ipv6/*&quot;/&gt;
 		&lt;file name=&quot;drivers/cdrom/*&quot;/&gt;
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/usbboot/suse-SLED11/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/usbboot/suse-SLED11/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/usbboot/suse-SLED11/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -45,6 +45,8 @@
 		&lt;file name=&quot;fs/squashfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/reiserfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;net/ipv6/*&quot;/&gt;
 		&lt;file name=&quot;drivers/cdrom/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/usbboot/suse-SLES10/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/usbboot/suse-SLES10/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/usbboot/suse-SLES10/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -45,6 +45,8 @@
 		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/reiserfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;net/ipv6/*&quot;/&gt;
 		&lt;file name=&quot;drivers/cdrom/*&quot;/&gt;
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/usbboot/suse-SLES11/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/usbboot/suse-SLES11/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/usbboot/suse-SLES11/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -45,6 +45,8 @@
 		&lt;file name=&quot;fs/squashfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/reiserfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;net/ipv6/*&quot;/&gt;
 		&lt;file name=&quot;drivers/cdrom/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/vmxboot/suse-10.3/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/vmxboot/suse-10.3/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/vmxboot/suse-10.3/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -23,6 +23,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -36,6 +38,8 @@
 		&lt;file name=&quot;updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;weak-updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;
 		&lt;file name=&quot;drivers/message/fusion/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/vmxboot/suse-11.0/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/vmxboot/suse-11.0/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/vmxboot/suse-11.0/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -23,6 +23,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -36,6 +38,8 @@
 		&lt;file name=&quot;updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;weak-updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/vmxboot/suse-11.1/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/vmxboot/suse-11.1/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/vmxboot/suse-11.1/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -23,6 +23,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -35,6 +37,8 @@
 		&lt;file name=&quot;updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;weak-updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/vmxboot/suse-11.2/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/vmxboot/suse-11.2/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/vmxboot/suse-11.2/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -23,6 +23,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -35,6 +37,8 @@
 		&lt;file name=&quot;updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;weak-updates/aufs.ko&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/vmxboot/suse-SLED10/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/vmxboot/suse-SLED10/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/vmxboot/suse-SLED10/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -25,6 +25,8 @@
 		&lt;file name=&quot;net/packet/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -36,6 +38,9 @@
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;
 		&lt;file name=&quot;drivers/message/fusion/*&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 	&lt;/drivers&gt;
 	&lt;repository type=&quot;yast2&quot; status=&quot;replaceable&quot;&gt;
 		&lt;source path=&quot;/mounts/machcd2/dists/full-sle10-sp2-%arch&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/vmxboot/suse-SLED11/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/vmxboot/suse-SLED11/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/vmxboot/suse-SLED11/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -23,6 +23,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -33,6 +35,8 @@
 		&lt;file name=&quot;fs/exportfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/squashfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/vmxboot/suse-SLES10/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/vmxboot/suse-SLES10/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/vmxboot/suse-SLES10/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -25,6 +25,8 @@
 		&lt;file name=&quot;net/packet/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -36,6 +38,9 @@
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;
 		&lt;file name=&quot;drivers/message/fusion/*&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 	&lt;/drivers&gt;
 	&lt;repository type=&quot;yast2&quot; status=&quot;replaceable&quot;&gt;
 		&lt;source path=&quot;/mounts/machcd2/dists/full-sle10-sp2-%arch&quot;/&gt;

Modified: kiwi-head/system/boot/ix86/vmxboot/suse-SLES11/config.xml
===================================================================
--- kiwi-head/system/boot/ix86/vmxboot/suse-SLES11/config.xml	2009-02-24 10:00:58 UTC (rev 1926)
+++ kiwi-head/system/boot/ix86/vmxboot/suse-SLES11/config.xml	2009-02-25 20:52:09 UTC (rev 1927)
@@ -23,6 +23,8 @@
 		&lt;file name=&quot;drivers/ide/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext3/*&quot;/&gt;
 		&lt;file name=&quot;fs/ext2/*&quot;/&gt;
+		&lt;file name=&quot;fs/fat/*&quot;/&gt;
+		&lt;file name=&quot;fs/vfat/*&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_aout.ko&quot;/&gt;
 		&lt;file name=&quot;fs/binfmt_misc.ko&quot;/&gt;
 		&lt;file name=&quot;fs/mbcache.ko&quot;/&gt;
@@ -33,6 +35,8 @@
 		&lt;file name=&quot;fs/exportfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/squashfs/*&quot;/&gt;
 		&lt;file name=&quot;fs/nls/nls_utf8.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_cp437.ko&quot;/&gt;
+		&lt;file name=&quot;fs/nls/nls_iso8859-1.ko&quot;/&gt;
 		&lt;file name=&quot;fs/fuse/*&quot;/&gt;
 		&lt;file name=&quot;drivers/ata/*&quot;/&gt;
 		&lt;file name=&quot;drivers/scsi/*&quot;/&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001048.html">[Kiwi-devel] r1926 - in kiwi-branches/KIWI-301-SuSE-11-1-Devel:	modules rpm
</A></li>
	<LI>Next message: <A HREF="001050.html">[Kiwi-devel] r1928 - in kiwi-branches/KIWI-301-SuSE-11-1-Devel:	modules rpm
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1049">[ date ]</a>
              <a href="thread.html#1049">[ thread ]</a>
              <a href="subject.html#1049">[ subject ]</a>
              <a href="author.html#1049">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
