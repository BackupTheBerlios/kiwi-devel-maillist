<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] [PATCH] isoinstall initrd
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BPATCH%5D%20isoinstall%20initrd&In-Reply-To=%3C1172503412.25785.24.camel%40sackbut.lan%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000015.html">
   <LINK REL="Next"  HREF="000017.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] [PATCH] isoinstall initrd</H1>
    <B>James Willcox</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BPATCH%5D%20isoinstall%20initrd&In-Reply-To=%3C1172503412.25785.24.camel%40sackbut.lan%3E"
       TITLE="[Kiwi-devel] [PATCH] isoinstall initrd">james at ximian.com
       </A><BR>
    <I>Mon Feb 26 16:23:32 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000015.html">[Kiwi-devel] [PATCH] isoinstall initrd
</A></li>
        <LI>Next message: <A HREF="000017.html">[Kiwi-devel] [PATCH] isoinstall initrd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16">[ date ]</a>
              <a href="thread.html#16">[ thread ]</a>
              <a href="subject.html#16">[ subject ]</a>
              <a href="author.html#16">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 2007-02-25 at 12:26 +0100, Marcus Sch&#228;fer wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> &gt; On Fri, 2007-02-23 at 12:01 +0100, Marcus Sch&#228;fer wrote:
</I>&gt;<i> &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; I've created a new type of initrd which can be used to install a system
</I>&gt;<i> &gt; &gt; &gt; image from a bootable cd/dvd.  Patch is attached, along with the
</I>&gt;<i> &gt; &gt; &gt; suse-linuxrc and suse-preinit.  I planned on adding some template
</I>&gt;<i> &gt; &gt; &gt; descriptions (similar to the other types of initrds) to
</I>&gt;<i> &gt; &gt; &gt; system/install/isoinstall.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; This is a nice idea. The patch looks good to me. I had a short look
</I>&gt;<i> &gt; &gt; into the patch but doesn't have time to test it right now. I will have
</I>&gt;<i> &gt; &gt; a closer look next week. I'm currently working on the ISO code as
</I>&gt;<i> &gt; &gt; well. It should make use of the gfxboot package in the future just
</I>&gt;<i> &gt; &gt; to be able to make the isoboot descriptions smaller and be more
</I>&gt;<i> &gt; &gt; flexible... so hopefully the merge with your patch works well
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Ah, great, gxboot will be nice.
</I>&gt;<i> 
</I>&gt;<i> JFYI
</I>&gt;<i> I'm ready with the changes to the iso code, problem ist that
</I>&gt;<i> it currently doesn't work :-)... the graphics is not loaded because
</I>&gt;<i> of a problem in creating the bootlogo file. I think I did something
</I>&gt;<i> wrong but don't know what the problem is right now. So the default
</I>&gt;<i> text is displayed instead of the nice graphics. Well it works that
</I>&gt;<i> way as well but of course I'd like to fix the graphics the sooner
</I>&gt;<i> the better 
</I>&gt;<i> 
</I>&gt;<i> &gt; How about...isoinstboot?  I'd put the templates under
</I>&gt;<i> &gt; system/boot/isoinst.
</I>&gt;<i> 
</I>&gt;<i> One question I found was how do you setup the machine with the
</I>&gt;<i> image on the CD/DVD. There must be some kind of config file
</I>&gt;<i> telling linuxrc if it should partition the disk,
</I>&gt;<i> which disk, how... and so on. What setup is used for isoinstboot ?
</I>
Currently it expects a config file similar to those used with netboot to
be located at /config.isoclient on the initrd.  Thinking about this some
more, though, I don't believe this is the best thing to do.  The initrd
images are generally pretty reusable, so the config file should probably
be associated with the system image.  I think picking it up from
&lt;systemImageName&gt;.config when we build the image and then sticking it
in /config.isoclient on the CD will work fine.

Wouldn't it be great if we could generate these config files
automatically?  If we added some partitioning information to config.xml
it should be possible.  Maybe something like:

&lt;partitions device=&quot;/dev/hda&quot;&gt;
	&lt;partition type=&quot;swap&quot; number=&quot;1&quot; size=&quot;200&quot;/&gt;
	&lt;partition type=&quot;linux&quot; number=&quot;2&quot;/&gt;
&lt;/partitions&gt;

Maybe a bit more info would be needed, I'm not sure.  Messing with these
config files by hand sucks, though :)

Thanks,
James


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000015.html">[Kiwi-devel] [PATCH] isoinstall initrd
</A></li>
	<LI>Next message: <A HREF="000017.html">[Kiwi-devel] [PATCH] isoinstall initrd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16">[ date ]</a>
              <a href="thread.html#16">[ thread ]</a>
              <a href="subject.html#16">[ subject ]</a>
              <a href="author.html#16">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
