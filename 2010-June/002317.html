<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] your kiwi patches...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2010-June/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20your%20kiwi%20patches...&In-Reply-To=%3C4C1B46A6.4010203%40novell.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002316.html">
   <LINK REL="Next"  HREF="002319.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] your kiwi patches...</H1>
    <B>Robert Schweikert</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20your%20kiwi%20patches...&In-Reply-To=%3C4C1B46A6.4010203%40novell.com%3E"
       TITLE="[Kiwi-devel] your kiwi patches...">rschweikert at novell.com
       </A><BR>
    <I>Fri Jun 18 12:12:54 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002316.html">[Kiwi-devel] your kiwi patches...
</A></li>
        <LI>Next message: <A HREF="002319.html">[Kiwi-devel] your kiwi patches...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2317">[ date ]</a>
              <a href="thread.html#2317">[ thread ]</a>
              <a href="subject.html#2317">[ subject ]</a>
              <a href="author.html#2317">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 06/18/2010 05:35 AM, Marcus Sch&#228;fer wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;&gt;&gt;<i> 2)  # Early exit
</I>&gt;&gt;&gt;<i>     if ((! -d $Destination) &amp;&amp;  (! defined $BaseRoot)) {
</I>&gt;&gt;&gt;<i>        $kiwi -&gt; info (&quot;No root directory specified or created.&quot;);
</I>&gt;&gt;&gt;<i>        $kiwi -&gt; failed ();
</I>&gt;&gt;&gt;<i>        my $code = kiwiExit (1); return $code;
</I>&gt;&gt;&gt;<i>     }
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>     don't understand this one. How do you have to call kiwi to
</I>&gt;&gt;&gt;<i>     run into this ? 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Answer &quot;no&quot; to the &quot;Create directory question&quot;. If the user enters &quot;no&quot;
</I>&gt;&gt;<i> we at present just print the same message that one would get if
</I>&gt;&gt;<i> directory creation itself fails. This is misleading, even if the user
</I>&gt;&gt;<i> just answered &quot;no&quot; and should remember.
</I>&gt;<i> 
</I>&gt;<i> ok, now I got it. So wouldn't it be better to check the return
</I>&gt;<i> code of the createDirInteractive() function then. Attached is
</I>&gt;<i> a patch. What do you think ?
</I>
The way I read the code (without this patch and my patch) is that the
early exit condition needs to be delayed until we figure out whether or
not the XML contains a destination. This conclusion is also based on the
current behavior. The behavior seems reasonable to me as the user can
decide, by answering &quot;no&quot;, to use the default location, specified in
config.xml, even if specifying -d on the command line.

With the new patch (your changes) the behavior changes in that we exit
when the user answers &quot;no&quot; to the directory creation question, thus we
disregard the specification in the XML.

The new behavior is OK with me, after all the user just told us not to
create the destination directory and thus we have no place to put the
files. Secondly the new behavior reduces the mental complexity of the
code, which is always a good thing.

I am in favor of the new behavior.
Robert

&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> Marcus
</I>
-- 
Robert Schweikert                           MAY THE SOURCE BE WITH YOU
Software Engineer Consultant                          LINUX
<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">rschweikert at novell.com</A>
781-464-8147

Novell
Making IT Work As One

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002316.html">[Kiwi-devel] your kiwi patches...
</A></li>
	<LI>Next message: <A HREF="002319.html">[Kiwi-devel] your kiwi patches...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2317">[ date ]</a>
              <a href="thread.html#2317">[ thread ]</a>
              <a href="subject.html#2317">[ subject ]</a>
              <a href="author.html#2317">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
