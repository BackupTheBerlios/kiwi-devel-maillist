<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] early exit on conditional XML &quot;failure&quot;
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2010-June/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20early%20exit%20on%20conditional%20XML%20%22failure%22&In-Reply-To=%3C4C17A0A5.7010303%40novell.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002301.html">
   <LINK REL="Next"  HREF="002303.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] early exit on conditional XML &quot;failure&quot;</H1>
    <B>Robert Schweikert</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20early%20exit%20on%20conditional%20XML%20%22failure%22&In-Reply-To=%3C4C17A0A5.7010303%40novell.com%3E"
       TITLE="[Kiwi-devel] early exit on conditional XML &quot;failure&quot;">rschweikert at novell.com
       </A><BR>
    <I>Tue Jun 15 17:47:49 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002301.html">[Kiwi-devel] findExec return undef
</A></li>
        <LI>Next message: <A HREF="002303.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 4f3de27e9904ba6824d9b33e4b71a62ef5116904
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2302">[ date ]</a>
              <a href="thread.html#2302">[ thread ]</a>
              <a href="subject.html#2302">[ subject ]</a>
              <a href="author.html#2302">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

The attached patch creates an early exit condition if the users
specifies an OEM image but does not specify the filesystem attribute. At
the moment a user can get through the prepare step, which might be time
consuming, only to run into an error when calling create.

In principal this is an XML issue, but we cannot, AFAIK, detect this via
the parser validation as it is a conditional validity issue, i.e. if the
oem image type is used one must also specify the filesystem attribute.
There may be additional conditional validation cases, however I have not
encountered those. I've encountered the oem needs filesystem issues a
few times and this issue was also encountered during a class on Kiwi I
am teaching.

If we have other conditionals we need/should check we probably would
want to create a separate function that validates all conditionals once
the XML object has been setup.

This patch also removes a check for a value in the XML that is no longer
supported.

Robert
-- 
Robert Schweikert                           MAY THE SOURCE BE WITH YOU
Software Engineer Consultant                          LINUX
<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">rschweikert at novell.com</A>
781-464-8147

Novell
Making IT Work As One
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0003-remove-test-for-unsupported-value-early-exit-on-inv.patch
Type: text/x-patch
Size: 1369 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/kiwi-devel/attachments/20100615/8fcaba80/attachment.bin">https://lists.berlios.de/pipermail/kiwi-devel/attachments/20100615/8fcaba80/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002301.html">[Kiwi-devel] findExec return undef
</A></li>
	<LI>Next message: <A HREF="002303.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 4f3de27e9904ba6824d9b33e4b71a62ef5116904
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2302">[ date ]</a>
              <a href="thread.html#2302">[ thread ]</a>
              <a href="subject.html#2302">[ subject ]</a>
              <a href="author.html#2302">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
