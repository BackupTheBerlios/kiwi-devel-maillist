<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 207b5660a9a0fa2d88d5d499d6319e257dc955c5
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%20207b5660a9a0fa2d88d5d499d6319e257dc955c5&In-Reply-To=%3C20100708145400.96BAB480A0D%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002390.html">
   <LINK REL="Next"  HREF="002392.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 207b5660a9a0fa2d88d5d499d6319e257dc955c5</H1>
    <B>marcus_schaefer at BerliOS</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%20207b5660a9a0fa2d88d5d499d6319e257dc955c5&In-Reply-To=%3C20100708145400.96BAB480A0D%40sheep.berlios.de%3E"
       TITLE="[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 207b5660a9a0fa2d88d5d499d6319e257dc955c5">marcus_schaefer at mail.berlios.de
       </A><BR>
    <I>Thu Jul  8 16:54:00 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002390.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch,	KIWI-374-SuSE-11-1-SLE-SP-Devel,	updated. ba374aff6e28f1780d692f909d9edc0fd394740a
</A></li>
        <LI>Next message: <A HREF="002392.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 1ce689f55b3cba9335316f26d57d2c4777176a18
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2391">[ date ]</a>
              <a href="thread.html#2391">[ thread ]</a>
              <a href="subject.html#2391">[ subject ]</a>
              <a href="author.html#2391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;Project kiwi at BerliOS&quot;.

The branch, master has been updated
       via  207b5660a9a0fa2d88d5d499d6319e257dc955c5 (commit)
      from  e0fd9747c875d73f8b6ebf1b52002ca21df93bc7 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 207b5660a9a0fa2d88d5d499d6319e257dc955c5
Author: Marcus Sch&#195;&#164;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&gt;
Date:   Thu Jul 8 16:53:48 2010 +0200

    - moved in-place recovery file creation into suse-dump
      directly after the install verification (bnc #620777)

-----------------------------------------------------------------------

Summary of changes:
diff --git a/locale/Makefile b/locale/Makefile
index 5914773..850387e 100644
--- a/locale/Makefile
+++ b/locale/Makefile
@@ -11,8 +11,9 @@ all:
 	./.locale
 	for i in `ls -1 .`; do \
 		if [ -d ./$$i ];then \
-		if [ ! &quot;$$i&quot; = &quot;kiwi-help&quot; ] &amp;&amp; [ ! &quot;$$i&quot; == &quot;kiwi-template&quot; ];then \
-		( cd ./$$i/${LC}  &amp;&amp; msgfmt -o kiwi.mo kiwi.po ) ;\
+			if [ ! &quot;$$i&quot; = &quot;kiwi-help&quot; ] &amp;&amp; [ ! &quot;$$i&quot; == &quot;kiwi-template&quot; ];then \
+				( cd ./$$i/${LC}  &amp;&amp; msgfmt -o kiwi.mo kiwi.po ) ;\
+			fi \
 		fi \
 	done
 
diff --git a/locale/ar/LC_MESSAGES/kiwi.po b/locale/ar/LC_MESSAGES/kiwi.po
index fe8f305..83aae45 100644
--- a/locale/ar/LC_MESSAGES/kiwi.po
+++ b/locale/ar/LC_MESSAGES/kiwi.po
@@ -45,6 +45,9 @@ msgstr &quot;&#216;&#170;&#217;&#133;&#216;&#170; &#216;&#167;&#216;&#179;&#216;&#170;&#216;&#185;&#216;&#167;&#216;&#175;&#216;&#169; %2 &#217;&#133;&#217;&#132;&#217;&#129;&#216;&#167;&#216;&#170; &#217;&#133;&#217;&#134; %1...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;&quot;
 
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;&quot;
 
diff --git a/locale/cs/LC_MESSAGES/kiwi.po b/locale/cs/LC_MESSAGES/kiwi.po
index 459899e..7b8b90c 100644
--- a/locale/cs/LC_MESSAGES/kiwi.po
+++ b/locale/cs/LC_MESSAGES/kiwi.po
@@ -51,6 +51,10 @@ msgid &quot;backing up: %1...&quot;
 msgstr &quot;&quot;
 
 #, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;P&#197;&#153;&#195;&#173;li&#197;&#161; velik&#195;&#189; soubor: %1.&quot;
+
+#, fuzzy
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;P&#197;&#153;&#195;&#173;li&#197;&#161; velik&#195;&#189; soubor: %1.&quot;
 
diff --git a/locale/de/LC_MESSAGES/kiwi.po b/locale/de/LC_MESSAGES/kiwi.po
index cec8bf9..4495b3b 100644
--- a/locale/de/LC_MESSAGES/kiwi.po
+++ b/locale/de/LC_MESSAGES/kiwi.po
@@ -47,6 +47,10 @@ msgid &quot;backing up: %1...&quot;
 msgstr &quot;Sicherung: %1 ...&quot;
 
 #, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;Sicherung: %1 ...&quot;
+
+#, fuzzy
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;Sicherung: %1 ...&quot;
 
diff --git a/locale/el/LC_MESSAGES/kiwi.po b/locale/el/LC_MESSAGES/kiwi.po
index 25c59f6..56d2c64 100644
--- a/locale/el/LC_MESSAGES/kiwi.po
+++ b/locale/el/LC_MESSAGES/kiwi.po
@@ -49,6 +49,10 @@ msgid &quot;backing up: %1...&quot;
 msgstr &quot;&quot;
 
 #, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;&#206;&#164;&#206;&#191; &#206;&#177;&#207;&#129;&#207;&#135;&#206;&#181;&#206;&#175;&#206;&#191; &#206;&#181;&#206;&#175;&#206;&#189;&#206;&#177;&#206;&#185; &#207;&#128;&#206;&#191;&#206;&#187;&#207;&#141; &#206;&#188;&#206;&#181;&#206;&#179;&#206;&#172;&#206;&#187;&#206;&#191;: %1.&quot;
+
+#, fuzzy
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;&#206;&#164;&#206;&#191; &#206;&#177;&#207;&#129;&#207;&#135;&#206;&#181;&#206;&#175;&#206;&#191; &#206;&#181;&#206;&#175;&#206;&#189;&#206;&#177;&#206;&#185; &#207;&#128;&#206;&#191;&#206;&#187;&#207;&#141; &#206;&#188;&#206;&#181;&#206;&#179;&#206;&#172;&#206;&#187;&#206;&#191;: %1.&quot;
 
diff --git a/locale/es/LC_MESSAGES/kiwi.po b/locale/es/LC_MESSAGES/kiwi.po
index 1a20913..e777501 100644
--- a/locale/es/LC_MESSAGES/kiwi.po
+++ b/locale/es/LC_MESSAGES/kiwi.po
@@ -51,6 +51,10 @@ msgstr &quot;Restaurados %1 archivos de %2...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;Realizando copia de seguridad: %1...&quot;
 
+#, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;Realizando copia de seguridad: %1...&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;restaurando: %1...&quot;
 
diff --git a/locale/fi/LC_MESSAGES/kiwi.po b/locale/fi/LC_MESSAGES/kiwi.po
index 2b0cd74..c87f3a5 100644
--- a/locale/fi/LC_MESSAGES/kiwi.po
+++ b/locale/fi/LC_MESSAGES/kiwi.po
@@ -52,6 +52,10 @@ msgstr &quot;%1 tiedostoa %2 palautettiin...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;varmuuskopioidaan: %1...&quot;
 
+#, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;varmuuskopioidaan: %1...&quot;
+
 #
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;palautetaan: %1...&quot;
diff --git a/locale/fr/LC_MESSAGES/kiwi.po b/locale/fr/LC_MESSAGES/kiwi.po
index 5c7d34e..4509d63 100644
--- a/locale/fr/LC_MESSAGES/kiwi.po
+++ b/locale/fr/LC_MESSAGES/kiwi.po
@@ -46,6 +46,10 @@ msgstr &quot;%1 fichiers sur %2 restaur&#195;&#169;s...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;Sauvegarde : %1...&quot;
 
+#, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;Sauvegarde : %1...&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;Restauration de : %1...&quot;
 
diff --git a/locale/hu/LC_MESSAGES/kiwi.po b/locale/hu/LC_MESSAGES/kiwi.po
index 9886877..faabbd2 100644
--- a/locale/hu/LC_MESSAGES/kiwi.po
+++ b/locale/hu/LC_MESSAGES/kiwi.po
@@ -49,6 +49,10 @@ msgstr &quot;%1 vissza&#195;&#161;ll&#195;&#173;t&#195;&#161;sa innen: %2...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;%1 ment&#195;&#169;se...&quot;
 
+#, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;%1 ment&#195;&#169;se...&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;%1 vissza&#195;&#161;ll&#195;&#173;t&#195;&#161;sa...&quot;
 
diff --git a/locale/it/LC_MESSAGES/kiwi.po b/locale/it/LC_MESSAGES/kiwi.po
index 94f89b5..20918d3 100644
--- a/locale/it/LC_MESSAGES/kiwi.po
+++ b/locale/it/LC_MESSAGES/kiwi.po
@@ -46,6 +46,10 @@ msgstr &quot;%1 file da %2 sono stati ripristinati...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;backup in corso: %1...&quot;
 
+#, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;backup in corso: %1...&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;ripristino in corso... : %1&quot;
 
diff --git a/locale/ja/LC_MESSAGES/kiwi.po b/locale/ja/LC_MESSAGES/kiwi.po
index 061ce0d..7ce6f14 100644
--- a/locale/ja/LC_MESSAGES/kiwi.po
+++ b/locale/ja/LC_MESSAGES/kiwi.po
@@ -47,6 +47,10 @@ msgstr &quot;%2 &#227;&#129;&#139;&#227;&#130;&#137; %1 &#227;&#131;&#149;&#227;&#130;&#161;&#227;&#130;&#164;&#227;&#131;&#171;&#227;&#130;&#146;&#229;&#190;&#169;&#229;&#133;&#131;&#227;&#129;&#151;&#227;&#129;&#190;&#227;&#129;&#151;&#227;&#129;&#159;...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;&#227;&#131;&#144;&#227;&#131;&#131;&#227;&#130;&#175;&#227;&#130;&#162;&#227;&#131;&#131;&#227;&#131;&#151;&#227;&#129;&#151;&#227;&#129;&#166;&#227;&#129;&#132;&#227;&#129;&#190;&#227;&#129;&#153;: %1...&quot;
 
+#, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;&#227;&#131;&#144;&#227;&#131;&#131;&#227;&#130;&#175;&#227;&#130;&#162;&#227;&#131;&#131;&#227;&#131;&#151;&#227;&#129;&#151;&#227;&#129;&#166;&#227;&#129;&#132;&#227;&#129;&#190;&#227;&#129;&#153;: %1...&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;&#229;&#190;&#169;&#229;&#133;&#131;&#227;&#129;&#151;&#227;&#129;&#166;&#227;&#129;&#132;&#227;&#129;&#190;&#227;&#129;&#153;: %1...&quot;
 
diff --git a/locale/kiwi-template/kiwi.pot b/locale/kiwi-template/kiwi.pot
index 151178f..535a49b 100644
--- a/locale/kiwi-template/kiwi.pot
+++ b/locale/kiwi-template/kiwi.pot
@@ -47,6 +47,9 @@ msgstr &quot;&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;&quot;
 
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;&quot;
 
diff --git a/locale/ko/LC_MESSAGES/kiwi.po b/locale/ko/LC_MESSAGES/kiwi.po
index e669055..e6e607b 100644
--- a/locale/ko/LC_MESSAGES/kiwi.po
+++ b/locale/ko/LC_MESSAGES/kiwi.po
@@ -47,6 +47,10 @@ msgstr &quot;%2 &#235;&#161;&#156;&#235;&#182;&#128;&#237;&#132;&#176; %1 &#237;&#140;&#140;&#236;&#157;&#188; &#235;&#179;&#181;&#236;&#155;&#144;&#235;&#144;&#168;...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;&#235;&#176;&#177;&#236;&#151;&#133; &#236;&#164;&#145;: %1...&quot;
 
+#, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;&#235;&#176;&#177;&#236;&#151;&#133; &#236;&#164;&#145;: %1...&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;&#235;&#179;&#181;&#236;&#155;&#144; &#236;&#164;&#145;: %1...&quot;
 
diff --git a/locale/nl/LC_MESSAGES/kiwi.po b/locale/nl/LC_MESSAGES/kiwi.po
index e9d91f7..0980e7b 100644
--- a/locale/nl/LC_MESSAGES/kiwi.po
+++ b/locale/nl/LC_MESSAGES/kiwi.po
@@ -52,6 +52,10 @@ msgstr &quot;%1 bestanden van %2 hersteld...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;reservekopie maken van: %1...&quot;
 
+#, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;reservekopie maken van: %1...&quot;
+
 #
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;herstellen van: %1...&quot;
diff --git a/locale/pl/LC_MESSAGES/kiwi.po b/locale/pl/LC_MESSAGES/kiwi.po
index 4cdae18..d44325b 100644
--- a/locale/pl/LC_MESSAGES/kiwi.po
+++ b/locale/pl/LC_MESSAGES/kiwi.po
@@ -52,6 +52,10 @@ msgstr &quot;przywr&#195;&#179;cono %1 plik&#195;&#179;w z %2 ...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;tworzenie kopii zapasowej: %1...&quot;
 
+#, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;tworzenie kopii zapasowej: %1...&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;trwa przywracanie: %1...&quot;
 
diff --git a/locale/pt_BR/LC_MESSAGES/kiwi.po b/locale/pt_BR/LC_MESSAGES/kiwi.po
index 0404e20..b23bc8e 100644
--- a/locale/pt_BR/LC_MESSAGES/kiwi.po
+++ b/locale/pt_BR/LC_MESSAGES/kiwi.po
@@ -51,6 +51,10 @@ msgstr &quot;%1 arquivos de %2 restaurados...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;fazendo backup: %1...&quot;
 
+#, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;fazendo backup: %1...&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;restaurando: %1...&quot;
 
diff --git a/locale/ru/LC_MESSAGES/kiwi.po b/locale/ru/LC_MESSAGES/kiwi.po
index 727049f..49f7820 100644
--- a/locale/ru/LC_MESSAGES/kiwi.po
+++ b/locale/ru/LC_MESSAGES/kiwi.po
@@ -45,6 +45,10 @@ msgstr &quot;&#208;&#146;&#208;&#190;&#209;&#129;&#209;&#129;&#209;&#130;&#208;&#176;&#208;&#189;&#208;&#190;&#208;&#178;&#208;&#187;&#208;&#181;&#208;&#189;&#208;&#190; %1 &#209;&#132;&#208;&#176;&#208;&#185;&#208;&#187;&#208;&#190;&#208;&#178; &#208;&#184;&#208;&#183; %2...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;&#209;&#128;&#208;&#181;&#208;&#183;&#208;&#181;&#209;&#128;&#208;&#178;&#208;&#189;&#208;&#190;&#208;&#181; &#208;&#186;&#208;&#190;&#208;&#191;&#208;&#184;&#209;&#128;&#208;&#190;&#208;&#178;&#208;&#176;&#208;&#189;&#208;&#184;&#208;&#181;: %1...&quot;
 
+#, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;&#209;&#128;&#208;&#181;&#208;&#183;&#208;&#181;&#209;&#128;&#208;&#178;&#208;&#189;&#208;&#190;&#208;&#181; &#208;&#186;&#208;&#190;&#208;&#191;&#208;&#184;&#209;&#128;&#208;&#190;&#208;&#178;&#208;&#176;&#208;&#189;&#208;&#184;&#208;&#181;: %1...&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;&#208;&#178;&#208;&#190;&#209;&#129;&#209;&#129;&#209;&#130;&#208;&#176;&#208;&#189;&#208;&#190;&#208;&#178;&#208;&#187;&#208;&#181;&#208;&#189;&#208;&#184;&#208;&#181;: %1...&quot;
 
diff --git a/locale/sv/LC_MESSAGES/kiwi.po b/locale/sv/LC_MESSAGES/kiwi.po
index ce683d1..924af13 100644
--- a/locale/sv/LC_MESSAGES/kiwi.po
+++ b/locale/sv/LC_MESSAGES/kiwi.po
@@ -55,6 +55,10 @@ msgid &quot;backing up: %1...&quot;
 msgstr &quot;&quot;
 
 #, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;Filen &#195;&#164;r f&#195;&#182;r stor: %1.&quot;
+
+#, fuzzy
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;Filen &#195;&#164;r f&#195;&#182;r stor: %1.&quot;
 
diff --git a/locale/tr/LC_MESSAGES/kiwi.po b/locale/tr/LC_MESSAGES/kiwi.po
index 157f8aa..22f2e43 100644
--- a/locale/tr/LC_MESSAGES/kiwi.po
+++ b/locale/tr/LC_MESSAGES/kiwi.po
@@ -45,6 +45,9 @@ msgstr &quot;%1/%2 dosya geri y&#195;&#188;klendi...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;&quot;
 
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;&quot;
 
diff --git a/locale/uk/LC_MESSAGES/kiwi.po b/locale/uk/LC_MESSAGES/kiwi.po
index 4a11f23..6ce61b5 100644
--- a/locale/uk/LC_MESSAGES/kiwi.po
+++ b/locale/uk/LC_MESSAGES/kiwi.po
@@ -56,6 +56,10 @@ msgstr &quot;&#208;&#146;&#209;&#150;&#208;&#180;&#208;&#189;&#208;&#190;&#208;&#178;&#208;&#187;&#208;&#181;&#208;&#189;&#208;&#190; %1 &#208;&#183; %2 &#209;&#132;&#208;&#176;&#208;&#185;&#208;&#187;&#209;&#150;&#208;&#178;...&quot;
 msgid &quot;backing up: %1...&quot;
 msgstr &quot;&#208;&#144;&#209;&#128;&#209;&#133;&#209;&#150;&#208;&#178;&#209;&#131;&#209;&#148;&#209;&#130;&#209;&#140;&#209;&#129;&#209;&#143;: %1...&quot;
 
+#, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;&#208;&#144;&#209;&#128;&#209;&#133;&#209;&#150;&#208;&#178;&#209;&#131;&#209;&#148;&#209;&#130;&#209;&#140;&#209;&#129;&#209;&#143;: %1...&quot;
+
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;&#208;&#178;&#209;&#150;&#208;&#180;&#208;&#189;&#208;&#190;&#208;&#178;&#208;&#187;&#208;&#181;&#208;&#189;&#208;&#189;&#209;&#143;: %1...&quot;
 
diff --git a/locale/zh_CN/LC_MESSAGES/kiwi.po b/locale/zh_CN/LC_MESSAGES/kiwi.po
index c8c4fc6..e056bd9 100644
--- a/locale/zh_CN/LC_MESSAGES/kiwi.po
+++ b/locale/zh_CN/LC_MESSAGES/kiwi.po
@@ -57,6 +57,10 @@ msgid &quot;backing up: %1...&quot;
 msgstr &quot;&quot;
 
 #, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;&#230;&#150;&#135;&#228;&#187;&#182;&#232;&#191;&#135;&#229;&#164;&#167;&#239;&#188;&#154;%1&#227;&#128;&#130;&quot;
+
+#, fuzzy
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;&#230;&#150;&#135;&#228;&#187;&#182;&#232;&#191;&#135;&#229;&#164;&#167;&#239;&#188;&#154;%1&#227;&#128;&#130;&quot;
 
diff --git a/locale/zh_TW/LC_MESSAGES/kiwi.po b/locale/zh_TW/LC_MESSAGES/kiwi.po
index 0bf9b6b..e248c99 100644
--- a/locale/zh_TW/LC_MESSAGES/kiwi.po
+++ b/locale/zh_TW/LC_MESSAGES/kiwi.po
@@ -55,6 +55,10 @@ msgid &quot;backing up: %1...&quot;
 msgstr &quot;&quot;
 
 #, fuzzy
+msgid &quot;archiving: %1...&quot;
+msgstr &quot;&#230;&#170;&#148;&#230;&#161;&#136;&#233;&#129;&#142;&#229;&#164;&#167;&#239;&#188;&#154;%1&#227;&#128;&#130;&quot;
+
+#, fuzzy
 msgid &quot;restoring: %1...&quot;
 msgstr &quot;&#230;&#170;&#148;&#230;&#161;&#136;&#233;&#129;&#142;&#229;&#164;&#167;&#239;&#188;&#154;%1&#227;&#128;&#130;&quot;
 
diff --git a/modules/KIWIBoot.pm b/modules/KIWIBoot.pm
index 4d14e78..77a5173 100644
--- a/modules/KIWIBoot.pm
+++ b/modules/KIWIBoot.pm
@@ -2466,6 +2466,27 @@ sub setupBootDisk {
 		}
 	}
 	#==========================================
+	# increase vmsize on in-place recovery
+	#------------------------------------------
+	my $inplace = $xml -&gt; getOEMRecoveryInPlace();
+	if (defined $inplace) {
+		my ($FD,$recoMB);
+		my $sizefile = &quot;$destdir/recovery.partition.size&quot;;
+		if (open ($FD,$sizefile)) {
+			$recoMB = &lt;$FD&gt;; chomp $recoMB;
+			$kiwi -&gt; info (
+				&quot;Adding $recoMB MB spare space for in-place recovery&quot;
+			);
+			close $FD;
+			unlink $sizefile;
+			$vmsize = $this-&gt;{vmmbyte} + $recoMB;
+			$this-&gt;{vmmbyte} = $vmsize;
+			$vmsize = $vmsize.&quot;M&quot;;
+			$this-&gt;{vmsize}  = $vmsize;
+			$kiwi -&gt; done ();
+		}
+	}
+	#==========================================
 	# increase vmsize if image split portion
 	#------------------------------------------
 	if (($imgtype eq &quot;split&quot;) &amp;&amp; (-f $splitfile)) {
diff --git a/modules/KIWIConfigure.pm b/modules/KIWIConfigure.pm
index 8348321..1fdedc5 100644
--- a/modules/KIWIConfigure.pm
+++ b/modules/KIWIConfigure.pm
@@ -163,6 +163,13 @@ sub setupRecoveryArchive {
 	$psize = sprintf (&quot;%.0f&quot;, $psize);
 	print $FD $psize;
 	close $FD;
+	$status = qxx (&quot;cp $root/recovery.partition.size $dest 2&gt;&amp;1&quot;);
+	$code = $? &gt;&gt; 8;
+	if ($code != 0) {
+		$kiwi -&gt; failed ();
+		$kiwi -&gt; error  (&quot;Failed to copy partition size info file: $status&quot;);
+		return undef;
+	}
 	#==========================================
 	# Create destination filesystem information
 	#------------------------------------------
diff --git a/rpm/kiwi.changes b/rpm/kiwi.changes
index 607828f..73c175b 100644
--- a/rpm/kiwi.changes
+++ b/rpm/kiwi.changes
@@ -1,8 +1,12 @@
 -------------------------------------------------------------------
 Tue Jul  6 11:12:29 CEST 2010 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>
 
+- moved in-place recovery file creation into suse-dump
+  directly after the install verification (bnc #620777)
 - restructure source tree a bit. make templates and repos
   architecture dependent because of the s390 implementations
+  kiwi now supports the creation of vmx and oem images for
+  s390 and the KVM virtual machine target
 - don't exit with an error if 'zypper rm' can't find the package
 - check for profiles when searching for foreign packages also
   search in type=image and type=bootstrap package sections
diff --git a/system/boot/ix86/oemboot/suse-dump b/system/boot/ix86/oemboot/suse-dump
index 56ad4a3..390b2a9 100755
--- a/system/boot/ix86/oemboot/suse-dump
+++ b/system/boot/ix86/oemboot/suse-dump
@@ -659,6 +659,68 @@ function OEMInstall {
 		dhcpcd -p -k $PXE_IFACE
 	fi
 	#======================================
+	# create recovery archive if requested
+	#--------------------------------------
+	if [ ! -z &quot;$OEM_RECOVERY_INPLACE&quot; ];then
+		setupInitialDeviceNames
+		if ! mountSystem $imageRootDevice;then
+			systemException &quot;Failed to mount root filesystem&quot; &quot;reboot&quot;
+		fi
+		if [ ! -f /mnt/recovery.partition.size ];then
+			systemException &quot;Can't find recovery part size info&quot; &quot;reboot&quot;
+		fi
+		recoMByte=$(cat /mnt/recovery.partition.size)
+		recoBytes=$((recoMByte - 100))
+		recoBytes=$((recoBytes * 1048576))
+		haveMByte=$(
+			df -B1M $imageRootDevice | tail -n 1 | column -t |\
+			sed -e s@&quot;  &quot;@:@g | cut -f 4 -d:
+		)
+		if [ &quot;$haveMByte&quot; -gt &quot;$recoMByte&quot; ];then
+			pushd /mnt &amp;&gt;/dev/null
+			Echo &quot;Creating recovery root tarball...&quot;
+			test -e /progress || mkfifo /progress
+			test -e /usr/bin/mst || cp /usr/bin/tail /usr/bin/mst
+			(
+				touch recovery.tar.gz
+				tar --numeric-owner -czpf recovery.tar.gz . \
+					--exclude &quot;./dev&quot; \
+					--exclude &quot;./proc&quot; \
+					--exclude &quot;./sys&quot; \
+					--exclude &quot;./recovery.*&quot; &amp;
+				rPID=$!
+				while kill -0 $rPID &amp;&gt;/dev/null;do
+					rReady=$(stat --format=&quot;%s&quot; ./recovery.tar.gz)
+					if [ $rReady -eq 0 ];then
+						continue
+					fi
+					rPDone=$(echo &quot;scale=4; $recoBytes / $rReady&quot; | bc)
+					rPDone=$(echo &quot;scale=0; 100 / $rPDone&quot; | bc)
+					getText &quot;archiving: %1...&quot; &quot;$rPDone%&quot; &gt; /progress
+					sleep 1
+				done
+				dPID=$(pidof mst)
+				kill $dPID
+			)&amp;
+			echo &quot;mst -f /progress | dialog \
+				--backtitle \&quot;$TEXT_INSTALLTITLE\&quot; \
+				--progressbox 3 50
+			&quot; &gt; /tmp/progress.sh
+			if [ -e /dev/fb0 ];then
+				fbiterm -m $UFONT -- bash -e /tmp/progress.sh
+			else
+				bash -e /tmp/progress.sh
+			fi
+			popd &amp;&gt;/dev/null
+			clear
+		else
+			Echo &quot;Not enough space left to create recovery archive&quot;
+			Echo &quot;=&gt; Warning: Postponed after repartitioning is done&quot;
+			Echo &quot;=&gt; Warning: This moves the archive creation to first boot&quot;
+		fi
+		umountSystem
+	fi
+	#======================================
 	# Check for halt request
 	#--------------------------------------
 	if [ ! -z &quot;$OEM_DUMPHALT&quot; ];then


hooks/post-receive
-- 
Project kiwi at BerliOS

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002390.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch,	KIWI-374-SuSE-11-1-SLE-SP-Devel,	updated. ba374aff6e28f1780d692f909d9edc0fd394740a
</A></li>
	<LI>Next message: <A HREF="002392.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 1ce689f55b3cba9335316f26d57d2c4777176a18
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2391">[ date ]</a>
              <a href="thread.html#2391">[ thread ]</a>
              <a href="subject.html#2391">[ subject ]</a>
              <a href="author.html#2391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
