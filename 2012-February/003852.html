<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] Having Problem with KIWI and suse-ec2-guest
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2012-February/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20Having%20Problem%20with%20KIWI%20and%20suse-ec2-guest&In-Reply-To=%3C20120227163008.GA18803%40D13.ddts.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003851.html">
   <LINK REL="Next"  HREF="003853.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] Having Problem with KIWI and suse-ec2-guest</H1>
    <B>Marcus Sch&#228;fer</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20Having%20Problem%20with%20KIWI%20and%20suse-ec2-guest&In-Reply-To=%3C20120227163008.GA18803%40D13.ddts.net%3E"
       TITLE="[Kiwi-devel] Having Problem with KIWI and suse-ec2-guest">ms at suse.de
       </A><BR>
    <I>Mon Feb 27 17:30:08 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="003851.html">[Kiwi-devel] Having Problem with KIWI and suse-ec2-guest
</A></li>
        <LI>Next message: <A HREF="003853.html">[Kiwi-devel] Having Problem with KIWI and suse-ec2-guest
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3852">[ date ]</a>
              <a href="thread.html#3852">[ thread ]</a>
              <a href="subject.html#3852">[ subject ]</a>
              <a href="author.html#3852">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> I am after some help, so I hope I've posted to the correct place??
</I>&gt;<i> 
</I>&gt;<i> I used Kiwi to create a openSuSE 11.4 AMI which boots up great if I show the console on AWS, but it looks like it fails to create the SSH keys properly with:
</I>&gt;<i> 
</I>&gt;<i> ec2:failed to retrieve ec2-ami-tools from S3
</I>&gt;<i> 
</I>ec2:unable to update ec2-ami-tools
ec2:failed

&gt;<i> ec2:BEGIN SSH HOST KEY FINGERPRINTS
</I>&gt;<i> 
</I>ec2:/etc/ssh/ssh_host_key.pub: no such file or directory
&gt;<i> 
</I>ec2:/etc/ssh/ssh_host_dsa_key.pub:no such file or directory
&gt;<i> 
</I>ec2:/etc/ssh/ssh_host_rsa_key.pub: no such file or directory
&gt;<i> 
</I>&gt;<i> 
</I>
I also tried creating the keys locally after running kiwi 'prepare' by mounting the image in a chroot and manually running ssh-keygen to try to obtain the keys this way. then running kiwi create, which does give the keys, but still fails to update AMI tools or allow remote SSH.
&gt;<i> 
</I>&gt;<i> SSH is authorised on the AWS firewall, and if I install apache2 package I can connect to http on port 80, so host is definitely 'responding'.
</I>&gt;<i> 
</I>&gt;<i> - Any ideas what I have missed?
</I>
I'm not an expert here so Robert might be more helpful but I think
you need to make sure that the sshd service is enabled.
It will create the host keys on first boot if they were not created
The link to the following docs might also be helpfup

   <A HREF="http://isny.homelinux.com/data/kiwi.html#chap.ec2">http://isny.homelinux.com/data/kiwi.html#chap.ec2</A>

Hope that helps a bit

Regards,
Marcus
-- 
 Public Key available
 gpg --keyserver gpg-keyserver.de --recv-keys 0xCCE3C6A2
 -------------------------------------------------------
 Marcus Sch&#228;fer (Res. &amp; Dev.)   SUSE LINUX Products GmbH
 Tel: 0911-740 53 0             Maxfeldstrasse 5
 FAX: 0911-740 53 479           D-90409 N&#252;rnberg
 GF:  Jeff Hawn,Jennifer Guild, Felix Imend&#246;rffer                  
 HRB: 21284 (AG N&#252;rnberg)       Germany
 <A HREF="http://www.suse.de">http://www.suse.de</A>
 -------------------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003851.html">[Kiwi-devel] Having Problem with KIWI and suse-ec2-guest
</A></li>
	<LI>Next message: <A HREF="003853.html">[Kiwi-devel] Having Problem with KIWI and suse-ec2-guest
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3852">[ date ]</a>
              <a href="thread.html#3852">[ thread ]</a>
              <a href="subject.html#3852">[ subject ]</a>
              <a href="author.html#3852">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
