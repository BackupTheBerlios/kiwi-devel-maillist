<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [PATCH] demonstarte use of GNOME in appliance
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%5D%20demonstarte%20use%20of%20GNOME%20in%20appliance&In-Reply-To=%3Cmailman.4.1331734581.4461.kiwi-devel%40lists.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001544.html">
   <LINK REL="Next"  HREF="001545.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[PATCH] demonstarte use of GNOME in appliance</H1>
    <B>Robert Schweikert</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%5D%20demonstarte%20use%20of%20GNOME%20in%20appliance&In-Reply-To=%3Cmailman.4.1331734581.4461.kiwi-devel%40lists.berlios.de%3E"
       TITLE="[PATCH] demonstarte use of GNOME in appliance">rschweikert at novell.com
       </A><BR>
    <I>Mon Oct 26 23:21:12 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001544.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 957d004939ce80af596b1d4bdb0e8bb9385b86d0
</A></li>
        <LI>Next message: <A HREF="001545.html">[Kiwi-devel] Patch for example demonstrating the use of GNOME
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1546">[ date ]</a>
              <a href="thread.html#1546">[ thread ]</a>
              <a href="subject.html#1546">[ subject ]</a>
              <a href="author.html#1546">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>---
 doc/examples/suse-11.0/suse-use-gnome.readme       |   35 +++
 doc/examples/suse-11.0/suse-use-gnome/config.sh    |   45 +++
 doc/examples/suse-11.0/suse-use-gnome/config.xml   |   58 ++++
 .../suse-11.0/suse-use-gnome/root/etc/init.d/boot  |  323 ++++++++++++++++++++
 .../suse-use-gnome/root/etc/init.d/configX         |   36 +++
 .../root/etc/init.d/rc5.d/S01configX               |    1 +
 .../suse-11.0/suse-use-gnome/root/etc/inittab      |   98 ++++++
 .../root/etc/sysconfig/displaymanager              |  124 ++++++++
 .../root/etc/sysconfig/windowmanager               |  107 +++++++
 doc/examples/suse-11.1/suse-use-gnome.readme       |   35 +++
 doc/examples/suse-11.1/suse-use-gnome/config.sh    |   45 +++
 doc/examples/suse-11.1/suse-use-gnome/config.xml   |   58 ++++
 .../suse-11.1/suse-use-gnome/root/etc/init.d/boot  |  323 ++++++++++++++++++++
 .../suse-use-gnome/root/etc/init.d/configX         |   36 +++
 .../root/etc/init.d/rc5.d/S01configX               |    1 +
 .../suse-11.1/suse-use-gnome/root/etc/inittab      |   98 ++++++
 .../root/etc/sysconfig/displaymanager              |  124 ++++++++
 .../root/etc/sysconfig/windowmanager               |  107 +++++++
 doc/examples/suse-11.2/suse-use-gnome.readme       |   35 +++
 doc/examples/suse-11.2/suse-use-gnome/config.sh    |   45 +++
 doc/examples/suse-11.2/suse-use-gnome/config.xml   |   58 ++++
 .../suse-11.2/suse-use-gnome/root/etc/init.d/boot  |  323 ++++++++++++++++++++
 .../suse-use-gnome/root/etc/init.d/configX         |   36 +++
 .../root/etc/init.d/rc5.d/S01configX               |    1 +
 .../suse-11.2/suse-use-gnome/root/etc/inittab      |   98 ++++++
 .../root/etc/sysconfig/displaymanager              |  124 ++++++++
 .../root/etc/sysconfig/windowmanager               |  107 +++++++
 27 files changed, 2481 insertions(+), 0 deletions(-)
 create mode 100644 doc/examples/suse-11.0/suse-use-gnome.readme
 create mode 100755 doc/examples/suse-11.0/suse-use-gnome/config.sh
 create mode 100644 doc/examples/suse-11.0/suse-use-gnome/config.xml
 create mode 100755 doc/examples/suse-11.0/suse-use-gnome/root/etc/init.d/boot
 create mode 100755 doc/examples/suse-11.0/suse-use-gnome/root/etc/init.d/configX
 create mode 120000 doc/examples/suse-11.0/suse-use-gnome/root/etc/init.d/rc5.d/S01configX
 create mode 100644 doc/examples/suse-11.0/suse-use-gnome/root/etc/inittab
 create mode 100644 doc/examples/suse-11.0/suse-use-gnome/root/etc/sysconfig/displaymanager
 create mode 100644 doc/examples/suse-11.0/suse-use-gnome/root/etc/sysconfig/windowmanager
 create mode 100644 doc/examples/suse-11.1/suse-use-gnome.readme
 create mode 100755 doc/examples/suse-11.1/suse-use-gnome/config.sh
 create mode 100644 doc/examples/suse-11.1/suse-use-gnome/config.xml
 create mode 100755 doc/examples/suse-11.1/suse-use-gnome/root/etc/init.d/boot
 create mode 100755 doc/examples/suse-11.1/suse-use-gnome/root/etc/init.d/configX
 create mode 120000 doc/examples/suse-11.1/suse-use-gnome/root/etc/init.d/rc5.d/S01configX
 create mode 100644 doc/examples/suse-11.1/suse-use-gnome/root/etc/inittab
 create mode 100644 doc/examples/suse-11.1/suse-use-gnome/root/etc/sysconfig/displaymanager
 create mode 100644 doc/examples/suse-11.1/suse-use-gnome/root/etc/sysconfig/windowmanager
 create mode 100644 doc/examples/suse-11.2/suse-use-gnome.readme
 create mode 100755 doc/examples/suse-11.2/suse-use-gnome/config.sh
 create mode 100644 doc/examples/suse-11.2/suse-use-gnome/config.xml
 create mode 100755 doc/examples/suse-11.2/suse-use-gnome/root/etc/init.d/boot
 create mode 100755 doc/examples/suse-11.2/suse-use-gnome/root/etc/init.d/configX
 create mode 120000 doc/examples/suse-11.2/suse-use-gnome/root/etc/init.d/rc5.d/S01configX
 create mode 100644 doc/examples/suse-11.2/suse-use-gnome/root/etc/inittab
 create mode 100644 doc/examples/suse-11.2/suse-use-gnome/root/etc/sysconfig/displaymanager
 create mode 100644 doc/examples/suse-11.2/suse-use-gnome/root/etc/sysconfig/windowmanager

diff --git a/doc/examples/suse-11.0/suse-use-gnome.readme b/doc/examples/suse-11.0/suse-use-gnome.readme
new file mode 100644
index 0000000..9243f5a
--- /dev/null
+++ b/doc/examples/suse-11.0/suse-use-gnome.readme
@@ -0,0 +1,35 @@
+KIWI Image Description Example
+==============================
+* This image is configured to create a live iso image or a VMware image. The
+  example is focused on setting up an image to use GNOME and the type of 
+  image created is secondary. For specifics on setting up a given image type,
+  such as an OEM image please refere to the appropriate example.
+
+  As you inspect the config.xml file you will notice that the description does
+  not pull in the &quot;gnome&quot; pattern. This example creates an appliance with a
+  minimal GNOME environment. To include the applications generally installed
+  with a GNOME desktop add 
+    &lt;opensusePattern name=&quot;gnome&quot;/&gt;
+  to the configuration file.
+
+How to build this Example
+==============================
+
+    kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.0/suse-use-gnome \
+         --root /tmp/myusegnome
+
+    kiwi --create /tmp/myusegnome -d /tmp/myusegnome-result
+
+How to test this Example
+==============================
+* Both the live iso image and the VMware image can be tested with any 
+  virtualization software. Using qemu as an example you can use the 
+  following command to test the VMware image for a 64 bit build.
+
+   qemu-kvm /tmp/myusegnome-result/suse-11.0-gnome-demo.x86_64-1.0.1.vmdk
+
+  
+Login Details
+==============================
+* User root pwd: linux
+* User tux  pwd: linux
diff --git a/doc/examples/suse-11.0/suse-use-gnome/config.sh b/doc/examples/suse-11.0/suse-use-gnome/config.sh
new file mode 100755
index 0000000..f5909d2
--- /dev/null
+++ b/doc/examples/suse-11.0/suse-use-gnome/config.sh
@@ -0,0 +1,45 @@
+#!/bin/bash
+#================
+# FILE          : config.sh
+#----------------
+# PROJECT       : OpenSuSE KIWI Image System
+# COPYRIGHT     : (c) 2006 SUSE LINUX Products GmbH. All rights reserved
+#               :
+# AUTHOR        : Marcus Schaefer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>&gt;
+#               :
+# BELONGS TO    : Operating System images
+#               :
+# DESCRIPTION   : configuration script for SUSE based
+#               : operating systems
+#               :
+#               :
+# STATUS        : BETA
+#----------------
+#======================================
+# Functions...
+#--------------------------------------
+test -f /.kconfig &amp;&amp; . /.kconfig
+test -f /.profile &amp;&amp; . /.profile
+
+#======================================
+# Greeting...
+#--------------------------------------
+echo &quot;Configure image: [$kiwi_iname]...&quot;
+
+#======================================
+# Activate services
+#--------------------------------------
+suseActivateDefaultServices
+suseInsertService boot.device-mapper
+
+#======================================
+# SuSEconfig
+#--------------------------------------
+suseConfig
+
+#======================================
+# Umount kernel filesystems
+#--------------------------------------
+baseCleanMount
+
+exit 0
diff --git a/doc/examples/suse-11.0/suse-use-gnome/config.xml b/doc/examples/suse-11.0/suse-use-gnome/config.xml
new file mode 100644
index 0000000..4c7f74b
--- /dev/null
+++ b/doc/examples/suse-11.0/suse-use-gnome/config.xml
@@ -0,0 +1,58 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
+&lt;image schemaversion=&quot;3.7&quot; name=&quot;suse-11.0-gnome-demo&quot;&gt;
+	&lt;description type=&quot;system&quot;&gt;
+		&lt;author&gt;Robert Schweikert&lt;/author&gt;
+		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">rschweikert at novell.</A>&lt;/contact&gt;
+		&lt;specification&gt;openSUSE 11.0 Appliance using GNOME&lt;/specification&gt;
+	&lt;/description&gt;
+	&lt;preferences&gt;
+		&lt;type primary=&quot;true&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.0&quot; format=&quot;vmdk&quot;&gt;vmx&lt;/type&gt;
+        &lt;type boot=&quot;isoboot/suse-11.0&quot; flags=&quot;unified&quot;&gt;iso&lt;/type&gt;
+		&lt;version&gt;1.0.1&lt;/version&gt;
+		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
+		&lt;rpm-check-signatures&gt;false&lt;/rpm-check-signatures&gt;
+		&lt;rpm-force&gt;true&lt;/rpm-force&gt;
+		&lt;locale&gt;en_US&lt;/locale&gt;
+		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
+	&lt;/preferences&gt;
+	&lt;users group=&quot;users&quot;&gt;
+		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/home/tux&quot; name=&quot;tux&quot;/&gt;
+	&lt;/users&gt;
+	&lt;users group=&quot;root&quot;&gt;
+		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/root&quot; name=&quot;root&quot;/&gt;
+	&lt;/users&gt;
+	&lt;repository type=&quot;yast2&quot;&gt;
+		&lt;!--&lt;source path=&quot;/image/CDs/full-11.0-i386&quot;/&gt;--&gt;
+		&lt;source path=&quot;<A HREF="opensuse://11.0/repo/oss/">opensuse://11.0/repo/oss/</A>&quot;/&gt;
+	&lt;/repository&gt;
+	&lt;packages type=&quot;image&quot; patternType=&quot;plusRecommended&quot; patternPackageType=&quot;plusRecommended&quot;&gt;
+		&lt;package name=&quot;bootsplash&quot;/&gt;
+		&lt;package name=&quot;bootsplash-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
+        &lt;package name=&quot;firefox&quot;/&gt;
+        &lt;package name=&quot;gdm&quot;/&gt;
+		&lt;package name=&quot;gfxboot-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
+        &lt;!-- Need applets control to appease panel in default setup --&gt;
+        &lt;package name=&quot;gnome-applets&quot;/&gt;
+		&lt;package name=&quot;ifplugd&quot;/&gt;
+        &lt;package name=&quot;iputils&quot;/&gt;
+		&lt;package name=&quot;kernel-default&quot;/&gt;
+        &lt;package name=&quot;python&quot;/&gt;
+        &lt;package name=&quot;perl&quot;/&gt;
+        &lt;package name=&quot;preload&quot;/&gt;
+        &lt;package name=&quot;sax2&quot;/&gt;
+        &lt;!-- Need tomboy to appease panel in default setup --&gt;
+        &lt;package name=&quot;tomboy&quot;/&gt;
+        &lt;package name=&quot;vim&quot;/&gt;
+        &lt;package name=&quot;xorg-x11-server&quot;/&gt;
+		&lt;opensusePattern name=&quot;base&quot;/&gt;
+	&lt;/packages&gt;
+	&lt;packages type=&quot;vmware&quot;&gt;
+	&lt;/packages&gt;
+	&lt;vmwareconfig memory=&quot;1024&quot;&gt;
+		&lt;vmwaredisk controller=&quot;ide&quot; id=&quot;0&quot;/&gt;
+	&lt;/vmwareconfig&gt;
+	&lt;packages type=&quot;bootstrap&quot;&gt;
+		&lt;package name=&quot;filesystem&quot;/&gt; 
+		&lt;package name=&quot;glibc-locale&quot;/&gt;
+	&lt;/packages&gt;
+&lt;/image&gt;
diff --git a/doc/examples/suse-11.0/suse-use-gnome/root/etc/init.d/boot b/doc/examples/suse-11.0/suse-use-gnome/root/etc/init.d/boot
new file mode 100755
index 0000000..7572e8d
--- /dev/null
+++ b/doc/examples/suse-11.0/suse-use-gnome/root/etc/init.d/boot
@@ -0,0 +1,323 @@
+#! /bin/bash
+#
+# Copyright (c) 1996-2004 SuSE Linux AG, Nuernberg, Germany.
+# All rights reserved.
+#
+# Author: Ruediger Oertel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ro at suse.de</A>&gt;, 1996-2002
+#         Werner Fink &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">werner at suse.de</A>&gt;, 1996-2004
+#         Burchard Steinbild, 1996-2000
+#         Florian La Roche, 1996
+#
+# Please send feedback to <A HREF="http://www.suse.de/feedback">http://www.suse.de/feedback</A>
+#
+# /etc/init.d/boot
+#
+# first script to be executed from init on system startup
+#
+
+#
+# Avoid be interrupted by child or keyboard
+# 
+trap &quot;echo&quot; SIGINT SIGSEGV SIGQUIT
+set +e
+
+#
+# Get terminal size of standard input of the system console
+#
+test -z &quot;$CONSOLE&quot; &amp;&amp; CONSOLE=/dev/console
+set -- $(stty size &lt; $CONSOLE)
+  LINES=$1
+COLUMNS=$2
+export LINES COLUMNS CONSOLE
+
+#
+# Set I/O of this script and its childs to console
+#
+exec 0&lt;&gt; $CONSOLE 1&gt;&amp;0 2&gt;&amp;0
+
+#
+# Export the real device in variable REDIRECT.
+#
+REDIRECT=&quot;`showconsole 2&gt;/dev/null`&quot;
+export REDIRECT
+if test $COLUMNS -eq 0 ; then
+    # Serial: columns and lines are not defined
+      LINES=24
+    COLUMNS=80
+    test &quot;$TERM&quot; = &quot;linux&quot; -o -z &quot;$TERM&quot; &amp;&amp; TERM=vt102
+fi
+
+#
+# Configuration and coloring of the boot messages
+#
+
+. /etc/rc.status
+. /etc/sysconfig/boot
+
+echo -n &quot;System Boot Control: &quot;
+echo &quot;Running $0&quot;
+
+#
+# Start of e.g. blogd, requires /proc and /dev/pts.
+#
+rc_reset
+echo -n &quot;Mounting procfs at /proc&quot;
+mount -n -t proc proc /proc
+rc_status -v -r
+
+echo -n &quot;Mounting sysfs at /sys&quot;
+mount -n -t sysfs sysfs /sys
+rc_status -v -r
+
+if test -d /sys/kernel/debug ; then
+    while read dev type ; do
+	if test &quot;$type&quot; = &quot;debugfs&quot; ; then
+	    echo -n &quot;Mounting debugfs at /sys/kernel/debug&quot;
+	    mount -n -t debugfs debugfs /sys/kernel/debug
+	    rc_status -v -r
+	fi
+    done &lt; /proc/filesystems
+fi
+#
+# mount tmpfs on /dev if not already done by initramfs
+#
+while read dev dir type options; do
+    if test &quot;$dir&quot; = &quot;/dev&quot; -a &quot;$type&quot; = &quot;tmpfs&quot;; then
+	DEV_MOUNTED=1;
+	break;
+    fi
+done &lt; /proc/mounts
+if test -z &quot;$DEV_MOUNTED&quot;; then
+    echo -n &quot;Mounting tmpfs at /dev&quot;
+    mount -n -t tmpfs -o mode=0755 udev /dev
+    rc_status -v -r
+fi
+
+#
+# populate /dev with initial content
+#
+echo -n &quot;Initializing /dev&quot;
+cp --preserve=all --recursive --remove-destination /lib/udev/devices/* /dev
+chmod 1777 /dev/shm
+rc_status -v -r
+
+echo -n &quot;Mounting devpts at /dev/pts&quot;
+mount -n -t devpts -o mode=0620,gid=5 devpts /dev/pts
+rc_status -v -r
+
+#
+# Save old terminal settings and set -nl to avoid staircase
+# effect, do not lock scrolling, and avoid break characters.
+#
+otty=$(stty -g)
+if test &quot;$FLOW_CONTROL&quot; = &quot;yes&quot; ; then
+    stty -nl  ixon ignbrk -brkint
+else
+    stty -nl -ixon ignbrk -brkint
+fi
+
+#
+# Should we ask for interactive boot mode
+#
+DO_CONFIRM=&quot;&quot;
+read -t 2 check &lt; /proc/cmdline 2&gt; /dev/null
+case &quot;$check&quot; in
+    *confirm*) DO_CONFIRM=yes ;;
+esac
+test -z &quot;$CONFIRM_PROMPT_TIMEOUT&quot; &amp;&amp; CONFIRM_PROMPT_TIMEOUT=5
+if test &quot;$PROMPT_FOR_CONFIRM&quot; = &quot;yes&quot; -a &quot;$DO_CONFIRM&quot; != &quot;yes&quot; ; then
+    echo -en &quot;${extd}Enter Interactive startup mode?${norm}&quot;
+    rc_timer_on &quot;$CONFIRM_PROMPT_TIMEOUT&quot; 37
+    read -t &quot;$CONFIRM_PROMPT_TIMEOUT&quot; -n 1 \
+	-p &quot; ${extd}y${norm}/[${extd}n${norm}](&quot;${CONFIRM_PROMPT_TIMEOUT}s&quot;) &quot; answer
+    rc_timer_off
+    case &quot;$answer&quot; in
+    [yYiI]) DO_CONFIRM=yes ;;
+    *)      DO_CONFIRM=    ;;
+    esac
+    unset answer
+    echo
+fi
+export DO_CONFIRM
+
+#
+# Start blogd, requires /proc and /dev/pts.
+# Export the real device in variable REDIRECT.
+#
+test -x /sbin/blogd -a -n &quot;$REDIRECT&quot; &amp;&amp; /sbin/blogd $REDIRECT
+if test -z &quot;$REDIRECT&quot; ; then
+    if (echo -n &gt; /dev/tty) 2&gt;/dev/null ; then
+	REDIRECT=/dev/tty
+    else
+	REDIRECT=/dev/console
+    fi
+fi
+
+#
+# Common used variables
+#
+bootrc=/etc/init.d/boot.d
+rex=&quot;[0-9][0-9]&quot;
+failed=&quot;&quot;
+skipped=&quot;&quot;
+callord=&quot;&quot;
+
+#
+# Initialize boosplash progressbar variables
+#
+. /etc/rc.splash B
+splashtrigger &quot;rlchange B&quot;
+
+#
+# Check if we are able to use make for booting
+#
+test -s /etc/init.d/.depend.boot || RUN_PARALLEL=&quot;no&quot;
+test -s /etc/init.d/Makefile	 || RUN_PARALLEL=&quot;no&quot;
+test &quot;$DO_CONFIRM&quot;   = &quot;yes&quot;	 &amp;&amp; RUN_PARALLEL=&quot;no&quot;
+type -p startpar &amp;&gt; /dev/null    || RUN_PARALLEL=&quot;no&quot;
+startpar -v &amp;&gt; /dev/null	 || RUN_PARALLEL=&quot;no&quot;
+
+#
+# Start bootup client scripts.
+#
+if test &quot;$RUN_PARALLEL&quot; = &quot;yes&quot; ; then
+
+    #
+    # Start scripts in parallel with make behaviour of startpar
+    #
+
+    startopt=&quot;-p4 -t 30 -T 3 $(splashmake)&quot;
+    eval $(startpar $startopt -M boot)
+    failed=&quot;${failed:+$failed }$failed_service&quot;
+    skipped=&quot;${skipped:+$skipped }$skipped_service&quot;
+
+    unset failed_service skipped_service startopt
+
+elif test -d ${bootrc}/ ; then
+
+    #
+    # Start scripts in given link order
+    #
+    for i in ${bootrc}/S${rex}*; do
+
+	test -f $i || continue
+
+	B=${i##*/}
+	script=${B#*S$rex}
+	B=${B%$script}
+
+	if test &quot;$DO_CONFIRM&quot; = &quot;yes&quot; ; then
+	    rc_confirm -t $CONFIRM_PROMPT_TIMEOUT &quot;Start bootup script ${script}&quot; &lt; $REDIRECT &gt; $REDIRECT 2&gt;&amp;1
+	    case &quot;$?&quot; in
+	    0) true     ;;
+	    1) continue ;;
+	    2) DO_CONFIRM=&quot;&quot;
+	    esac
+	fi
+
+	blogger &quot;$script start&quot;
+
+	if test -x &quot;$i&quot; ; then
+		$i start
+	else
+	    echo Running $i
+	    /bin/sh $i b
+	    rc_status -v1 -r
+	fi
+	status=$?
+	echo -en &quot;$rc_reset&quot;
+	splashprogress &quot;$script start&quot;
+
+	case $status in
+	[1-47])  failed=&quot;${failed:+$failed }$script&quot;   ;;
+	[56])   skipped=&quot;${skipped:+$skipped }$script&quot; ;;
+	0|*) ;;
+	esac
+
+	blogger &quot;'$script start' exits with status $status&quot;
+    done
+fi
+
+splashtrigger &quot;rlreached B&quot;
+
+#
+# Be verbose and print stats
+#
+echo -n &quot;System Boot Control: &quot;
+echo -e &quot;The system has been ${stat}${extd}set up${norm}&quot;
+if test -n &quot;$failed&quot; ; then
+    n=$((${#failed} + 7))
+    echo -n  &quot;Failed features: &quot;
+    test $n -lt 47 &amp;&amp; echo -en &quot;\033[${COLUMNS}C\033[${n}D&quot;
+    echo -e  &quot;${warn}${failed}${norm}&quot;
+fi
+if test -n &quot;$skipped&quot; ; then
+    n=$((${#skipped} + 7))
+    echo -n  &quot;Skipped features: &quot;
+    test $n -lt 47 &amp;&amp; echo -en &quot;\033[${COLUMNS}C\033[${n}D&quot;
+    echo -e  &quot;${attn}${skipped}${norm}&quot;
+fi
+
+#
+# Start user defined bootup script.
+#
+if test -f /etc/init.d/boot.local ; then
+    echo -n &quot;System Boot Control: &quot;
+    echo &quot;Running /etc/init.d/boot.local&quot;
+    /bin/sh /etc/init.d/boot.local
+    rc_status -v1 -r
+    splashtrigger &quot;boot.local&quot;
+fi
+
+#
+# Stop blogd
+#
+test -x /sbin/blogd &amp;&amp; killproc -QUIT /sbin/blogd
+
+#
+# Check for boot cycle detection
+#
+test -s /lib/bootcycle/stats &amp;&amp; . /lib/bootcycle/stats
+
+#
+# Remember for master resource script
+#
+if test &quot;$DO_CONFIRM&quot; = &quot;yes&quot; ; then
+    touch /var/run/do_confirm
+fi
+
+#
+# Restore old terminal settings
+#
+stty $otty
+
+# create config file if not yet done
+if [ ! -f /etc/X11/xorg.conf ];then
+	/usr/sbin/sax2 -c 0 -a -i &amp;&gt;/dev/null
+fi
+
+#
+# Let YaST2 finish its installation, if you installed with YaST2
+#
+if test -f /var/lib/YaST2/runme_at_boot ; then
+    HOSTTYPE=$(uname -m)
+    splashtrigger &quot;YaST&quot;
+    exec 0&lt;&gt; $REDIRECT 1&gt;&amp;0 2&gt;&amp;0
+    # if yast2 failed, this ensures proper system setup
+    #ulimit -c unlimited
+    touch /var/lib/YaST2/run_suseconfig
+    if test -x /usr/lib/YaST2/startup/YaST2.Second-Stage; then
+	/usr/lib/YaST2/startup/YaST2.Second-Stage
+    else
+	# oops, yast2 not installed
+	rm -f /var/lib/YaST2/runme_at_boot
+    fi
+fi
+# run SuSEconfig (with args) if needed
+if test -f /var/lib/YaST2/run_suseconfig ; then
+    /sbin/SuSEconfig `cat /var/lib/YaST2/run_suseconfig`
+    rm -f /var/lib/YaST2/run_suseconfig
+fi
+
+rc_reset
+exit 0
diff --git a/doc/examples/suse-11.0/suse-use-gnome/root/etc/init.d/configX b/doc/examples/suse-11.0/suse-use-gnome/root/etc/init.d/configX
new file mode 100755
index 0000000..6a80443
--- /dev/null
+++ b/doc/examples/suse-11.0/suse-use-gnome/root/etc/init.d/configX
@@ -0,0 +1,36 @@
+#! /bin/sh
+# Copyright (c) 2009 Author: Robert Schweikert &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">rschweikert at novell.com</A>&gt;
+#
+# /etc/init.d/configX
+#
+# System startup script for automatic X configuration
+#
+
+CONFIG_NEEDED=0
+
+# Test dependencies
+MD5SUM=/usr/bin/md5sum
+test -x $MD5SUM || { echo &quot;$MD5SUM not found&quot;; exit 5; }
+
+DMIDECODE=/usr/sbin/dmidecode
+test -x $DMIDECODE || { echo &quot;$DMIDECODE not found&quot;; exit 5; }
+
+SAX2=/usr/sbin/sax2
+test -x $SAX2 || { echo &quot;$SAX2 not found&quot;; exit 5; }
+
+# Generate md5sum for this configuration
+$SAX2 -p &gt;&amp; /var/opt/curConfig.info
+$DMIDECODE &gt;&gt; /var/opt/curConfig.info
+$MD5SUM /var/opt/curConfig.info | cut -d&quot; &quot; -f1 &gt;&amp; /var/opt/curConfig.info
+
+if [ -r /var/opt/prevConfig.info ];
+    then diff /var/opt/prevConfig.info /var/opt/curConfig.info &gt; /dev/null; 
+         if [ $? -ne 0 ]; 
+             then CONFIG_NEEDED=1;
+         fi;
+    else CONFIG_NEEDED=1;
+fi;
+
+if [ $CONFIG_NEEDED -eq 1 ];
+    then mv /var/opt/curConfig.info /var/opt/prevConfig.info; $SAX2 -a -r
+fi;
diff --git a/doc/examples/suse-11.0/suse-use-gnome/root/etc/init.d/rc5.d/S01configX b/doc/examples/suse-11.0/suse-use-gnome/root/etc/init.d/rc5.d/S01configX
new file mode 120000
index 0000000..82cd0e0
--- /dev/null
+++ b/doc/examples/suse-11.0/suse-use-gnome/root/etc/init.d/rc5.d/S01configX
@@ -0,0 +1 @@
+../configX
\ No newline at end of file
diff --git a/doc/examples/suse-11.0/suse-use-gnome/root/etc/inittab b/doc/examples/suse-11.0/suse-use-gnome/root/etc/inittab
new file mode 100644
index 0000000..a91a8eb
--- /dev/null
+++ b/doc/examples/suse-11.0/suse-use-gnome/root/etc/inittab
@@ -0,0 +1,98 @@
+#
+# /etc/inittab
+#
+# Copyright (c) 1996-2002 SuSE Linux AG, Nuernberg, Germany.  All rights reserved.
+#
+# Author: Florian La Roche, 1996
+# Please send feedback to <A HREF="http://www.suse.de/feedback">http://www.suse.de/feedback</A>
+#
+# This is the main configuration file of /sbin/init, which
+# is executed by the kernel on startup. It describes what
+# scripts are used for the different run-levels.
+#
+# All scripts for runlevel changes are in /etc/init.d/.
+#
+# This file may be modified by SuSEconfig unless CHECK_INITTAB
+# in /etc/sysconfig/suseconfig is set to &quot;no&quot;
+#
+
+# The default runlevel is defined here
+id:5:initdefault:
+
+# First script to be executed, if not booting in emergency (-b) mode
+si::bootwait:/etc/init.d/boot
+
+# /etc/init.d/rc takes care of runlevel handling
+#
+# runlevel 0  is  System halt   (Do not use this for initdefault!)
+# runlevel 1  is  Single user mode
+# runlevel 2  is  Local multiuser without remote network (e.g. NFS)
+# runlevel 3  is  Full multiuser with network
+# runlevel 4  is  Not used
+# runlevel 5  is  Full multiuser with network and xdm
+# runlevel 6  is  System reboot (Do not use this for initdefault!)
+#
+l0:0:wait:/etc/init.d/rc 0
+l1:1:wait:/etc/init.d/rc 1
+l2:2:wait:/etc/init.d/rc 2
+l3:3:wait:/etc/init.d/rc 3
+#l4:4:wait:/etc/init.d/rc 4
+l5:5:wait:/etc/init.d/rc 5
+l6:6:wait:/etc/init.d/rc 6
+
+# what to do in single-user mode
+ls:S:wait:/etc/init.d/rc S
+~~:S:respawn:/sbin/sulogin
+
+# what to do when CTRL-ALT-DEL is pressed
+ca::ctrlaltdel:/sbin/shutdown -r -t 4 now
+
+# special keyboard request (Alt-UpArrow)
+# look into the kbd-0.90 docs for this
+kb::kbrequest:/bin/echo &quot;Keyboard Request -- edit /etc/inittab to let this work.&quot;
+
+# what to do when power fails/returns
+pf::powerwait:/etc/init.d/powerfail start
+pn::powerfailnow:/etc/init.d/powerfail now
+#pn::powerfail:/etc/init.d/powerfail now
+po::powerokwait:/etc/init.d/powerfail stop
+
+# for ARGO UPS
+sh:12345:powerfail:/sbin/shutdown -h now THE POWER IS FAILING
+
+# getty-programs for the normal runlevels
+# &lt;id&gt;:&lt;runlevels&gt;:&lt;action&gt;:&lt;process&gt;
+# The &quot;id&quot; field  MUST be the same as the last
+# characters of the device (after &quot;tty&quot;).
+1:2345:respawn:/sbin/mingetty --noclear tty1
+2:2345:respawn:/sbin/mingetty tty2
+3:2345:respawn:/sbin/mingetty tty3
+4:2345:respawn:/sbin/mingetty tty4
+5:2345:respawn:/sbin/mingetty tty5
+6:2345:respawn:/sbin/mingetty tty6
+#
+#S0:12345:respawn:/sbin/agetty -L 9600 ttyS0 vt102
+#cons:1235:respawn:/sbin/smart_agetty -L 38400 console
+
+#
+#  Note: Do not use tty7 in runlevel 3, this virtual line
+#  is occupied by the programm xdm.
+#
+
+#  This is for the package xdmsc, after installing and
+#  and configuration you should remove the comment character
+#  from the following line:
+#7:3:respawn:+/etc/init.d/rx tty7
+
+
+# modem getty.
+# mo:235:respawn:/usr/sbin/mgetty -s 38400 modem
+
+# fax getty (hylafax)
+# mo:35:respawn:/usr/lib/fax/faxgetty /dev/modem
+
+# vbox (voice box) getty
+# I6:35:respawn:/usr/sbin/vboxgetty -d /dev/ttyI6
+# I7:35:respawn:/usr/sbin/vboxgetty -d /dev/ttyI7
+
+# end of /etc/inittab
diff --git a/doc/examples/suse-11.0/suse-use-gnome/root/etc/sysconfig/displaymanager b/doc/examples/suse-11.0/suse-use-gnome/root/etc/sysconfig/displaymanager
new file mode 100644
index 0000000..006e357
--- /dev/null
+++ b/doc/examples/suse-11.0/suse-use-gnome/root/etc/sysconfig/displaymanager
@@ -0,0 +1,124 @@
+## Path:	Desktop/Display manager
+## Description:	settings to generate a proper displaymanager config
+## Type:	string(kdm,xdm,gdm,wdm,console)
+## Default:	&quot;&quot;
+## Config:      xdm,kdm,gdm
+#
+# Here you can set the default Display manager (kdm/xdm/gdm/wdm/console).
+# all changes in this file require a restart of the displaymanager
+#
+DISPLAYMANAGER=&quot;gdm&quot;
+
+## Type:	yesno
+## Default:	no
+#
+# Allow remote access to your display manager (kdm only for now)
+#
+DISPLAYMANAGER_REMOTE_ACCESS=&quot;no&quot;
+
+## Type:	yesno
+## Default:	no
+#
+# Allow remote access of the user root to your display manager
+#
+DISPLAYMANAGER_ROOT_LOGIN_REMOTE=&quot;no&quot;
+
+## Type:	yesno
+## Default:	yes
+#
+# let the displaymanager start a local Xserver
+# set to &quot;no&quot; for remote-access only
+# set to &quot;no&quot; on architectures without any Xserver (e.g. s390/s390x)
+#
+DISPLAYMANAGER_STARTS_XSERVER=&quot;yes&quot;
+
+## Type:    string
+## Default:
+#
+# define the user whom should get logged in without request
+#
+DISPLAYMANAGER_AUTOLOGIN=&quot;&quot;
+
+## Type:        yesno
+## Default:     no
+#
+# Allow all users to login without password, but ask for the user
+#
+DISPLAYMANAGER_PASSWORD_LESS_LOGIN=&quot;no&quot;
+
+## Type:        yesno
+## Default:     no
+## Config:      xdm
+#
+# Tcp port 6000 of Xserver. When set to &quot;no&quot; (default) Xserver is 
+# started with &quot;-nolisten tcp&quot;. Only set this to &quot;yes&quot; if you really 
+# need to. Use ssh X11 port forwarding whenever possible.
+#
+DISPLAYMANAGER_XSERVER_TCP_PORT_6000_OPEN=&quot;no&quot;
+
+## Type:        yesno
+## Default:     no
+#
+# Display a combobox for Active Directory domains.
+#
+DISPLAYMANAGER_AD_INTEGRATION=&quot;no&quot;
+
+## Type:    list(root,all,none,auto)
+## Default: auto
+#
+# Determine who will be able to shutdown or reboot the system in kdm
+# and gdm. Valid values are: &quot;root&quot; (only root can shutdown), &quot;all&quot;
+# (everybody can shutdown), &quot;none&quot; (nobody can shutdown from
+# displaymanager), &quot;auto&quot; (follow
+# System/Security/Permissions/PERMISSION_SECURITY to decide: &quot;easy
+# local&quot; is equal to &quot;all&quot;, everything else is equal to &quot;root&quot;). Note
+# that remote user can never shutdown in GDM.
+#
+DISPLAYMANAGER_SHUTDOWN=&quot;auto&quot;
+
+## Type:        string
+## Default:     &quot;&quot;
+#
+# Mode to configure on output devices by default
+# (RANDR 1.2 compatible drivers only).
+#
+# If set to &quot;auto&quot;, DISPLAYMANAGER_RANDR_MODE_auto is used on laptops, and
+# the empty string on workstations.
+#
+# The output is not explicitly enabled (read: disabled) if set to an empty
+# string.
+# If the variable contains a fully configured modeline (see default of
+# DISPLAYMANAGER_RANDR_MODE_auto), the mode is defined and set.
+# If the variable contains a mode name only, the mode has to be defined
+# already.
+#
+# If a monitor is attached during Xstartup, or when invoking &quot;xrandr --auto&quot;
+# during runtime, the output is correctly configured and a mode is
+# automatically selected if none has been used so far.
+#
+# Variables are checked according to their extension for
+#    VGA DVI_I DVI_D DVI_A Composite S_Video Component LFP Proprietary
+#
+DISPLAYMANAGER_RANDR_MODE_VGA=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_DVI_I=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_DVI_D=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_DVI_A=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_Compsite=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_S_Video=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_Component=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_LFP=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_Proprietary=&quot;&quot;
+
+## Type:        string
+## Default:     &quot;&quot;
+#
+# Mode to use for laptops for DISPLAYMANAGER_RANDR_MODE_* on laptops only,
+# when the according variable is set to &quot;auto&quot;.
+# (RANDR 1.2 compatible drivers only).
+#
+DISPLAYMANAGER_RANDR_MODE_auto=&quot;&quot;
+## Type:        string(Xorg)
+## Path:        Desktop/Display manager
+## Default:     &quot;Xorg&quot;
+#
+DISPLAYMANAGER_XSERVER=Xorg
diff --git a/doc/examples/suse-11.0/suse-use-gnome/root/etc/sysconfig/windowmanager b/doc/examples/suse-11.0/suse-use-gnome/root/etc/sysconfig/windowmanager
new file mode 100644
index 0000000..80b34a4
--- /dev/null
+++ b/doc/examples/suse-11.0/suse-use-gnome/root/etc/sysconfig/windowmanager
@@ -0,0 +1,107 @@
+## Path: Desktop
+## Description: default mouse cursor theme
+## Type:    string
+## Default:
+#
+# Name of mouse cursor theme for X11. Possible themes can be found
+# in /usr/X11R6/lib/X11/icons/
+#
+X_MOUSE_CURSOR=&quot;blueprint-cursor-theme&quot;
+## Path:	Desktop/Window manager
+## Description:	
+## Type:	string(kde,fvwm,gnome,windowmaker)
+## Default:	kde
+## Config:      profiles,kde,susewm
+#
+# Here you can set the default window manager (kde, fvwm, ...)
+# changes here require at least a re-login
+DEFAULT_WM=&quot;gnome&quot;
+
+## Type:	yesno
+## Default:	yes
+#
+# install the SuSE extension for new users
+# (theme and additional functions)
+#
+INSTALL_DESKTOP_EXTENSIONS=&quot;yes&quot;
+## Path:	Desktop/KDE/Lisa
+## Description:	KDE network client configuration
+## Type:	list(none,smb:/,local,&quot;&quot;)
+## Default:	smb:/
+## Config:      kdenetwork-lan
+## ServiceRestart: lisa
+#
+# Defines how to use the default network browser
+# &quot;none&quot;    = do not create a Network icon on desktop
+# &quot;smb:/&quot;   = use plain smb only client, without lisa
+# &quot;local&quot;   = use local installed reslisa
+# &quot;$SERVER&quot; = any server where a lisa daemon is running and allows
+#             remote connections
+#
+USE_LAN_SERVER=&quot;smb:/&quot;
+## Path:        Desktop/SuSEWM
+## Description: Handle behaviour os susewm
+## Type:        yesno
+## Default:     yes
+#
+# SuSEconfig.wm can create a system.fvwm2rc, .fvwmrc, .bowmanrc, .fvwm2rc95,
+# .mwmrc, .ctwmrc, depending on the installed packages. If
+# you want your systemwide wm config files to be updated after install
+# / removal of packages set SUSEWM_UPDATE to &quot;yes&quot;, otherwise to &quot;no&quot;
+#
+SUSEWM_UPDATE=&quot;yes&quot;
+
+## Type:        string
+## Default:     all
+#
+# This is the (space separated) list of window managers for which you 
+# want to generate the config file. Valid values are: 
+#  &quot;kde&quot;, &quot;gnome&quot;, &quot;windowmaker&quot;, &quot;blackbox&quot;, &quot;fvwm&quot;, &quot;fvwm2&quot;, 
+#  &quot;fvwm95&quot;, &quot;bowman&quot;, &quot;mwm&quot;, &quot;ctwm&quot;, &quot;all&quot;.
+# Default setting is &quot;all&quot; which is for generating files for all wms.
+#
+SUSEWM_WM=&quot;all&quot;
+
+## Type:        yesno
+## Default:     yes
+#
+# Your fvwm2/95 is slow? Don't want small pixmaps in menus? So set 
+# SUSEWM_XPM to &quot;no&quot;, if pixmaps in menus are wanted set it to &quot;yes&quot;, 
+# which is the default value. The package 3dpixms has to be installed.
+#
+SUSEWM_XPM=&quot;yes&quot;
+## Path:        Desktop
+## Description: prepare global sycoca database for faster first startup
+## Type:        list(yes,initial,no)
+## Default:     initial
+#
+# building a global sycoca database, which can be used at first user
+# login in KDE
+#
+KDE_BUILD_GLOBAL_SYCOCA=&quot;initial&quot;
+
+## Type:        yesno
+## Default:     yes
+#
+# IPv6 support is disabled by default, since too many internet
+# servers claim to have IPv6 support, but do not respond.
+#
+KDE_USE_IPV6=&quot;no&quot;
+## Path: Desktop
+## Description: create XDG menus for other windowmanagers
+## (black, flux, openbox)
+## Type:   boolean
+## Default: true
+#
+# Should SuSEconfig create XDG menus for other windowmanagers
+# like blackbox, fluxbox, openbox?
+# Possible values are lowercase &quot;true&quot; or &quot;false&quot;.
+#
+CREATE_XDG_MENUS=&quot;true&quot;
+
+## Type:        yesno
+## Default:     yes
+#
+# IDN support can get disabled to avoid DNS phishing for example.
+#
+KDE_USE_IDN=&quot;yes&quot;
diff --git a/doc/examples/suse-11.1/suse-use-gnome.readme b/doc/examples/suse-11.1/suse-use-gnome.readme
new file mode 100644
index 0000000..b2ecb99
--- /dev/null
+++ b/doc/examples/suse-11.1/suse-use-gnome.readme
@@ -0,0 +1,35 @@
+KIWI Image Description Example
+==============================
+* This image is configured to create a live iso image or a VMware image. The
+  example is focused on setting up an image to use GNOME and the type of 
+  image created is secondary. For specifics on setting up a given image type,
+  such as an OEM image please refere to the appropriate example.
+
+  As you inspect the config.xml file you will notice that the description does
+  not pull in the &quot;gnome&quot; pattern. This example creates an appliance with a
+  minimal GNOME environment. To include the applications generally installed
+  with a GNOME desktop add 
+    &lt;opensusePattern name=&quot;gnome&quot;/&gt;
+  to the configuration file.
+
+How to build this Example
+==============================
+
+    kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.1/suse-use-gnome \
+         --root /tmp/myusegnome
+
+    kiwi --create /tmp/myusegnome -d /tmp/myusegnome-result
+
+How to test this Example
+==============================
+* Both the live iso image and the VMware image can be tested with any 
+  virtualization software. Using qemu as an example you can use the 
+  following command to test the VMware image for a 64 bit build.
+
+   qemu-kvm /tmp/myusegnome-result/suse-11.1-gnome-demo.x86_64-1.0.1.vmdk
+
+  
+Login Details
+==============================
+* User root pwd: linux
+* User tux  pwd: linux
diff --git a/doc/examples/suse-11.1/suse-use-gnome/config.sh b/doc/examples/suse-11.1/suse-use-gnome/config.sh
new file mode 100755
index 0000000..f5909d2
--- /dev/null
+++ b/doc/examples/suse-11.1/suse-use-gnome/config.sh
@@ -0,0 +1,45 @@
+#!/bin/bash
+#================
+# FILE          : config.sh
+#----------------
+# PROJECT       : OpenSuSE KIWI Image System
+# COPYRIGHT     : (c) 2006 SUSE LINUX Products GmbH. All rights reserved
+#               :
+# AUTHOR        : Marcus Schaefer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>&gt;
+#               :
+# BELONGS TO    : Operating System images
+#               :
+# DESCRIPTION   : configuration script for SUSE based
+#               : operating systems
+#               :
+#               :
+# STATUS        : BETA
+#----------------
+#======================================
+# Functions...
+#--------------------------------------
+test -f /.kconfig &amp;&amp; . /.kconfig
+test -f /.profile &amp;&amp; . /.profile
+
+#======================================
+# Greeting...
+#--------------------------------------
+echo &quot;Configure image: [$kiwi_iname]...&quot;
+
+#======================================
+# Activate services
+#--------------------------------------
+suseActivateDefaultServices
+suseInsertService boot.device-mapper
+
+#======================================
+# SuSEconfig
+#--------------------------------------
+suseConfig
+
+#======================================
+# Umount kernel filesystems
+#--------------------------------------
+baseCleanMount
+
+exit 0
diff --git a/doc/examples/suse-11.1/suse-use-gnome/config.xml b/doc/examples/suse-11.1/suse-use-gnome/config.xml
new file mode 100644
index 0000000..9486750
--- /dev/null
+++ b/doc/examples/suse-11.1/suse-use-gnome/config.xml
@@ -0,0 +1,58 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
+&lt;image schemaversion=&quot;3.7&quot; name=&quot;suse-11.1-gnome-demo&quot;&gt;
+	&lt;description type=&quot;system&quot;&gt;
+		&lt;author&gt;Robert Schweikert&lt;/author&gt;
+		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">rschweikert at novell.</A>&lt;/contact&gt;
+		&lt;specification&gt;openSUSE 11.1 Appliance using GNOME&lt;/specification&gt;
+	&lt;/description&gt;
+	&lt;preferences&gt;
+		&lt;type primary=&quot;true&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.1&quot; format=&quot;vmdk&quot;&gt;vmx&lt;/type&gt;
+        &lt;type boot=&quot;isoboot/suse-11.1&quot; flags=&quot;unified&quot;&gt;iso&lt;/type&gt;
+		&lt;version&gt;1.0.1&lt;/version&gt;
+		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
+		&lt;rpm-check-signatures&gt;false&lt;/rpm-check-signatures&gt;
+		&lt;rpm-force&gt;true&lt;/rpm-force&gt;
+		&lt;locale&gt;en_US&lt;/locale&gt;
+		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
+	&lt;/preferences&gt;
+	&lt;users group=&quot;users&quot;&gt;
+		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/home/tux&quot; name=&quot;tux&quot;/&gt;
+	&lt;/users&gt;
+	&lt;users group=&quot;root&quot;&gt;
+		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/root&quot; name=&quot;root&quot;/&gt;
+	&lt;/users&gt;
+	&lt;repository type=&quot;yast2&quot;&gt;
+		&lt;!--&lt;source path=&quot;/image/CDs/full-11.1-i386&quot;/&gt;--&gt;
+		&lt;source path=&quot;<A HREF="opensuse://11.1/repo/oss/">opensuse://11.1/repo/oss/</A>&quot;/&gt;
+	&lt;/repository&gt;
+	&lt;packages type=&quot;image&quot; patternType=&quot;plusRecommended&quot; patternPackageType=&quot;plusRecommended&quot;&gt;
+		&lt;package name=&quot;bootsplash&quot;/&gt;
+		&lt;package name=&quot;bootsplash-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
+        &lt;package name=&quot;firefox&quot;/&gt;
+        &lt;package name=&quot;gdm&quot;/&gt;
+		&lt;package name=&quot;gfxboot-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
+        &lt;!-- Need applets control to appease panel in default setup --&gt;
+        &lt;package name=&quot;gnome-applets&quot;/&gt;
+		&lt;package name=&quot;ifplugd&quot;/&gt;
+        &lt;package name=&quot;iputils&quot;/&gt;
+		&lt;package name=&quot;kernel-default&quot;/&gt;
+        &lt;package name=&quot;python&quot;/&gt;
+        &lt;package name=&quot;perl&quot;/&gt;
+        &lt;package name=&quot;preload&quot;/&gt;
+        &lt;package name=&quot;sax2&quot;/&gt;
+        &lt;!-- Need tomboy to appease panel in default setup --&gt;
+        &lt;package name=&quot;tomboy&quot;/&gt;
+        &lt;package name=&quot;vim&quot;/&gt;
+        &lt;package name=&quot;xorg-x11-server&quot;/&gt;
+		&lt;opensusePattern name=&quot;base&quot;/&gt;
+	&lt;/packages&gt;
+	&lt;packages type=&quot;vmware&quot;&gt;
+	&lt;/packages&gt;
+	&lt;vmwareconfig memory=&quot;1024&quot;&gt;
+		&lt;vmwaredisk controller=&quot;ide&quot; id=&quot;0&quot;/&gt;
+	&lt;/vmwareconfig&gt;
+	&lt;packages type=&quot;bootstrap&quot;&gt;
+		&lt;package name=&quot;filesystem&quot;/&gt; 
+		&lt;package name=&quot;glibc-locale&quot;/&gt;
+	&lt;/packages&gt;
+&lt;/image&gt;
diff --git a/doc/examples/suse-11.1/suse-use-gnome/root/etc/init.d/boot b/doc/examples/suse-11.1/suse-use-gnome/root/etc/init.d/boot
new file mode 100755
index 0000000..7572e8d
--- /dev/null
+++ b/doc/examples/suse-11.1/suse-use-gnome/root/etc/init.d/boot
@@ -0,0 +1,323 @@
+#! /bin/bash
+#
+# Copyright (c) 1996-2004 SuSE Linux AG, Nuernberg, Germany.
+# All rights reserved.
+#
+# Author: Ruediger Oertel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ro at suse.de</A>&gt;, 1996-2002
+#         Werner Fink &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">werner at suse.de</A>&gt;, 1996-2004
+#         Burchard Steinbild, 1996-2000
+#         Florian La Roche, 1996
+#
+# Please send feedback to <A HREF="http://www.suse.de/feedback">http://www.suse.de/feedback</A>
+#
+# /etc/init.d/boot
+#
+# first script to be executed from init on system startup
+#
+
+#
+# Avoid be interrupted by child or keyboard
+# 
+trap &quot;echo&quot; SIGINT SIGSEGV SIGQUIT
+set +e
+
+#
+# Get terminal size of standard input of the system console
+#
+test -z &quot;$CONSOLE&quot; &amp;&amp; CONSOLE=/dev/console
+set -- $(stty size &lt; $CONSOLE)
+  LINES=$1
+COLUMNS=$2
+export LINES COLUMNS CONSOLE
+
+#
+# Set I/O of this script and its childs to console
+#
+exec 0&lt;&gt; $CONSOLE 1&gt;&amp;0 2&gt;&amp;0
+
+#
+# Export the real device in variable REDIRECT.
+#
+REDIRECT=&quot;`showconsole 2&gt;/dev/null`&quot;
+export REDIRECT
+if test $COLUMNS -eq 0 ; then
+    # Serial: columns and lines are not defined
+      LINES=24
+    COLUMNS=80
+    test &quot;$TERM&quot; = &quot;linux&quot; -o -z &quot;$TERM&quot; &amp;&amp; TERM=vt102
+fi
+
+#
+# Configuration and coloring of the boot messages
+#
+
+. /etc/rc.status
+. /etc/sysconfig/boot
+
+echo -n &quot;System Boot Control: &quot;
+echo &quot;Running $0&quot;
+
+#
+# Start of e.g. blogd, requires /proc and /dev/pts.
+#
+rc_reset
+echo -n &quot;Mounting procfs at /proc&quot;
+mount -n -t proc proc /proc
+rc_status -v -r
+
+echo -n &quot;Mounting sysfs at /sys&quot;
+mount -n -t sysfs sysfs /sys
+rc_status -v -r
+
+if test -d /sys/kernel/debug ; then
+    while read dev type ; do
+	if test &quot;$type&quot; = &quot;debugfs&quot; ; then
+	    echo -n &quot;Mounting debugfs at /sys/kernel/debug&quot;
+	    mount -n -t debugfs debugfs /sys/kernel/debug
+	    rc_status -v -r
+	fi
+    done &lt; /proc/filesystems
+fi
+#
+# mount tmpfs on /dev if not already done by initramfs
+#
+while read dev dir type options; do
+    if test &quot;$dir&quot; = &quot;/dev&quot; -a &quot;$type&quot; = &quot;tmpfs&quot;; then
+	DEV_MOUNTED=1;
+	break;
+    fi
+done &lt; /proc/mounts
+if test -z &quot;$DEV_MOUNTED&quot;; then
+    echo -n &quot;Mounting tmpfs at /dev&quot;
+    mount -n -t tmpfs -o mode=0755 udev /dev
+    rc_status -v -r
+fi
+
+#
+# populate /dev with initial content
+#
+echo -n &quot;Initializing /dev&quot;
+cp --preserve=all --recursive --remove-destination /lib/udev/devices/* /dev
+chmod 1777 /dev/shm
+rc_status -v -r
+
+echo -n &quot;Mounting devpts at /dev/pts&quot;
+mount -n -t devpts -o mode=0620,gid=5 devpts /dev/pts
+rc_status -v -r
+
+#
+# Save old terminal settings and set -nl to avoid staircase
+# effect, do not lock scrolling, and avoid break characters.
+#
+otty=$(stty -g)
+if test &quot;$FLOW_CONTROL&quot; = &quot;yes&quot; ; then
+    stty -nl  ixon ignbrk -brkint
+else
+    stty -nl -ixon ignbrk -brkint
+fi
+
+#
+# Should we ask for interactive boot mode
+#
+DO_CONFIRM=&quot;&quot;
+read -t 2 check &lt; /proc/cmdline 2&gt; /dev/null
+case &quot;$check&quot; in
+    *confirm*) DO_CONFIRM=yes ;;
+esac
+test -z &quot;$CONFIRM_PROMPT_TIMEOUT&quot; &amp;&amp; CONFIRM_PROMPT_TIMEOUT=5
+if test &quot;$PROMPT_FOR_CONFIRM&quot; = &quot;yes&quot; -a &quot;$DO_CONFIRM&quot; != &quot;yes&quot; ; then
+    echo -en &quot;${extd}Enter Interactive startup mode?${norm}&quot;
+    rc_timer_on &quot;$CONFIRM_PROMPT_TIMEOUT&quot; 37
+    read -t &quot;$CONFIRM_PROMPT_TIMEOUT&quot; -n 1 \
+	-p &quot; ${extd}y${norm}/[${extd}n${norm}](&quot;${CONFIRM_PROMPT_TIMEOUT}s&quot;) &quot; answer
+    rc_timer_off
+    case &quot;$answer&quot; in
+    [yYiI]) DO_CONFIRM=yes ;;
+    *)      DO_CONFIRM=    ;;
+    esac
+    unset answer
+    echo
+fi
+export DO_CONFIRM
+
+#
+# Start blogd, requires /proc and /dev/pts.
+# Export the real device in variable REDIRECT.
+#
+test -x /sbin/blogd -a -n &quot;$REDIRECT&quot; &amp;&amp; /sbin/blogd $REDIRECT
+if test -z &quot;$REDIRECT&quot; ; then
+    if (echo -n &gt; /dev/tty) 2&gt;/dev/null ; then
+	REDIRECT=/dev/tty
+    else
+	REDIRECT=/dev/console
+    fi
+fi
+
+#
+# Common used variables
+#
+bootrc=/etc/init.d/boot.d
+rex=&quot;[0-9][0-9]&quot;
+failed=&quot;&quot;
+skipped=&quot;&quot;
+callord=&quot;&quot;
+
+#
+# Initialize boosplash progressbar variables
+#
+. /etc/rc.splash B
+splashtrigger &quot;rlchange B&quot;
+
+#
+# Check if we are able to use make for booting
+#
+test -s /etc/init.d/.depend.boot || RUN_PARALLEL=&quot;no&quot;
+test -s /etc/init.d/Makefile	 || RUN_PARALLEL=&quot;no&quot;
+test &quot;$DO_CONFIRM&quot;   = &quot;yes&quot;	 &amp;&amp; RUN_PARALLEL=&quot;no&quot;
+type -p startpar &amp;&gt; /dev/null    || RUN_PARALLEL=&quot;no&quot;
+startpar -v &amp;&gt; /dev/null	 || RUN_PARALLEL=&quot;no&quot;
+
+#
+# Start bootup client scripts.
+#
+if test &quot;$RUN_PARALLEL&quot; = &quot;yes&quot; ; then
+
+    #
+    # Start scripts in parallel with make behaviour of startpar
+    #
+
+    startopt=&quot;-p4 -t 30 -T 3 $(splashmake)&quot;
+    eval $(startpar $startopt -M boot)
+    failed=&quot;${failed:+$failed }$failed_service&quot;
+    skipped=&quot;${skipped:+$skipped }$skipped_service&quot;
+
+    unset failed_service skipped_service startopt
+
+elif test -d ${bootrc}/ ; then
+
+    #
+    # Start scripts in given link order
+    #
+    for i in ${bootrc}/S${rex}*; do
+
+	test -f $i || continue
+
+	B=${i##*/}
+	script=${B#*S$rex}
+	B=${B%$script}
+
+	if test &quot;$DO_CONFIRM&quot; = &quot;yes&quot; ; then
+	    rc_confirm -t $CONFIRM_PROMPT_TIMEOUT &quot;Start bootup script ${script}&quot; &lt; $REDIRECT &gt; $REDIRECT 2&gt;&amp;1
+	    case &quot;$?&quot; in
+	    0) true     ;;
+	    1) continue ;;
+	    2) DO_CONFIRM=&quot;&quot;
+	    esac
+	fi
+
+	blogger &quot;$script start&quot;
+
+	if test -x &quot;$i&quot; ; then
+		$i start
+	else
+	    echo Running $i
+	    /bin/sh $i b
+	    rc_status -v1 -r
+	fi
+	status=$?
+	echo -en &quot;$rc_reset&quot;
+	splashprogress &quot;$script start&quot;
+
+	case $status in
+	[1-47])  failed=&quot;${failed:+$failed }$script&quot;   ;;
+	[56])   skipped=&quot;${skipped:+$skipped }$script&quot; ;;
+	0|*) ;;
+	esac
+
+	blogger &quot;'$script start' exits with status $status&quot;
+    done
+fi
+
+splashtrigger &quot;rlreached B&quot;
+
+#
+# Be verbose and print stats
+#
+echo -n &quot;System Boot Control: &quot;
+echo -e &quot;The system has been ${stat}${extd}set up${norm}&quot;
+if test -n &quot;$failed&quot; ; then
+    n=$((${#failed} + 7))
+    echo -n  &quot;Failed features: &quot;
+    test $n -lt 47 &amp;&amp; echo -en &quot;\033[${COLUMNS}C\033[${n}D&quot;
+    echo -e  &quot;${warn}${failed}${norm}&quot;
+fi
+if test -n &quot;$skipped&quot; ; then
+    n=$((${#skipped} + 7))
+    echo -n  &quot;Skipped features: &quot;
+    test $n -lt 47 &amp;&amp; echo -en &quot;\033[${COLUMNS}C\033[${n}D&quot;
+    echo -e  &quot;${attn}${skipped}${norm}&quot;
+fi
+
+#
+# Start user defined bootup script.
+#
+if test -f /etc/init.d/boot.local ; then
+    echo -n &quot;System Boot Control: &quot;
+    echo &quot;Running /etc/init.d/boot.local&quot;
+    /bin/sh /etc/init.d/boot.local
+    rc_status -v1 -r
+    splashtrigger &quot;boot.local&quot;
+fi
+
+#
+# Stop blogd
+#
+test -x /sbin/blogd &amp;&amp; killproc -QUIT /sbin/blogd
+
+#
+# Check for boot cycle detection
+#
+test -s /lib/bootcycle/stats &amp;&amp; . /lib/bootcycle/stats
+
+#
+# Remember for master resource script
+#
+if test &quot;$DO_CONFIRM&quot; = &quot;yes&quot; ; then
+    touch /var/run/do_confirm
+fi
+
+#
+# Restore old terminal settings
+#
+stty $otty
+
+# create config file if not yet done
+if [ ! -f /etc/X11/xorg.conf ];then
+	/usr/sbin/sax2 -c 0 -a -i &amp;&gt;/dev/null
+fi
+
+#
+# Let YaST2 finish its installation, if you installed with YaST2
+#
+if test -f /var/lib/YaST2/runme_at_boot ; then
+    HOSTTYPE=$(uname -m)
+    splashtrigger &quot;YaST&quot;
+    exec 0&lt;&gt; $REDIRECT 1&gt;&amp;0 2&gt;&amp;0
+    # if yast2 failed, this ensures proper system setup
+    #ulimit -c unlimited
+    touch /var/lib/YaST2/run_suseconfig
+    if test -x /usr/lib/YaST2/startup/YaST2.Second-Stage; then
+	/usr/lib/YaST2/startup/YaST2.Second-Stage
+    else
+	# oops, yast2 not installed
+	rm -f /var/lib/YaST2/runme_at_boot
+    fi
+fi
+# run SuSEconfig (with args) if needed
+if test -f /var/lib/YaST2/run_suseconfig ; then
+    /sbin/SuSEconfig `cat /var/lib/YaST2/run_suseconfig`
+    rm -f /var/lib/YaST2/run_suseconfig
+fi
+
+rc_reset
+exit 0
diff --git a/doc/examples/suse-11.1/suse-use-gnome/root/etc/init.d/configX b/doc/examples/suse-11.1/suse-use-gnome/root/etc/init.d/configX
new file mode 100755
index 0000000..6a80443
--- /dev/null
+++ b/doc/examples/suse-11.1/suse-use-gnome/root/etc/init.d/configX
@@ -0,0 +1,36 @@
+#! /bin/sh
+# Copyright (c) 2009 Author: Robert Schweikert &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">rschweikert at novell.com</A>&gt;
+#
+# /etc/init.d/configX
+#
+# System startup script for automatic X configuration
+#
+
+CONFIG_NEEDED=0
+
+# Test dependencies
+MD5SUM=/usr/bin/md5sum
+test -x $MD5SUM || { echo &quot;$MD5SUM not found&quot;; exit 5; }
+
+DMIDECODE=/usr/sbin/dmidecode
+test -x $DMIDECODE || { echo &quot;$DMIDECODE not found&quot;; exit 5; }
+
+SAX2=/usr/sbin/sax2
+test -x $SAX2 || { echo &quot;$SAX2 not found&quot;; exit 5; }
+
+# Generate md5sum for this configuration
+$SAX2 -p &gt;&amp; /var/opt/curConfig.info
+$DMIDECODE &gt;&gt; /var/opt/curConfig.info
+$MD5SUM /var/opt/curConfig.info | cut -d&quot; &quot; -f1 &gt;&amp; /var/opt/curConfig.info
+
+if [ -r /var/opt/prevConfig.info ];
+    then diff /var/opt/prevConfig.info /var/opt/curConfig.info &gt; /dev/null; 
+         if [ $? -ne 0 ]; 
+             then CONFIG_NEEDED=1;
+         fi;
+    else CONFIG_NEEDED=1;
+fi;
+
+if [ $CONFIG_NEEDED -eq 1 ];
+    then mv /var/opt/curConfig.info /var/opt/prevConfig.info; $SAX2 -a -r
+fi;
diff --git a/doc/examples/suse-11.1/suse-use-gnome/root/etc/init.d/rc5.d/S01configX b/doc/examples/suse-11.1/suse-use-gnome/root/etc/init.d/rc5.d/S01configX
new file mode 120000
index 0000000..82cd0e0
--- /dev/null
+++ b/doc/examples/suse-11.1/suse-use-gnome/root/etc/init.d/rc5.d/S01configX
@@ -0,0 +1 @@
+../configX
\ No newline at end of file
diff --git a/doc/examples/suse-11.1/suse-use-gnome/root/etc/inittab b/doc/examples/suse-11.1/suse-use-gnome/root/etc/inittab
new file mode 100644
index 0000000..a91a8eb
--- /dev/null
+++ b/doc/examples/suse-11.1/suse-use-gnome/root/etc/inittab
@@ -0,0 +1,98 @@
+#
+# /etc/inittab
+#
+# Copyright (c) 1996-2002 SuSE Linux AG, Nuernberg, Germany.  All rights reserved.
+#
+# Author: Florian La Roche, 1996
+# Please send feedback to <A HREF="http://www.suse.de/feedback">http://www.suse.de/feedback</A>
+#
+# This is the main configuration file of /sbin/init, which
+# is executed by the kernel on startup. It describes what
+# scripts are used for the different run-levels.
+#
+# All scripts for runlevel changes are in /etc/init.d/.
+#
+# This file may be modified by SuSEconfig unless CHECK_INITTAB
+# in /etc/sysconfig/suseconfig is set to &quot;no&quot;
+#
+
+# The default runlevel is defined here
+id:5:initdefault:
+
+# First script to be executed, if not booting in emergency (-b) mode
+si::bootwait:/etc/init.d/boot
+
+# /etc/init.d/rc takes care of runlevel handling
+#
+# runlevel 0  is  System halt   (Do not use this for initdefault!)
+# runlevel 1  is  Single user mode
+# runlevel 2  is  Local multiuser without remote network (e.g. NFS)
+# runlevel 3  is  Full multiuser with network
+# runlevel 4  is  Not used
+# runlevel 5  is  Full multiuser with network and xdm
+# runlevel 6  is  System reboot (Do not use this for initdefault!)
+#
+l0:0:wait:/etc/init.d/rc 0
+l1:1:wait:/etc/init.d/rc 1
+l2:2:wait:/etc/init.d/rc 2
+l3:3:wait:/etc/init.d/rc 3
+#l4:4:wait:/etc/init.d/rc 4
+l5:5:wait:/etc/init.d/rc 5
+l6:6:wait:/etc/init.d/rc 6
+
+# what to do in single-user mode
+ls:S:wait:/etc/init.d/rc S
+~~:S:respawn:/sbin/sulogin
+
+# what to do when CTRL-ALT-DEL is pressed
+ca::ctrlaltdel:/sbin/shutdown -r -t 4 now
+
+# special keyboard request (Alt-UpArrow)
+# look into the kbd-0.90 docs for this
+kb::kbrequest:/bin/echo &quot;Keyboard Request -- edit /etc/inittab to let this work.&quot;
+
+# what to do when power fails/returns
+pf::powerwait:/etc/init.d/powerfail start
+pn::powerfailnow:/etc/init.d/powerfail now
+#pn::powerfail:/etc/init.d/powerfail now
+po::powerokwait:/etc/init.d/powerfail stop
+
+# for ARGO UPS
+sh:12345:powerfail:/sbin/shutdown -h now THE POWER IS FAILING
+
+# getty-programs for the normal runlevels
+# &lt;id&gt;:&lt;runlevels&gt;:&lt;action&gt;:&lt;process&gt;
+# The &quot;id&quot; field  MUST be the same as the last
+# characters of the device (after &quot;tty&quot;).
+1:2345:respawn:/sbin/mingetty --noclear tty1
+2:2345:respawn:/sbin/mingetty tty2
+3:2345:respawn:/sbin/mingetty tty3
+4:2345:respawn:/sbin/mingetty tty4
+5:2345:respawn:/sbin/mingetty tty5
+6:2345:respawn:/sbin/mingetty tty6
+#
+#S0:12345:respawn:/sbin/agetty -L 9600 ttyS0 vt102
+#cons:1235:respawn:/sbin/smart_agetty -L 38400 console
+
+#
+#  Note: Do not use tty7 in runlevel 3, this virtual line
+#  is occupied by the programm xdm.
+#
+
+#  This is for the package xdmsc, after installing and
+#  and configuration you should remove the comment character
+#  from the following line:
+#7:3:respawn:+/etc/init.d/rx tty7
+
+
+# modem getty.
+# mo:235:respawn:/usr/sbin/mgetty -s 38400 modem
+
+# fax getty (hylafax)
+# mo:35:respawn:/usr/lib/fax/faxgetty /dev/modem
+
+# vbox (voice box) getty
+# I6:35:respawn:/usr/sbin/vboxgetty -d /dev/ttyI6
+# I7:35:respawn:/usr/sbin/vboxgetty -d /dev/ttyI7
+
+# end of /etc/inittab
diff --git a/doc/examples/suse-11.1/suse-use-gnome/root/etc/sysconfig/displaymanager b/doc/examples/suse-11.1/suse-use-gnome/root/etc/sysconfig/displaymanager
new file mode 100644
index 0000000..006e357
--- /dev/null
+++ b/doc/examples/suse-11.1/suse-use-gnome/root/etc/sysconfig/displaymanager
@@ -0,0 +1,124 @@
+## Path:	Desktop/Display manager
+## Description:	settings to generate a proper displaymanager config
+## Type:	string(kdm,xdm,gdm,wdm,console)
+## Default:	&quot;&quot;
+## Config:      xdm,kdm,gdm
+#
+# Here you can set the default Display manager (kdm/xdm/gdm/wdm/console).
+# all changes in this file require a restart of the displaymanager
+#
+DISPLAYMANAGER=&quot;gdm&quot;
+
+## Type:	yesno
+## Default:	no
+#
+# Allow remote access to your display manager (kdm only for now)
+#
+DISPLAYMANAGER_REMOTE_ACCESS=&quot;no&quot;
+
+## Type:	yesno
+## Default:	no
+#
+# Allow remote access of the user root to your display manager
+#
+DISPLAYMANAGER_ROOT_LOGIN_REMOTE=&quot;no&quot;
+
+## Type:	yesno
+## Default:	yes
+#
+# let the displaymanager start a local Xserver
+# set to &quot;no&quot; for remote-access only
+# set to &quot;no&quot; on architectures without any Xserver (e.g. s390/s390x)
+#
+DISPLAYMANAGER_STARTS_XSERVER=&quot;yes&quot;
+
+## Type:    string
+## Default:
+#
+# define the user whom should get logged in without request
+#
+DISPLAYMANAGER_AUTOLOGIN=&quot;&quot;
+
+## Type:        yesno
+## Default:     no
+#
+# Allow all users to login without password, but ask for the user
+#
+DISPLAYMANAGER_PASSWORD_LESS_LOGIN=&quot;no&quot;
+
+## Type:        yesno
+## Default:     no
+## Config:      xdm
+#
+# Tcp port 6000 of Xserver. When set to &quot;no&quot; (default) Xserver is 
+# started with &quot;-nolisten tcp&quot;. Only set this to &quot;yes&quot; if you really 
+# need to. Use ssh X11 port forwarding whenever possible.
+#
+DISPLAYMANAGER_XSERVER_TCP_PORT_6000_OPEN=&quot;no&quot;
+
+## Type:        yesno
+## Default:     no
+#
+# Display a combobox for Active Directory domains.
+#
+DISPLAYMANAGER_AD_INTEGRATION=&quot;no&quot;
+
+## Type:    list(root,all,none,auto)
+## Default: auto
+#
+# Determine who will be able to shutdown or reboot the system in kdm
+# and gdm. Valid values are: &quot;root&quot; (only root can shutdown), &quot;all&quot;
+# (everybody can shutdown), &quot;none&quot; (nobody can shutdown from
+# displaymanager), &quot;auto&quot; (follow
+# System/Security/Permissions/PERMISSION_SECURITY to decide: &quot;easy
+# local&quot; is equal to &quot;all&quot;, everything else is equal to &quot;root&quot;). Note
+# that remote user can never shutdown in GDM.
+#
+DISPLAYMANAGER_SHUTDOWN=&quot;auto&quot;
+
+## Type:        string
+## Default:     &quot;&quot;
+#
+# Mode to configure on output devices by default
+# (RANDR 1.2 compatible drivers only).
+#
+# If set to &quot;auto&quot;, DISPLAYMANAGER_RANDR_MODE_auto is used on laptops, and
+# the empty string on workstations.
+#
+# The output is not explicitly enabled (read: disabled) if set to an empty
+# string.
+# If the variable contains a fully configured modeline (see default of
+# DISPLAYMANAGER_RANDR_MODE_auto), the mode is defined and set.
+# If the variable contains a mode name only, the mode has to be defined
+# already.
+#
+# If a monitor is attached during Xstartup, or when invoking &quot;xrandr --auto&quot;
+# during runtime, the output is correctly configured and a mode is
+# automatically selected if none has been used so far.
+#
+# Variables are checked according to their extension for
+#    VGA DVI_I DVI_D DVI_A Composite S_Video Component LFP Proprietary
+#
+DISPLAYMANAGER_RANDR_MODE_VGA=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_DVI_I=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_DVI_D=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_DVI_A=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_Compsite=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_S_Video=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_Component=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_LFP=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_Proprietary=&quot;&quot;
+
+## Type:        string
+## Default:     &quot;&quot;
+#
+# Mode to use for laptops for DISPLAYMANAGER_RANDR_MODE_* on laptops only,
+# when the according variable is set to &quot;auto&quot;.
+# (RANDR 1.2 compatible drivers only).
+#
+DISPLAYMANAGER_RANDR_MODE_auto=&quot;&quot;
+## Type:        string(Xorg)
+## Path:        Desktop/Display manager
+## Default:     &quot;Xorg&quot;
+#
+DISPLAYMANAGER_XSERVER=Xorg
diff --git a/doc/examples/suse-11.1/suse-use-gnome/root/etc/sysconfig/windowmanager b/doc/examples/suse-11.1/suse-use-gnome/root/etc/sysconfig/windowmanager
new file mode 100644
index 0000000..80b34a4
--- /dev/null
+++ b/doc/examples/suse-11.1/suse-use-gnome/root/etc/sysconfig/windowmanager
@@ -0,0 +1,107 @@
+## Path: Desktop
+## Description: default mouse cursor theme
+## Type:    string
+## Default:
+#
+# Name of mouse cursor theme for X11. Possible themes can be found
+# in /usr/X11R6/lib/X11/icons/
+#
+X_MOUSE_CURSOR=&quot;blueprint-cursor-theme&quot;
+## Path:	Desktop/Window manager
+## Description:	
+## Type:	string(kde,fvwm,gnome,windowmaker)
+## Default:	kde
+## Config:      profiles,kde,susewm
+#
+# Here you can set the default window manager (kde, fvwm, ...)
+# changes here require at least a re-login
+DEFAULT_WM=&quot;gnome&quot;
+
+## Type:	yesno
+## Default:	yes
+#
+# install the SuSE extension for new users
+# (theme and additional functions)
+#
+INSTALL_DESKTOP_EXTENSIONS=&quot;yes&quot;
+## Path:	Desktop/KDE/Lisa
+## Description:	KDE network client configuration
+## Type:	list(none,smb:/,local,&quot;&quot;)
+## Default:	smb:/
+## Config:      kdenetwork-lan
+## ServiceRestart: lisa
+#
+# Defines how to use the default network browser
+# &quot;none&quot;    = do not create a Network icon on desktop
+# &quot;smb:/&quot;   = use plain smb only client, without lisa
+# &quot;local&quot;   = use local installed reslisa
+# &quot;$SERVER&quot; = any server where a lisa daemon is running and allows
+#             remote connections
+#
+USE_LAN_SERVER=&quot;smb:/&quot;
+## Path:        Desktop/SuSEWM
+## Description: Handle behaviour os susewm
+## Type:        yesno
+## Default:     yes
+#
+# SuSEconfig.wm can create a system.fvwm2rc, .fvwmrc, .bowmanrc, .fvwm2rc95,
+# .mwmrc, .ctwmrc, depending on the installed packages. If
+# you want your systemwide wm config files to be updated after install
+# / removal of packages set SUSEWM_UPDATE to &quot;yes&quot;, otherwise to &quot;no&quot;
+#
+SUSEWM_UPDATE=&quot;yes&quot;
+
+## Type:        string
+## Default:     all
+#
+# This is the (space separated) list of window managers for which you 
+# want to generate the config file. Valid values are: 
+#  &quot;kde&quot;, &quot;gnome&quot;, &quot;windowmaker&quot;, &quot;blackbox&quot;, &quot;fvwm&quot;, &quot;fvwm2&quot;, 
+#  &quot;fvwm95&quot;, &quot;bowman&quot;, &quot;mwm&quot;, &quot;ctwm&quot;, &quot;all&quot;.
+# Default setting is &quot;all&quot; which is for generating files for all wms.
+#
+SUSEWM_WM=&quot;all&quot;
+
+## Type:        yesno
+## Default:     yes
+#
+# Your fvwm2/95 is slow? Don't want small pixmaps in menus? So set 
+# SUSEWM_XPM to &quot;no&quot;, if pixmaps in menus are wanted set it to &quot;yes&quot;, 
+# which is the default value. The package 3dpixms has to be installed.
+#
+SUSEWM_XPM=&quot;yes&quot;
+## Path:        Desktop
+## Description: prepare global sycoca database for faster first startup
+## Type:        list(yes,initial,no)
+## Default:     initial
+#
+# building a global sycoca database, which can be used at first user
+# login in KDE
+#
+KDE_BUILD_GLOBAL_SYCOCA=&quot;initial&quot;
+
+## Type:        yesno
+## Default:     yes
+#
+# IPv6 support is disabled by default, since too many internet
+# servers claim to have IPv6 support, but do not respond.
+#
+KDE_USE_IPV6=&quot;no&quot;
+## Path: Desktop
+## Description: create XDG menus for other windowmanagers
+## (black, flux, openbox)
+## Type:   boolean
+## Default: true
+#
+# Should SuSEconfig create XDG menus for other windowmanagers
+# like blackbox, fluxbox, openbox?
+# Possible values are lowercase &quot;true&quot; or &quot;false&quot;.
+#
+CREATE_XDG_MENUS=&quot;true&quot;
+
+## Type:        yesno
+## Default:     yes
+#
+# IDN support can get disabled to avoid DNS phishing for example.
+#
+KDE_USE_IDN=&quot;yes&quot;
diff --git a/doc/examples/suse-11.2/suse-use-gnome.readme b/doc/examples/suse-11.2/suse-use-gnome.readme
new file mode 100644
index 0000000..816e84f
--- /dev/null
+++ b/doc/examples/suse-11.2/suse-use-gnome.readme
@@ -0,0 +1,35 @@
+KIWI Image Description Example
+==============================
+* This image is configured to create a live iso image or a VMware image. The
+  example is focused on setting up an image to use GNOME and the type of 
+  image created is secondary. For specifics on setting up a given image type,
+  such as an OEM image please refere to the appropriate example.
+
+  As you inspect the config.xml file you will notice that the description does
+  not pull in the &quot;gnome&quot; pattern. This example creates an appliance with a
+  minimal GNOME environment. To include the applications generally installed
+  with a GNOME desktop add 
+    &lt;opensusePattern name=&quot;gnome&quot;/&gt;
+  to the configuration file.
+
+How to build this Example
+==============================
+
+    kiwi -p /usr/share/doc/packages/kiwi/examples/suse-11.2/suse-use-gnome \
+         --root /tmp/myusegnome
+
+    kiwi --create /tmp/myusegnome -d /tmp/myusegnome-result
+
+How to test this Example
+==============================
+* Both the live iso image and the VMware image can be tested with any 
+  virtualization software. Using qemu as an example you can use the 
+  following command to test the VMware image for a 64 bit build.
+
+   qemu-kvm /tmp/myusegnome-result/suse-11.2-gnome-demo.x86_64-1.0.1.vmdk
+
+  
+Login Details
+==============================
+* User root pwd: linux
+* User tux  pwd: linux
diff --git a/doc/examples/suse-11.2/suse-use-gnome/config.sh b/doc/examples/suse-11.2/suse-use-gnome/config.sh
new file mode 100755
index 0000000..f5909d2
--- /dev/null
+++ b/doc/examples/suse-11.2/suse-use-gnome/config.sh
@@ -0,0 +1,45 @@
+#!/bin/bash
+#================
+# FILE          : config.sh
+#----------------
+# PROJECT       : OpenSuSE KIWI Image System
+# COPYRIGHT     : (c) 2006 SUSE LINUX Products GmbH. All rights reserved
+#               :
+# AUTHOR        : Marcus Schaefer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>&gt;
+#               :
+# BELONGS TO    : Operating System images
+#               :
+# DESCRIPTION   : configuration script for SUSE based
+#               : operating systems
+#               :
+#               :
+# STATUS        : BETA
+#----------------
+#======================================
+# Functions...
+#--------------------------------------
+test -f /.kconfig &amp;&amp; . /.kconfig
+test -f /.profile &amp;&amp; . /.profile
+
+#======================================
+# Greeting...
+#--------------------------------------
+echo &quot;Configure image: [$kiwi_iname]...&quot;
+
+#======================================
+# Activate services
+#--------------------------------------
+suseActivateDefaultServices
+suseInsertService boot.device-mapper
+
+#======================================
+# SuSEconfig
+#--------------------------------------
+suseConfig
+
+#======================================
+# Umount kernel filesystems
+#--------------------------------------
+baseCleanMount
+
+exit 0
diff --git a/doc/examples/suse-11.2/suse-use-gnome/config.xml b/doc/examples/suse-11.2/suse-use-gnome/config.xml
new file mode 100644
index 0000000..18a7ec8
--- /dev/null
+++ b/doc/examples/suse-11.2/suse-use-gnome/config.xml
@@ -0,0 +1,58 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
+&lt;image schemaversion=&quot;3.7&quot; name=&quot;suse-11.2-gnome-demo&quot;&gt;
+	&lt;description type=&quot;system&quot;&gt;
+		&lt;author&gt;Robert Schweikert&lt;/author&gt;
+		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">rschweikert at novell.</A>&lt;/contact&gt;
+		&lt;specification&gt;openSUSE 11.2 Appliance using GNOME&lt;/specification&gt;
+	&lt;/description&gt;
+	&lt;preferences&gt;
+		&lt;type primary=&quot;true&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.2&quot; format=&quot;vmdk&quot;&gt;vmx&lt;/type&gt;
+        &lt;type boot=&quot;isoboot/suse-11.2&quot; flags=&quot;unified&quot;&gt;iso&lt;/type&gt;
+		&lt;version&gt;1.0.1&lt;/version&gt;
+		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
+		&lt;rpm-check-signatures&gt;false&lt;/rpm-check-signatures&gt;
+		&lt;rpm-force&gt;true&lt;/rpm-force&gt;
+		&lt;locale&gt;en_US&lt;/locale&gt;
+		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
+	&lt;/preferences&gt;
+	&lt;users group=&quot;users&quot;&gt;
+		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/home/tux&quot; name=&quot;tux&quot;/&gt;
+	&lt;/users&gt;
+	&lt;users group=&quot;root&quot;&gt;
+		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/root&quot; name=&quot;root&quot;/&gt;
+	&lt;/users&gt;
+	&lt;repository type=&quot;yast2&quot;&gt;
+		&lt;!--&lt;source path=&quot;/image/CDs/full-11.2-i386&quot;/&gt;--&gt;
+		&lt;source path=&quot;<A HREF="opensuse://11.2/repo/oss/">opensuse://11.2/repo/oss/</A>&quot;/&gt;
+	&lt;/repository&gt;
+	&lt;packages type=&quot;image&quot; patternType=&quot;plusRecommended&quot; patternPackageType=&quot;plusRecommended&quot;&gt;
+		&lt;package name=&quot;bootsplash&quot;/&gt;
+		&lt;package name=&quot;bootsplash-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
+        &lt;package name=&quot;firefox&quot;/&gt;
+        &lt;package name=&quot;gdm&quot;/&gt;
+		&lt;package name=&quot;gfxboot-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
+        &lt;!-- Need applets control to appease panel in default setup --&gt;
+        &lt;package name=&quot;gnome-applets&quot;/&gt;
+		&lt;package name=&quot;ifplugd&quot;/&gt;
+        &lt;package name=&quot;iputils&quot;/&gt;
+		&lt;package name=&quot;kernel-default&quot;/&gt;
+        &lt;package name=&quot;python&quot;/&gt;
+        &lt;package name=&quot;perl&quot;/&gt;
+        &lt;package name=&quot;preload&quot;/&gt;
+        &lt;package name=&quot;sax2&quot;/&gt;
+        &lt;!-- Need tomboy to appease panel in default setup --&gt;
+        &lt;package name=&quot;tomboy&quot;/&gt;
+        &lt;package name=&quot;vim&quot;/&gt;
+        &lt;package name=&quot;xorg-x11-server&quot;/&gt;
+		&lt;opensusePattern name=&quot;base&quot;/&gt;
+	&lt;/packages&gt;
+	&lt;packages type=&quot;vmware&quot;&gt;
+	&lt;/packages&gt;
+	&lt;vmwareconfig memory=&quot;1024&quot;&gt;
+		&lt;vmwaredisk controller=&quot;ide&quot; id=&quot;0&quot;/&gt;
+	&lt;/vmwareconfig&gt;
+	&lt;packages type=&quot;bootstrap&quot;&gt;
+		&lt;package name=&quot;filesystem&quot;/&gt; 
+		&lt;package name=&quot;glibc-locale&quot;/&gt;
+	&lt;/packages&gt;
+&lt;/image&gt;
diff --git a/doc/examples/suse-11.2/suse-use-gnome/root/etc/init.d/boot b/doc/examples/suse-11.2/suse-use-gnome/root/etc/init.d/boot
new file mode 100755
index 0000000..7572e8d
--- /dev/null
+++ b/doc/examples/suse-11.2/suse-use-gnome/root/etc/init.d/boot
@@ -0,0 +1,323 @@
+#! /bin/bash
+#
+# Copyright (c) 1996-2004 SuSE Linux AG, Nuernberg, Germany.
+# All rights reserved.
+#
+# Author: Ruediger Oertel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ro at suse.de</A>&gt;, 1996-2002
+#         Werner Fink &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">werner at suse.de</A>&gt;, 1996-2004
+#         Burchard Steinbild, 1996-2000
+#         Florian La Roche, 1996
+#
+# Please send feedback to <A HREF="http://www.suse.de/feedback">http://www.suse.de/feedback</A>
+#
+# /etc/init.d/boot
+#
+# first script to be executed from init on system startup
+#
+
+#
+# Avoid be interrupted by child or keyboard
+# 
+trap &quot;echo&quot; SIGINT SIGSEGV SIGQUIT
+set +e
+
+#
+# Get terminal size of standard input of the system console
+#
+test -z &quot;$CONSOLE&quot; &amp;&amp; CONSOLE=/dev/console
+set -- $(stty size &lt; $CONSOLE)
+  LINES=$1
+COLUMNS=$2
+export LINES COLUMNS CONSOLE
+
+#
+# Set I/O of this script and its childs to console
+#
+exec 0&lt;&gt; $CONSOLE 1&gt;&amp;0 2&gt;&amp;0
+
+#
+# Export the real device in variable REDIRECT.
+#
+REDIRECT=&quot;`showconsole 2&gt;/dev/null`&quot;
+export REDIRECT
+if test $COLUMNS -eq 0 ; then
+    # Serial: columns and lines are not defined
+      LINES=24
+    COLUMNS=80
+    test &quot;$TERM&quot; = &quot;linux&quot; -o -z &quot;$TERM&quot; &amp;&amp; TERM=vt102
+fi
+
+#
+# Configuration and coloring of the boot messages
+#
+
+. /etc/rc.status
+. /etc/sysconfig/boot
+
+echo -n &quot;System Boot Control: &quot;
+echo &quot;Running $0&quot;
+
+#
+# Start of e.g. blogd, requires /proc and /dev/pts.
+#
+rc_reset
+echo -n &quot;Mounting procfs at /proc&quot;
+mount -n -t proc proc /proc
+rc_status -v -r
+
+echo -n &quot;Mounting sysfs at /sys&quot;
+mount -n -t sysfs sysfs /sys
+rc_status -v -r
+
+if test -d /sys/kernel/debug ; then
+    while read dev type ; do
+	if test &quot;$type&quot; = &quot;debugfs&quot; ; then
+	    echo -n &quot;Mounting debugfs at /sys/kernel/debug&quot;
+	    mount -n -t debugfs debugfs /sys/kernel/debug
+	    rc_status -v -r
+	fi
+    done &lt; /proc/filesystems
+fi
+#
+# mount tmpfs on /dev if not already done by initramfs
+#
+while read dev dir type options; do
+    if test &quot;$dir&quot; = &quot;/dev&quot; -a &quot;$type&quot; = &quot;tmpfs&quot;; then
+	DEV_MOUNTED=1;
+	break;
+    fi
+done &lt; /proc/mounts
+if test -z &quot;$DEV_MOUNTED&quot;; then
+    echo -n &quot;Mounting tmpfs at /dev&quot;
+    mount -n -t tmpfs -o mode=0755 udev /dev
+    rc_status -v -r
+fi
+
+#
+# populate /dev with initial content
+#
+echo -n &quot;Initializing /dev&quot;
+cp --preserve=all --recursive --remove-destination /lib/udev/devices/* /dev
+chmod 1777 /dev/shm
+rc_status -v -r
+
+echo -n &quot;Mounting devpts at /dev/pts&quot;
+mount -n -t devpts -o mode=0620,gid=5 devpts /dev/pts
+rc_status -v -r
+
+#
+# Save old terminal settings and set -nl to avoid staircase
+# effect, do not lock scrolling, and avoid break characters.
+#
+otty=$(stty -g)
+if test &quot;$FLOW_CONTROL&quot; = &quot;yes&quot; ; then
+    stty -nl  ixon ignbrk -brkint
+else
+    stty -nl -ixon ignbrk -brkint
+fi
+
+#
+# Should we ask for interactive boot mode
+#
+DO_CONFIRM=&quot;&quot;
+read -t 2 check &lt; /proc/cmdline 2&gt; /dev/null
+case &quot;$check&quot; in
+    *confirm*) DO_CONFIRM=yes ;;
+esac
+test -z &quot;$CONFIRM_PROMPT_TIMEOUT&quot; &amp;&amp; CONFIRM_PROMPT_TIMEOUT=5
+if test &quot;$PROMPT_FOR_CONFIRM&quot; = &quot;yes&quot; -a &quot;$DO_CONFIRM&quot; != &quot;yes&quot; ; then
+    echo -en &quot;${extd}Enter Interactive startup mode?${norm}&quot;
+    rc_timer_on &quot;$CONFIRM_PROMPT_TIMEOUT&quot; 37
+    read -t &quot;$CONFIRM_PROMPT_TIMEOUT&quot; -n 1 \
+	-p &quot; ${extd}y${norm}/[${extd}n${norm}](&quot;${CONFIRM_PROMPT_TIMEOUT}s&quot;) &quot; answer
+    rc_timer_off
+    case &quot;$answer&quot; in
+    [yYiI]) DO_CONFIRM=yes ;;
+    *)      DO_CONFIRM=    ;;
+    esac
+    unset answer
+    echo
+fi
+export DO_CONFIRM
+
+#
+# Start blogd, requires /proc and /dev/pts.
+# Export the real device in variable REDIRECT.
+#
+test -x /sbin/blogd -a -n &quot;$REDIRECT&quot; &amp;&amp; /sbin/blogd $REDIRECT
+if test -z &quot;$REDIRECT&quot; ; then
+    if (echo -n &gt; /dev/tty) 2&gt;/dev/null ; then
+	REDIRECT=/dev/tty
+    else
+	REDIRECT=/dev/console
+    fi
+fi
+
+#
+# Common used variables
+#
+bootrc=/etc/init.d/boot.d
+rex=&quot;[0-9][0-9]&quot;
+failed=&quot;&quot;
+skipped=&quot;&quot;
+callord=&quot;&quot;
+
+#
+# Initialize boosplash progressbar variables
+#
+. /etc/rc.splash B
+splashtrigger &quot;rlchange B&quot;
+
+#
+# Check if we are able to use make for booting
+#
+test -s /etc/init.d/.depend.boot || RUN_PARALLEL=&quot;no&quot;
+test -s /etc/init.d/Makefile	 || RUN_PARALLEL=&quot;no&quot;
+test &quot;$DO_CONFIRM&quot;   = &quot;yes&quot;	 &amp;&amp; RUN_PARALLEL=&quot;no&quot;
+type -p startpar &amp;&gt; /dev/null    || RUN_PARALLEL=&quot;no&quot;
+startpar -v &amp;&gt; /dev/null	 || RUN_PARALLEL=&quot;no&quot;
+
+#
+# Start bootup client scripts.
+#
+if test &quot;$RUN_PARALLEL&quot; = &quot;yes&quot; ; then
+
+    #
+    # Start scripts in parallel with make behaviour of startpar
+    #
+
+    startopt=&quot;-p4 -t 30 -T 3 $(splashmake)&quot;
+    eval $(startpar $startopt -M boot)
+    failed=&quot;${failed:+$failed }$failed_service&quot;
+    skipped=&quot;${skipped:+$skipped }$skipped_service&quot;
+
+    unset failed_service skipped_service startopt
+
+elif test -d ${bootrc}/ ; then
+
+    #
+    # Start scripts in given link order
+    #
+    for i in ${bootrc}/S${rex}*; do
+
+	test -f $i || continue
+
+	B=${i##*/}
+	script=${B#*S$rex}
+	B=${B%$script}
+
+	if test &quot;$DO_CONFIRM&quot; = &quot;yes&quot; ; then
+	    rc_confirm -t $CONFIRM_PROMPT_TIMEOUT &quot;Start bootup script ${script}&quot; &lt; $REDIRECT &gt; $REDIRECT 2&gt;&amp;1
+	    case &quot;$?&quot; in
+	    0) true     ;;
+	    1) continue ;;
+	    2) DO_CONFIRM=&quot;&quot;
+	    esac
+	fi
+
+	blogger &quot;$script start&quot;
+
+	if test -x &quot;$i&quot; ; then
+		$i start
+	else
+	    echo Running $i
+	    /bin/sh $i b
+	    rc_status -v1 -r
+	fi
+	status=$?
+	echo -en &quot;$rc_reset&quot;
+	splashprogress &quot;$script start&quot;
+
+	case $status in
+	[1-47])  failed=&quot;${failed:+$failed }$script&quot;   ;;
+	[56])   skipped=&quot;${skipped:+$skipped }$script&quot; ;;
+	0|*) ;;
+	esac
+
+	blogger &quot;'$script start' exits with status $status&quot;
+    done
+fi
+
+splashtrigger &quot;rlreached B&quot;
+
+#
+# Be verbose and print stats
+#
+echo -n &quot;System Boot Control: &quot;
+echo -e &quot;The system has been ${stat}${extd}set up${norm}&quot;
+if test -n &quot;$failed&quot; ; then
+    n=$((${#failed} + 7))
+    echo -n  &quot;Failed features: &quot;
+    test $n -lt 47 &amp;&amp; echo -en &quot;\033[${COLUMNS}C\033[${n}D&quot;
+    echo -e  &quot;${warn}${failed}${norm}&quot;
+fi
+if test -n &quot;$skipped&quot; ; then
+    n=$((${#skipped} + 7))
+    echo -n  &quot;Skipped features: &quot;
+    test $n -lt 47 &amp;&amp; echo -en &quot;\033[${COLUMNS}C\033[${n}D&quot;
+    echo -e  &quot;${attn}${skipped}${norm}&quot;
+fi
+
+#
+# Start user defined bootup script.
+#
+if test -f /etc/init.d/boot.local ; then
+    echo -n &quot;System Boot Control: &quot;
+    echo &quot;Running /etc/init.d/boot.local&quot;
+    /bin/sh /etc/init.d/boot.local
+    rc_status -v1 -r
+    splashtrigger &quot;boot.local&quot;
+fi
+
+#
+# Stop blogd
+#
+test -x /sbin/blogd &amp;&amp; killproc -QUIT /sbin/blogd
+
+#
+# Check for boot cycle detection
+#
+test -s /lib/bootcycle/stats &amp;&amp; . /lib/bootcycle/stats
+
+#
+# Remember for master resource script
+#
+if test &quot;$DO_CONFIRM&quot; = &quot;yes&quot; ; then
+    touch /var/run/do_confirm
+fi
+
+#
+# Restore old terminal settings
+#
+stty $otty
+
+# create config file if not yet done
+if [ ! -f /etc/X11/xorg.conf ];then
+	/usr/sbin/sax2 -c 0 -a -i &amp;&gt;/dev/null
+fi
+
+#
+# Let YaST2 finish its installation, if you installed with YaST2
+#
+if test -f /var/lib/YaST2/runme_at_boot ; then
+    HOSTTYPE=$(uname -m)
+    splashtrigger &quot;YaST&quot;
+    exec 0&lt;&gt; $REDIRECT 1&gt;&amp;0 2&gt;&amp;0
+    # if yast2 failed, this ensures proper system setup
+    #ulimit -c unlimited
+    touch /var/lib/YaST2/run_suseconfig
+    if test -x /usr/lib/YaST2/startup/YaST2.Second-Stage; then
+	/usr/lib/YaST2/startup/YaST2.Second-Stage
+    else
+	# oops, yast2 not installed
+	rm -f /var/lib/YaST2/runme_at_boot
+    fi
+fi
+# run SuSEconfig (with args) if needed
+if test -f /var/lib/YaST2/run_suseconfig ; then
+    /sbin/SuSEconfig `cat /var/lib/YaST2/run_suseconfig`
+    rm -f /var/lib/YaST2/run_suseconfig
+fi
+
+rc_reset
+exit 0
diff --git a/doc/examples/suse-11.2/suse-use-gnome/root/etc/init.d/configX b/doc/examples/suse-11.2/suse-use-gnome/root/etc/init.d/configX
new file mode 100755
index 0000000..6a80443
--- /dev/null
+++ b/doc/examples/suse-11.2/suse-use-gnome/root/etc/init.d/configX
@@ -0,0 +1,36 @@
+#! /bin/sh
+# Copyright (c) 2009 Author: Robert Schweikert &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">rschweikert at novell.com</A>&gt;
+#
+# /etc/init.d/configX
+#
+# System startup script for automatic X configuration
+#
+
+CONFIG_NEEDED=0
+
+# Test dependencies
+MD5SUM=/usr/bin/md5sum
+test -x $MD5SUM || { echo &quot;$MD5SUM not found&quot;; exit 5; }
+
+DMIDECODE=/usr/sbin/dmidecode
+test -x $DMIDECODE || { echo &quot;$DMIDECODE not found&quot;; exit 5; }
+
+SAX2=/usr/sbin/sax2
+test -x $SAX2 || { echo &quot;$SAX2 not found&quot;; exit 5; }
+
+# Generate md5sum for this configuration
+$SAX2 -p &gt;&amp; /var/opt/curConfig.info
+$DMIDECODE &gt;&gt; /var/opt/curConfig.info
+$MD5SUM /var/opt/curConfig.info | cut -d&quot; &quot; -f1 &gt;&amp; /var/opt/curConfig.info
+
+if [ -r /var/opt/prevConfig.info ];
+    then diff /var/opt/prevConfig.info /var/opt/curConfig.info &gt; /dev/null; 
+         if [ $? -ne 0 ]; 
+             then CONFIG_NEEDED=1;
+         fi;
+    else CONFIG_NEEDED=1;
+fi;
+
+if [ $CONFIG_NEEDED -eq 1 ];
+    then mv /var/opt/curConfig.info /var/opt/prevConfig.info; $SAX2 -a -r
+fi;
diff --git a/doc/examples/suse-11.2/suse-use-gnome/root/etc/init.d/rc5.d/S01configX b/doc/examples/suse-11.2/suse-use-gnome/root/etc/init.d/rc5.d/S01configX
new file mode 120000
index 0000000..82cd0e0
--- /dev/null
+++ b/doc/examples/suse-11.2/suse-use-gnome/root/etc/init.d/rc5.d/S01configX
@@ -0,0 +1 @@
+../configX
\ No newline at end of file
diff --git a/doc/examples/suse-11.2/suse-use-gnome/root/etc/inittab b/doc/examples/suse-11.2/suse-use-gnome/root/etc/inittab
new file mode 100644
index 0000000..a91a8eb
--- /dev/null
+++ b/doc/examples/suse-11.2/suse-use-gnome/root/etc/inittab
@@ -0,0 +1,98 @@
+#
+# /etc/inittab
+#
+# Copyright (c) 1996-2002 SuSE Linux AG, Nuernberg, Germany.  All rights reserved.
+#
+# Author: Florian La Roche, 1996
+# Please send feedback to <A HREF="http://www.suse.de/feedback">http://www.suse.de/feedback</A>
+#
+# This is the main configuration file of /sbin/init, which
+# is executed by the kernel on startup. It describes what
+# scripts are used for the different run-levels.
+#
+# All scripts for runlevel changes are in /etc/init.d/.
+#
+# This file may be modified by SuSEconfig unless CHECK_INITTAB
+# in /etc/sysconfig/suseconfig is set to &quot;no&quot;
+#
+
+# The default runlevel is defined here
+id:5:initdefault:
+
+# First script to be executed, if not booting in emergency (-b) mode
+si::bootwait:/etc/init.d/boot
+
+# /etc/init.d/rc takes care of runlevel handling
+#
+# runlevel 0  is  System halt   (Do not use this for initdefault!)
+# runlevel 1  is  Single user mode
+# runlevel 2  is  Local multiuser without remote network (e.g. NFS)
+# runlevel 3  is  Full multiuser with network
+# runlevel 4  is  Not used
+# runlevel 5  is  Full multiuser with network and xdm
+# runlevel 6  is  System reboot (Do not use this for initdefault!)
+#
+l0:0:wait:/etc/init.d/rc 0
+l1:1:wait:/etc/init.d/rc 1
+l2:2:wait:/etc/init.d/rc 2
+l3:3:wait:/etc/init.d/rc 3
+#l4:4:wait:/etc/init.d/rc 4
+l5:5:wait:/etc/init.d/rc 5
+l6:6:wait:/etc/init.d/rc 6
+
+# what to do in single-user mode
+ls:S:wait:/etc/init.d/rc S
+~~:S:respawn:/sbin/sulogin
+
+# what to do when CTRL-ALT-DEL is pressed
+ca::ctrlaltdel:/sbin/shutdown -r -t 4 now
+
+# special keyboard request (Alt-UpArrow)
+# look into the kbd-0.90 docs for this
+kb::kbrequest:/bin/echo &quot;Keyboard Request -- edit /etc/inittab to let this work.&quot;
+
+# what to do when power fails/returns
+pf::powerwait:/etc/init.d/powerfail start
+pn::powerfailnow:/etc/init.d/powerfail now
+#pn::powerfail:/etc/init.d/powerfail now
+po::powerokwait:/etc/init.d/powerfail stop
+
+# for ARGO UPS
+sh:12345:powerfail:/sbin/shutdown -h now THE POWER IS FAILING
+
+# getty-programs for the normal runlevels
+# &lt;id&gt;:&lt;runlevels&gt;:&lt;action&gt;:&lt;process&gt;
+# The &quot;id&quot; field  MUST be the same as the last
+# characters of the device (after &quot;tty&quot;).
+1:2345:respawn:/sbin/mingetty --noclear tty1
+2:2345:respawn:/sbin/mingetty tty2
+3:2345:respawn:/sbin/mingetty tty3
+4:2345:respawn:/sbin/mingetty tty4
+5:2345:respawn:/sbin/mingetty tty5
+6:2345:respawn:/sbin/mingetty tty6
+#
+#S0:12345:respawn:/sbin/agetty -L 9600 ttyS0 vt102
+#cons:1235:respawn:/sbin/smart_agetty -L 38400 console
+
+#
+#  Note: Do not use tty7 in runlevel 3, this virtual line
+#  is occupied by the programm xdm.
+#
+
+#  This is for the package xdmsc, after installing and
+#  and configuration you should remove the comment character
+#  from the following line:
+#7:3:respawn:+/etc/init.d/rx tty7
+
+
+# modem getty.
+# mo:235:respawn:/usr/sbin/mgetty -s 38400 modem
+
+# fax getty (hylafax)
+# mo:35:respawn:/usr/lib/fax/faxgetty /dev/modem
+
+# vbox (voice box) getty
+# I6:35:respawn:/usr/sbin/vboxgetty -d /dev/ttyI6
+# I7:35:respawn:/usr/sbin/vboxgetty -d /dev/ttyI7
+
+# end of /etc/inittab
diff --git a/doc/examples/suse-11.2/suse-use-gnome/root/etc/sysconfig/displaymanager b/doc/examples/suse-11.2/suse-use-gnome/root/etc/sysconfig/displaymanager
new file mode 100644
index 0000000..006e357
--- /dev/null
+++ b/doc/examples/suse-11.2/suse-use-gnome/root/etc/sysconfig/displaymanager
@@ -0,0 +1,124 @@
+## Path:	Desktop/Display manager
+## Description:	settings to generate a proper displaymanager config
+## Type:	string(kdm,xdm,gdm,wdm,console)
+## Default:	&quot;&quot;
+## Config:      xdm,kdm,gdm
+#
+# Here you can set the default Display manager (kdm/xdm/gdm/wdm/console).
+# all changes in this file require a restart of the displaymanager
+#
+DISPLAYMANAGER=&quot;gdm&quot;
+
+## Type:	yesno
+## Default:	no
+#
+# Allow remote access to your display manager (kdm only for now)
+#
+DISPLAYMANAGER_REMOTE_ACCESS=&quot;no&quot;
+
+## Type:	yesno
+## Default:	no
+#
+# Allow remote access of the user root to your display manager
+#
+DISPLAYMANAGER_ROOT_LOGIN_REMOTE=&quot;no&quot;
+
+## Type:	yesno
+## Default:	yes
+#
+# let the displaymanager start a local Xserver
+# set to &quot;no&quot; for remote-access only
+# set to &quot;no&quot; on architectures without any Xserver (e.g. s390/s390x)
+#
+DISPLAYMANAGER_STARTS_XSERVER=&quot;yes&quot;
+
+## Type:    string
+## Default:
+#
+# define the user whom should get logged in without request
+#
+DISPLAYMANAGER_AUTOLOGIN=&quot;&quot;
+
+## Type:        yesno
+## Default:     no
+#
+# Allow all users to login without password, but ask for the user
+#
+DISPLAYMANAGER_PASSWORD_LESS_LOGIN=&quot;no&quot;
+
+## Type:        yesno
+## Default:     no
+## Config:      xdm
+#
+# Tcp port 6000 of Xserver. When set to &quot;no&quot; (default) Xserver is 
+# started with &quot;-nolisten tcp&quot;. Only set this to &quot;yes&quot; if you really 
+# need to. Use ssh X11 port forwarding whenever possible.
+#
+DISPLAYMANAGER_XSERVER_TCP_PORT_6000_OPEN=&quot;no&quot;
+
+## Type:        yesno
+## Default:     no
+#
+# Display a combobox for Active Directory domains.
+#
+DISPLAYMANAGER_AD_INTEGRATION=&quot;no&quot;
+
+## Type:    list(root,all,none,auto)
+## Default: auto
+#
+# Determine who will be able to shutdown or reboot the system in kdm
+# and gdm. Valid values are: &quot;root&quot; (only root can shutdown), &quot;all&quot;
+# (everybody can shutdown), &quot;none&quot; (nobody can shutdown from
+# displaymanager), &quot;auto&quot; (follow
+# System/Security/Permissions/PERMISSION_SECURITY to decide: &quot;easy
+# local&quot; is equal to &quot;all&quot;, everything else is equal to &quot;root&quot;). Note
+# that remote user can never shutdown in GDM.
+#
+DISPLAYMANAGER_SHUTDOWN=&quot;auto&quot;
+
+## Type:        string
+## Default:     &quot;&quot;
+#
+# Mode to configure on output devices by default
+# (RANDR 1.2 compatible drivers only).
+#
+# If set to &quot;auto&quot;, DISPLAYMANAGER_RANDR_MODE_auto is used on laptops, and
+# the empty string on workstations.
+#
+# The output is not explicitly enabled (read: disabled) if set to an empty
+# string.
+# If the variable contains a fully configured modeline (see default of
+# DISPLAYMANAGER_RANDR_MODE_auto), the mode is defined and set.
+# If the variable contains a mode name only, the mode has to be defined
+# already.
+#
+# If a monitor is attached during Xstartup, or when invoking &quot;xrandr --auto&quot;
+# during runtime, the output is correctly configured and a mode is
+# automatically selected if none has been used so far.
+#
+# Variables are checked according to their extension for
+#    VGA DVI_I DVI_D DVI_A Composite S_Video Component LFP Proprietary
+#
+DISPLAYMANAGER_RANDR_MODE_VGA=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_DVI_I=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_DVI_D=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_DVI_A=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_Compsite=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_S_Video=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_Component=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_LFP=&quot;&quot;
+#DISPLAYMANAGER_RANDR_MODE_Proprietary=&quot;&quot;
+
+## Type:        string
+## Default:     &quot;&quot;
+#
+# Mode to use for laptops for DISPLAYMANAGER_RANDR_MODE_* on laptops only,
+# when the according variable is set to &quot;auto&quot;.
+# (RANDR 1.2 compatible drivers only).
+#
+DISPLAYMANAGER_RANDR_MODE_auto=&quot;&quot;
+## Type:        string(Xorg)
+## Path:        Desktop/Display manager
+## Default:     &quot;Xorg&quot;
+#
+DISPLAYMANAGER_XSERVER=Xorg
diff --git a/doc/examples/suse-11.2/suse-use-gnome/root/etc/sysconfig/windowmanager b/doc/examples/suse-11.2/suse-use-gnome/root/etc/sysconfig/windowmanager
new file mode 100644
index 0000000..80b34a4
--- /dev/null
+++ b/doc/examples/suse-11.2/suse-use-gnome/root/etc/sysconfig/windowmanager
@@ -0,0 +1,107 @@
+## Path: Desktop
+## Description: default mouse cursor theme
+## Type:    string
+## Default:
+#
+# Name of mouse cursor theme for X11. Possible themes can be found
+# in /usr/X11R6/lib/X11/icons/
+#
+X_MOUSE_CURSOR=&quot;blueprint-cursor-theme&quot;
+## Path:	Desktop/Window manager
+## Description:	
+## Type:	string(kde,fvwm,gnome,windowmaker)
+## Default:	kde
+## Config:      profiles,kde,susewm
+#
+# Here you can set the default window manager (kde, fvwm, ...)
+# changes here require at least a re-login
+DEFAULT_WM=&quot;gnome&quot;
+
+## Type:	yesno
+## Default:	yes
+#
+# install the SuSE extension for new users
+# (theme and additional functions)
+#
+INSTALL_DESKTOP_EXTENSIONS=&quot;yes&quot;
+## Path:	Desktop/KDE/Lisa
+## Description:	KDE network client configuration
+## Type:	list(none,smb:/,local,&quot;&quot;)
+## Default:	smb:/
+## Config:      kdenetwork-lan
+## ServiceRestart: lisa
+#
+# Defines how to use the default network browser
+# &quot;none&quot;    = do not create a Network icon on desktop
+# &quot;smb:/&quot;   = use plain smb only client, without lisa
+# &quot;local&quot;   = use local installed reslisa
+# &quot;$SERVER&quot; = any server where a lisa daemon is running and allows
+#             remote connections
+#
+USE_LAN_SERVER=&quot;smb:/&quot;
+## Path:        Desktop/SuSEWM
+## Description: Handle behaviour os susewm
+## Type:        yesno
+## Default:     yes
+#
+# SuSEconfig.wm can create a system.fvwm2rc, .fvwmrc, .bowmanrc, .fvwm2rc95,
+# .mwmrc, .ctwmrc, depending on the installed packages. If
+# you want your systemwide wm config files to be updated after install
+# / removal of packages set SUSEWM_UPDATE to &quot;yes&quot;, otherwise to &quot;no&quot;
+#
+SUSEWM_UPDATE=&quot;yes&quot;
+
+## Type:        string
+## Default:     all
+#
+# This is the (space separated) list of window managers for which you 
+# want to generate the config file. Valid values are: 
+#  &quot;kde&quot;, &quot;gnome&quot;, &quot;windowmaker&quot;, &quot;blackbox&quot;, &quot;fvwm&quot;, &quot;fvwm2&quot;, 
+#  &quot;fvwm95&quot;, &quot;bowman&quot;, &quot;mwm&quot;, &quot;ctwm&quot;, &quot;all&quot;.
+# Default setting is &quot;all&quot; which is for generating files for all wms.
+#
+SUSEWM_WM=&quot;all&quot;
+
+## Type:        yesno
+## Default:     yes
+#
+# Your fvwm2/95 is slow? Don't want small pixmaps in menus? So set 
+# SUSEWM_XPM to &quot;no&quot;, if pixmaps in menus are wanted set it to &quot;yes&quot;, 
+# which is the default value. The package 3dpixms has to be installed.
+#
+SUSEWM_XPM=&quot;yes&quot;
+## Path:        Desktop
+## Description: prepare global sycoca database for faster first startup
+## Type:        list(yes,initial,no)
+## Default:     initial
+#
+# building a global sycoca database, which can be used at first user
+# login in KDE
+#
+KDE_BUILD_GLOBAL_SYCOCA=&quot;initial&quot;
+
+## Type:        yesno
+## Default:     yes
+#
+# IPv6 support is disabled by default, since too many internet
+# servers claim to have IPv6 support, but do not respond.
+#
+KDE_USE_IPV6=&quot;no&quot;
+## Path: Desktop
+## Description: create XDG menus for other windowmanagers
+## (black, flux, openbox)
+## Type:   boolean
+## Default: true
+#
+# Should SuSEconfig create XDG menus for other windowmanagers
+# like blackbox, fluxbox, openbox?
+# Possible values are lowercase &quot;true&quot; or &quot;false&quot;.
+#
+CREATE_XDG_MENUS=&quot;true&quot;
+
+## Type:        yesno
+## Default:     yes
+#
+# IDN support can get disabled to avoid DNS phishing for example.
+#
+KDE_USE_IDN=&quot;yes&quot;
-- 
1.6.0.2


--------------070609070906080801040701--

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001544.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 957d004939ce80af596b1d4bdb0e8bb9385b86d0
</A></li>
	<LI>Next message: <A HREF="001545.html">[Kiwi-devel] Patch for example demonstrating the use of GNOME
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1546">[ date ]</a>
              <a href="thread.html#1546">[ thread ]</a>
              <a href="subject.html#1546">[ subject ]</a>
              <a href="author.html#1546">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
