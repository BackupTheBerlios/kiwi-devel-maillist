<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] [Git]Project kiwi at BerliOS branch,	KIWI-443-SuSE-11-3-Devel,	updated. 4c40863fb61f87300f99cdd3cd1b589a7933b94c
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2010-October/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%0A%09KIWI-443-SuSE-11-3-Devel%2C%0A%09updated.%204c40863fb61f87300f99cdd3cd1b589a7933b94c&In-Reply-To=%3C20101008075751.A90BA480DF4%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002722.html">
   <LINK REL="Next"  HREF="002725.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] [Git]Project kiwi at BerliOS branch,	KIWI-443-SuSE-11-3-Devel,	updated. 4c40863fb61f87300f99cdd3cd1b589a7933b94c</H1>
    <B>marcus_schaefer at BerliOS</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%0A%09KIWI-443-SuSE-11-3-Devel%2C%0A%09updated.%204c40863fb61f87300f99cdd3cd1b589a7933b94c&In-Reply-To=%3C20101008075751.A90BA480DF4%40sheep.berlios.de%3E"
       TITLE="[Kiwi-devel] [Git]Project kiwi at BerliOS branch,	KIWI-443-SuSE-11-3-Devel,	updated. 4c40863fb61f87300f99cdd3cd1b589a7933b94c">marcus_schaefer at mail.berlios.de
       </A><BR>
    <I>Fri Oct  8 09:57:51 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002722.html">[Kiwi-devel] xen img can't start
</A></li>
        <LI>Next message: <A HREF="002725.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 7d34bd83c7e630b672a804af7fd15fb5f0a29666
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2724">[ date ]</a>
              <a href="thread.html#2724">[ thread ]</a>
              <a href="subject.html#2724">[ subject ]</a>
              <a href="author.html#2724">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;Project kiwi at BerliOS&quot;.

The branch, KIWI-443-SuSE-11-3-Devel has been updated
       via  4c40863fb61f87300f99cdd3cd1b589a7933b94c (commit)
       via  d0e1b8f941fd164f15dea1df041369479054b2ae (commit)
       via  ce6c52dda77c7f8ff30e2036a9587b607b3801ca (commit)
       via  1608c32a44e02ce78219d3ae1b310898c7a05fdb (commit)
      from  68ae35c9a2bae8e488a328dcb795acbc5f1ace15 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 4c40863fb61f87300f99cdd3cd1b589a7933b94c
Author: Marcus Sch&#195;&#164;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&gt;
Date:   Fri Oct 8 09:57:36 2010 +0200

    - added changelog entry for the last three commits

commit d0e1b8f941fd164f15dea1df041369479054b2ae
Author: Marcus Sch&#195;&#164;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&gt;
Date:   Thu Oct 7 16:09:15 2010 +0200

    - added vfb (virtual framebuffer configuration) to the xenconfig file
      written by kiwi. This allows easy graphics console access with
      the virt-viewer program. If you want to run the xen domU in text
      mode you have to manually pass the option xencons=tty in the pygrub
      boot menu

commit ce6c52dda77c7f8ff30e2036a9587b607b3801ca
Author: Marcus Sch&#195;&#164;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&gt;
Date:   Thu Oct 7 10:39:17 2010 +0200

    - removed xencons boot option for domU creation in .xenconfig
      and from the bootloader kernel options (bnc #644138)

commit 1608c32a44e02ce78219d3ae1b310898c7a05fdb
Author: Marcus Sch&#195;&#164;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&gt;
Date:   Thu Oct 7 10:17:12 2010 +0200

    - call udevPending before checking /sys/bus/usb/devices

-----------------------------------------------------------------------

Summary of changes:
diff --git a/modules/KIWIBoot.pm b/modules/KIWIBoot.pm
index 83e37f1..2f2ce61 100644
--- a/modules/KIWIBoot.pm
+++ b/modules/KIWIBoot.pm
@@ -2596,9 +2596,6 @@ sub setupBootDisk {
 	# add extra Xen boot options if necessary
 	#==========================================
 	my $extra = &quot;&quot;;
-	if (($type{bootprofile} eq &quot;xen&quot;) &amp;&amp; ($xendomain eq &quot;domU&quot;)) {
-		$extra = &quot;xencons=tty &quot;;
-	}
 	#==========================================
 	# Create boot loader configuration
 	#------------------------------------------
diff --git a/modules/KIWIImageFormat.pm b/modules/KIWIImageFormat.pm
index e02074c..e3a56fe 100644
--- a/modules/KIWIImageFormat.pm
+++ b/modules/KIWIImageFormat.pm
@@ -465,7 +465,7 @@ sub createXENConfiguration {
 	#------------------------------------------
 	if ($type{type} eq &quot;xen&quot;) {
 		print $FD 'root=&quot;'.$part.' ro&quot;'.&quot;\n&quot;;
-		print $FD 'extra=&quot; xencons=tty &quot;'.&quot;\n&quot;;
+		print $FD 'vfb = [&quot;type=vnc,vncunused=1,vnclisten=0.0.0.0&quot;]'.&quot;\n&quot;;
 	}
 	close $FD;
 	$kiwi -&gt; done();
diff --git a/modules/KIWILinuxRC.sh b/modules/KIWILinuxRC.sh
index 7a23ccc..085bfbc 100644
--- a/modules/KIWILinuxRC.sh
+++ b/modules/KIWILinuxRC.sh
@@ -2399,6 +2399,7 @@ function probeUSB {
 	local hwicmd=&quot;/usr/sbin/hwinfo&quot;
 	export HAVE_USB=&quot;no&quot;
 	export SCAN_USB=&quot;not-started&quot;
+	udevPending
 	if [ $HAVE_MODULES_ORDER = 0 ];then
 		#======================================
 		# load host controller modules
diff --git a/rpm/kiwi.changes b/rpm/kiwi.changes
index ac128f8..c8bdef0 100644
--- a/rpm/kiwi.changes
+++ b/rpm/kiwi.changes
@@ -1,4 +1,16 @@
 -------------------------------------------------------------------
+Fri Oct  8 09:57:03 CEST 2010 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>
+
+- added vfb (virtual framebuffer configuration) to the xenconfig file
+  written by kiwi. This allows easy graphics console access with
+  the virt-viewer program. If you want to run the xen domU in text
+  mode you have to manually pass the option xencons=tty in the pygrub
+  boot menu
+- removed xencons boot option for domU creation in .xenconfig
+  and from the bootloader kernel options (bnc #644138)
+- call udevPending before checking /sys/bus/usb/devices
+
+-------------------------------------------------------------------
 Thu Sep 30 14:42:58 CEST 2010 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>
 
 - fixed OEMRepartStandard(). Additionally to the last commit, fixed


hooks/post-receive
-- 
Project kiwi at BerliOS

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002722.html">[Kiwi-devel] xen img can't start
</A></li>
	<LI>Next message: <A HREF="002725.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 7d34bd83c7e630b672a804af7fd15fb5f0a29666
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2724">[ date ]</a>
              <a href="thread.html#2724">[ thread ]</a>
              <a href="subject.html#2724">[ subject ]</a>
              <a href="author.html#2724">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
