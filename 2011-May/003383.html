<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 05a0287e1fa039b2fc1623061dbd653aa0432495
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2011-May/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%2005a0287e1fa039b2fc1623061dbd653aa0432495&In-Reply-To=%3C20110504133222.EFEEC4813EE%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003384.html">
   <LINK REL="Next"  HREF="003385.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 05a0287e1fa039b2fc1623061dbd653aa0432495</H1>
    <B>marcus_schaefer at BerliOS</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%2005a0287e1fa039b2fc1623061dbd653aa0432495&In-Reply-To=%3C20110504133222.EFEEC4813EE%40sheep.berlios.de%3E"
       TITLE="[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 05a0287e1fa039b2fc1623061dbd653aa0432495">marcus_schaefer at mail.berlios.de
       </A><BR>
    <I>Wed May  4 15:32:22 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003384.html">[Kiwi-devel] fix dropping &lt;size&gt; if inserted in &lt;preferences&gt;
</A></li>
        <LI>Next message: <A HREF="003385.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 1efc39898dafac6098d9f118156f3e4b813d19c8
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3383">[ date ]</a>
              <a href="thread.html#3383">[ thread ]</a>
              <a href="subject.html#3383">[ subject ]</a>
              <a href="author.html#3383">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;Project kiwi at BerliOS&quot;.

The branch, master has been updated
       via  05a0287e1fa039b2fc1623061dbd653aa0432495 (commit)
      from  f6642e2a1c619091e78e19d34ea94798d9e7c873 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 05a0287e1fa039b2fc1623061dbd653aa0432495
Author: Marcus Sch&#195;&#164;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&gt;
Date:   Wed May 4 15:30:38 2011 +0200

    - fixed the problem where the &lt;size&gt; element is being dropped
      during XML file upgrade if the &lt;size&gt; element is specified as
      a child of &lt;preferences&gt;. The &lt;size&gt; element is moved to
      every &lt;type&gt;

-----------------------------------------------------------------------

Summary of changes:
diff --git a/xsl/convert39to41.xsl b/xsl/convert39to41.xsl
index 16c2c9e..ddfd2bc 100644
--- a/xsl/convert39to41.xsl
+++ b/xsl/convert39to41.xsl
@@ -104,19 +104,10 @@
             &lt;/type&gt;
         &lt;/xsl:when&gt;
         &lt;xsl:otherwise&gt;
-          &lt;xsl:choose&gt;
-            &lt;xsl:when test=&quot;@image&quot;&gt;
-              &lt;xsl:copy-of select=&quot;current()&quot;/&gt;
-            &lt;/xsl:when&gt;
-            &lt;xsl:otherwise&gt;
-                &lt;xsl:element name=&quot;type&quot;&gt;
-                    &lt;xsl:attribute name=&quot;image&quot;&gt;
-                        &lt;xsl:value-of select=&quot;current()&quot;/&gt;
-                    &lt;/xsl:attribute&gt;
-                    &lt;xsl:copy-of select=&quot;@*&quot;/&gt;
-                &lt;/xsl:element&gt;
-            &lt;/xsl:otherwise&gt;
-          &lt;/xsl:choose&gt;
+            &lt;type&gt;
+                &lt;xsl:call-template name=&quot;insertcomprops&quot; mode=&quot;conv39to41&quot;/&gt;
+                &lt;xsl:apply-templates select=&quot;*&quot;/&gt;
+            &lt;/type&gt;
         &lt;/xsl:otherwise&gt;
     &lt;/xsl:choose&gt;
 &lt;/xsl:template&gt;


hooks/post-receive
-- 
Project kiwi at BerliOS

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003384.html">[Kiwi-devel] fix dropping &lt;size&gt; if inserted in &lt;preferences&gt;
</A></li>
	<LI>Next message: <A HREF="003385.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 1efc39898dafac6098d9f118156f3e4b813d19c8
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3383">[ date ]</a>
              <a href="thread.html#3383">[ thread ]</a>
              <a href="subject.html#3383">[ subject ]</a>
              <a href="author.html#3383">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
