<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 5d9dcadd9a51386791805a22edffb616b95baec1
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%205d9dcadd9a51386791805a22edffb616b95baec1&In-Reply-To=%3C20110203141658.E49B348134F%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003020.html">
   <LINK REL="Next"  HREF="003022.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 5d9dcadd9a51386791805a22edffb616b95baec1</H1>
    <B>marcus_schaefer at BerliOS</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%205d9dcadd9a51386791805a22edffb616b95baec1&In-Reply-To=%3C20110203141658.E49B348134F%40sheep.berlios.de%3E"
       TITLE="[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 5d9dcadd9a51386791805a22edffb616b95baec1">marcus_schaefer at mail.berlios.de
       </A><BR>
    <I>Thu Feb  3 15:16:57 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003020.html">[Kiwi-devel] Updated examples and doc for EC2 - related to #667303
</A></li>
        <LI>Next message: <A HREF="003022.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 4902e377e83ddea6e3ad6a321b56c2f9e003720f
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3021">[ date ]</a>
              <a href="thread.html#3021">[ thread ]</a>
              <a href="subject.html#3021">[ subject ]</a>
              <a href="author.html#3021">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;Project kiwi at BerliOS&quot;.

The branch, master has been updated
       via  5d9dcadd9a51386791805a22edffb616b95baec1 (commit)
      from  1ce6fcfa13512c8df05f2e7b9f77fecd8981b2c0 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 5d9dcadd9a51386791805a22edffb616b95baec1
Author: Marcus Sch&#195;&#164;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&gt;
Date:   Thu Feb 3 15:16:03 2011 +0100

    - DB: update ec2 docs and examples per request in #667303

-----------------------------------------------------------------------

Summary of changes:
diff --git a/doc/KIWI::config.sh.1 b/doc/KIWI::config.sh.1
index 110c1f5..a98baa2 100644
--- a/doc/KIWI::config.sh.1
+++ b/doc/KIWI::config.sh.1
@@ -2,12 +2,12 @@
 .\&quot;     Title: kiwi::config.sh
 .\&quot;    Author: Marcus Sch&#195;&#164;fer &lt;ms (AT) suse.de&gt;
 .\&quot; Generator: DocBook XSL Stylesheets v1.76.1-RC1 &lt;<A HREF="http://docbook.sf.net/">http://docbook.sf.net/</A>&gt;
-.\&quot;      Date: Created: 02/01/2011
+.\&quot;      Date: Created: 02/03/2011
 .\&quot;    Manual: KIWI Manualpage
 .\&quot;    Source: KIWI 4.72
 .\&quot;  Language: English
 .\&quot;
-.TH &quot;KIWI::CONFIG\&amp;.SH&quot; &quot;1&quot; &quot;Created: 02/01/2011&quot; &quot;KIWI 4\&amp;.72&quot; &quot;KIWI Manualpage&quot;
+.TH &quot;KIWI::CONFIG\&amp;.SH&quot; &quot;1&quot; &quot;Created: 02/03/2011&quot; &quot;KIWI 4\&amp;.72&quot; &quot;KIWI Manualpage&quot;
 .\&quot; -----------------------------------------------------------------
 .\&quot; * Define some portability stuff
 .\&quot; -----------------------------------------------------------------
diff --git a/doc/KIWI::images.sh.1 b/doc/KIWI::images.sh.1
index 22d3063..c2b9ad6 100644
--- a/doc/KIWI::images.sh.1
+++ b/doc/KIWI::images.sh.1
@@ -2,12 +2,12 @@
 .\&quot;     Title: kiwi::images.sh
 .\&quot;    Author: Marcus Sch&#195;&#164;fer &lt;ms (AT) suse.de&gt;
 .\&quot; Generator: DocBook XSL Stylesheets v1.76.1-RC1 &lt;<A HREF="http://docbook.sf.net/">http://docbook.sf.net/</A>&gt;
-.\&quot;      Date: Created: 02/01/2011
+.\&quot;      Date: Created: 02/03/2011
 .\&quot;    Manual: KIWI Manualpage
 .\&quot;    Source: KIWI 4.72
 .\&quot;  Language: English
 .\&quot;
-.TH &quot;KIWI::IMAGES\&amp;.SH&quot; &quot;1&quot; &quot;Created: 02/01/2011&quot; &quot;KIWI 4\&amp;.72&quot; &quot;KIWI Manualpage&quot;
+.TH &quot;KIWI::IMAGES\&amp;.SH&quot; &quot;1&quot; &quot;Created: 02/03/2011&quot; &quot;KIWI 4\&amp;.72&quot; &quot;KIWI Manualpage&quot;
 .\&quot; -----------------------------------------------------------------
 .\&quot; * Define some portability stuff
 .\&quot; -----------------------------------------------------------------
diff --git a/doc/KIWI::kiwirc.1 b/doc/KIWI::kiwirc.1
index b633f23..ab73246 100644
--- a/doc/KIWI::kiwirc.1
+++ b/doc/KIWI::kiwirc.1
@@ -2,12 +2,12 @@
 .\&quot;     Title: kiwi::kiwirc
 .\&quot;    Author: Robert Schweikert &lt;rschweikert (AT) novell.com&gt;
 .\&quot; Generator: DocBook XSL Stylesheets v1.76.1-RC1 &lt;<A HREF="http://docbook.sf.net/">http://docbook.sf.net/</A>&gt;
-.\&quot;      Date: Created: 02/01/2011
+.\&quot;      Date: Created: 02/03/2011
 .\&quot;    Manual: KIWI Manualpage
 .\&quot;    Source: &gt;KIWI 4.72
 .\&quot;  Language: English
 .\&quot;
-.TH &quot;KIWI::KIWIRC&quot; &quot;1&quot; &quot;Created: 02/01/2011&quot; &quot;&gt;KIWI 4\&amp;.72&quot; &quot;KIWI Manualpage&quot;
+.TH &quot;KIWI::KIWIRC&quot; &quot;1&quot; &quot;Created: 02/03/2011&quot; &quot;&gt;KIWI 4\&amp;.72&quot; &quot;KIWI Manualpage&quot;
 .\&quot; -----------------------------------------------------------------
 .\&quot; * Define some portability stuff
 .\&quot; -----------------------------------------------------------------
diff --git a/doc/docbook/kiwi-doc-ec2.xml b/doc/docbook/kiwi-doc-ec2.xml
index 2977c19..39b139b 100644
--- a/doc/docbook/kiwi-doc-ec2.xml
+++ b/doc/docbook/kiwi-doc-ec2.xml
@@ -21,7 +21,7 @@
   &lt;/indexterm&gt;
   &lt;para&gt;The &lt;trademark&gt;Amazon Elastic Compute Cloud&lt;/trademark&gt; (Amazon
     EC2) web service provides you with the ability to execute arbitrary
-    applications in our computing environment. To use Amazon EC2 you
+	applications in the Amazon computing environment. To use Amazon EC2 you
     simply: &lt;/para&gt;
 
   &lt;procedure id=&quot;proc.ec2.using&quot;&gt;
@@ -35,150 +35,321 @@
         we are not allowed to distribute the tools which means you need
         to download, install and setup them from here:&lt;ulink
           url=&quot;<A HREF="http://aws.amazon.com/documentation/ec2/">http://aws.amazon.com/documentation/ec2/</A>&quot;/&gt;
+		software, including the operating system and associated
+        configuration settings, applications, libraries, etc.
       &lt;/para&gt;
     &lt;/step&gt;
     &lt;step&gt;
       &lt;para&gt;Upload this AMI to the Amazon S3 (Amazon Simple Storage
-        Service) service. This gives us reliable, secure access to your
-        AMI. &lt;/para&gt;
+	   Service) service.
+      &lt;/para&gt;	
     &lt;/step&gt;
     &lt;step&gt;
-      &lt;para&gt;Register your AMI with Amazon EC2. This allows us to verify
-        that your AMI has been uploaded correctly and to allocate a
-        unique identifier for it. &lt;/para&gt;
+      &lt;para&gt;Register your AMI with Amazon EC2.&lt;/para&gt;
     &lt;/step&gt;
     &lt;step&gt;
-      &lt;para&gt;Use this AMI ID and the Amazon EC2 web service APIs to run,
-        monitor, and terminate as many instances of this AMI as
-        required. Currently, Amazon provides command line tools and Java
-        libraries but you may also directly access the SOAP-based API.
+       &lt;para&gt;
+        Use the AMI ID created during registration to run your EC2 guest.
       &lt;/para&gt;
     &lt;/step&gt;
   &lt;/procedure&gt;
-
-  &lt;para&gt;Please note while instances are running, you are billed for the
-    computing and network resources that they consume. You should start
-    creating an EC2 with KIWI after you can make sure your system is
-    prepared for EC2 which means if you call the command
-      &lt;command&gt;ec2-describe-images&lt;/command&gt;
-    &lt;option&gt;-a&lt;/option&gt; you will get a valid output. &lt;/para&gt;
-  
+    &lt;para&gt;
+    KIWI creates an AMI using tools provided by Amazon. Due to
+    licensing issues it is not possible to distribute the Amazon tools with
+    your Linux distribution or KIWI. Amazon provides two sets of tools,
+    AMI tools and API tools. The tools can be downloaded from the Amazon
+    web site at &lt;ulink url=&quot;<A HREF="http://aws.amazon.com/developertools/368">http://aws.amazon.com/developertools/368</A>&quot;/&gt; and
+    &lt;ulink url=&quot;<A HREF="http://aws.amazon.com/developertools/351">http://aws.amazon.com/developertools/351</A>&quot;/&gt; respectively.
+    The documentation for the command line tools may be accessed on the
+    Amazon web-site as well at
+    &lt;ulink url=&quot;<A HREF="http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference">http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference</A>&quot;/&gt;. While KIWI only needs to interact with the AMI tools to create the
+    AMI you will also need to install the API tools to interact with EC2.
+    You must at least install the AMI tools to create an EC2 image with KIWI.
+    &lt;/para&gt;
+    &lt;para&gt;When working with the Amazon tools it is useful to set the
+    EC2_HOME, EC2_PRIVATE_KEY, and EC2_CERT environment variables. Setting
+    EC2_PRIVATE_KEY, and EC2_CERT allows you to forego specification of the
+    &lt;option&gt;--private-key&lt;/option&gt; and &lt;option&gt;--cert&lt;/option&gt; with every
+    command. The <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">EC at _HOME</A> environment variable is used by the tools to find
+    required libraries.
+    &lt;/para&gt;
+    &lt;itemizedlist&gt;
+      &lt;listitem&gt;&lt;para&gt;EC2_HOME&lt;/para&gt;
+        &lt;para&gt;Location of the bin and lib directories installed by the
+            Amazon tools. A good location for the tools on your
+            system is &lt;filename&gt;/usr/local&lt;/filename&gt;.
+        &lt;/para&gt;
+      &lt;/listitem&gt;
+      &lt;listitem&gt;&lt;para&gt;EC2_PRIVATE_KEY&lt;/para&gt;
+        &lt;para&gt;Path to your private key file (including the filename). For
+            example &lt;filename&gt;/home/USERNAME/AWS/keys/pk-....pem&lt;/filename&gt;
+        &lt;/para&gt;
+      &lt;/listitem&gt;
+      &lt;listitem&gt;&lt;para&gt;EC2_CERT&lt;/para&gt;
+        &lt;para&gt;Path to your certificate file (including the filename). For
+            example &lt;filename&gt;/home/USERNAME/AWS/keys/cert-....pem&lt;/filename&gt;
+        &lt;/para&gt;
+      &lt;/listitem&gt;
+    &lt;/itemizedlist&gt;
+    &lt;para&gt;Please note that your account will be billed by Amazon at the 
+     published rate for any computing resources you consume in EC2. This
+     includes but is not limited to, running instances, storing data
+     (your image) on S3 or EBS, and network traffic.
+    &lt;/para&gt;
+    
   &lt;sect1 id=&quot;sec.ec2.building&quot;&gt;
-    &lt;title&gt;Building the suse-xen-guest Example for EC2&lt;/title&gt;
-    &lt;para&gt;One example provided with KIWI is based on openSUSE 11.3 and
-      includes the base pattern plus the vim editor. &lt;/para&gt;
-
-    &lt;para&gt;Before you run KIWI you need to include some of your EC2
-      account information into the image description
-        &lt;filename&gt;config.xml&lt;/filename&gt; file. The box below shows the
-      values you need to adapt: &lt;/para&gt;
-
-    &lt;screen&gt;&lt;ec2config&gt; ec2accountnr=&quot;12345678911&quot;
-   ec2privatekeyfile=&quot;Path to EC2 private key file&quot; 
-   ec2certfile=&quot;Path to EC2 public certificate file&quot;
-&lt;/ec2config&gt;&lt;/screen&gt;
+    &lt;title&gt;Building the suse-ec2-guest Example&lt;/title&gt;
+    &lt;para&gt;The example provided with KIWI uses openSUSE as the base
+      distribution and includes the base pattern plus the vim editor.
+    &lt;/para&gt;
+    &lt;para&gt;Before building the EC2 example assure that the EC2 command line
+      tools are installed and work as expected. Executing the 
+      &lt;command&gt;ec2-describe-images&lt;/command&gt; &lt;option&gt;-a&lt;/option&gt; command
+      should return a list of all available instances in EC2. Further, you
+      need to edit the &lt;filename&gt;config.xml&lt;/filename&gt; file of the example
+      and enter your EC2 account information. Replace the values for
+      &lt;sgmltag class=&quot;element&quot;&gt;ec2accountnr&lt;/sgmltag&gt;,
+      &lt;sgmltag class=&quot;element&quot;&gt;ec2privatekeyfile&lt;/sgmltag&gt;, and
+      &lt;sgmltag class=&quot;element&quot;&gt;ec2certfile&lt;/sgmltag&gt;. Note that the account
+      number is displayed with dsahes ('-&quot;) on the Amazon web site, but the
+      entry in &lt;filename&gt;config.xml&lt;/filename&gt; is expected to be numeric only.
+      The private key file is the private file you downloaded when you
+      created the certificate. It is recommended to create a copy of the
+      example &lt;filename&gt;/usr/share/doc/packages/kiwi/examples/suse-&lt;replaceable&gt;Version&lt;/replaceable&gt;/suse-ec2-guest&lt;/filename&gt;.
+    &lt;/para&gt;
 
-    &lt;para&gt;After that call KIWI as follows: &lt;/para&gt;
+    &lt;para&gt;You are now ready to build the EC2 example. Lets assume you copied
+      the example configuration directory to /tmp prior to modifying the
+      &lt;filename&gt;config.xml&lt;/filename&gt; file.
+    &lt;/para&gt;
+ 
+    &lt;screen&gt;
+        &lt;command&gt;kiwi&lt;/command&gt; --prepare /tmp/suse-ec2-guest --root /tmp/myec2
+    &lt;/screen&gt;
 
-    &lt;screen&gt;&lt;command&gt;cd&lt;/command&gt; /usr/share/doc/packages/kiwi/examples 
-&lt;command&gt;cd&lt;/command&gt; suse-11.3
-&lt;command&gt;kiwi&lt;/command&gt; --prepare ./suse-xen-guest --add-profile \
-  ec2Flavour --root /tmp/myec2&lt;/screen&gt;
-
-    &lt;screen&gt;&lt;command&gt;kiwi&lt;/command&gt; --create /tmp/myec2 --add-profile \ 
- ec2Flavour --type vmx -d /tmp/myec2-result&lt;/screen&gt;
+    &lt;screen&gt;
+        &lt;command&gt;kiwi&lt;/command&gt; --create /tmp/myec2 -d /tmp/myec2-result -y
+    &lt;/screen&gt;
   &lt;/sect1&gt;
 
   &lt;sect1 id=&quot;sec.ec2.using&quot;&gt;
     &lt;title&gt;Using the Image&lt;/title&gt;
-    &lt;para&gt; The generated image needs to be transferred over to Amazon
-      which is done by the &lt;command&gt;ec2-upload-bundle&lt;/command&gt; tool.
-      You can do this by calling: &lt;/para&gt;
-
-    &lt;screen&gt;&lt;command&gt;ec2-upload-bundle&lt;/command&gt; -b myImages \
-      -a &lt;replaceable&gt;AWS_Key_ID&lt;/replaceable&gt; -s&lt;!--
+    &lt;para&gt; The generated image needs to be transfered to Amazon. The upload
+      of the AMI is performed using the &lt;command&gt;ec2-upload-bundle&lt;/command&gt;
+      command line tool. This tool is part of the API tools provided by Amazon.
+      Upload the AMI as follows, replacing 
+      &lt;replaceable&gt;AWS_Key_ID&lt;/replaceable&gt; and
+      &lt;replaceable&gt;AWS_secret_Key_ID&lt;/replaceable&gt; with your Amazon key
+      information. Also you may want to choose a different name for your
+      bucket than &lt;filename&gt;myImages&lt;/filename&gt;. If the bucket does not
+      exist in S3 it will be created.
+    &lt;/para&gt;
+    
+    &lt;screen&gt;&lt;command&gt;ec2-upload-bundle&lt;/command&gt; -b&lt;!--
+     --&gt; &lt;replaceable&gt;myImages&lt;/replaceable&gt; \
+        -a &lt;replaceable&gt;AWS_Key_ID&lt;/replaceable&gt; -s&lt;!--
      --&gt; &lt;replaceable&gt;AWS_secret_Key_ID&lt;/replaceable&gt; -m /tmp/myec2/ \
-      suse-11.1-xen-guest.i686-1.1.2.ami.manifest.xml &lt;/screen&gt;
+     suse-11.3-ec2-guest.i686-1.1.2.ec2/ \
+     suse-11.3-ec2-guest.i686-1.1.2.ami.manifest.xml
+    &lt;/screen&gt;
 
-    &lt;para&gt;After this is done the image needs to be registered in order
-      to receive a so called AMI id which starts with
-        &lt;quote&gt;ami-&lt;/quote&gt; followed by a random key sequence. To
-      register call: &lt;/para&gt;
+    &lt;para&gt;After the upload process is complete register your image with the
+      EC2 infrastructure using the &lt;command&gt;ec2-register&lt;/command&gt;
+      command as shown below. The result of the registration
+      process is an AMI ID returned on the command line in the form
+      &lt;quote&gt;ami-&lt;/quote&gt; followed by a random key sequence.
+    &lt;/para&gt;
 
     &lt;screen&gt;&lt;command&gt;ec2-register&lt;/command&gt; myImages/&lt;!--
-     --&gt; suse-11.1-xen-guest.i686-1.1.2.ami.manifest.xml &lt;/screen&gt;
-
-    &lt;para&gt;The result is the AMI id which you need to run an instance
-      from your image. The command
-        &lt;command&gt;ec2-describe-images&lt;/command&gt; allows you to review your
-      registered images. Since you will be running an instance of a
-      public AMI, you will need to use a public/private keypair to
-      ensure that only you will have access. One half of this keypair
-      will be embedded into your instance, allowing you to login
-      securely without a password using the other half of the keypair.
-      Every keypair you generate requires a name. Be sure to choose a
-      name that is easy to remember, perhaps one that describes the
-      image&#226;&#128;&#153;s content. For our example we&#226;&#128;&#153;ll use the name gsg-keypair. &lt;/para&gt;
+     --&gt; suse-11.3-ec2-guest.i686-1.1.2.ami.manifest.xml &lt;/screen&gt;
+
+    &lt;para&gt;Once the image is registered via the &lt;command&gt;ec2-register&lt;/command&gt;
+      command you can use the AWS management console in your browser to 
+      launch an instance of your image. It is alos possible to launch an
+      instance from the command line. This process is demonstrated below.
+      The &lt;command&gt;ec2-describe-images&lt;/command&gt; command will provide you
+      with an overview of all your registered images.
+    &lt;/para&gt;
+
+    &lt;para&gt;Prior to launching your instance from the command line you will need
+      to have a keypair. In the Web UI the launch wizard will guide you
+      through this process. The command line interface if the
+      &lt;command&gt;ec2-add-keypair&lt;/command&gt; command. The public/private
+      keypair is used to allow you to have access to your instance. If you
+      do not already have a keypair for interacting with EC2 images you can
+      generate a keypair as shown below. The 
+      &lt;replaceable&gt;gsg-keypair&lt;/replaceable&gt; name is used in this example,
+      but you can choose any name you like. As you will need to use the
+      key quite often you probably want a name that is easy to remember
+      and not too terribly long to type.
+    &lt;/para&gt;
 
     &lt;screen&gt;&lt;command&gt;ec2-add-keypair&lt;/command&gt; gsg-keypair &lt;/screen&gt;
 
-    &lt;para&gt;The private key returned needs to be saved in a local file so
-      that you can use it later. Using your favorite text editor, create
-      a file named &lt;filename&gt;id_rsa-gsg-keypair&lt;/filename&gt; and paste
+    &lt;para&gt;
+      Save the private key returned by the command in a local file.
+      Using your favorite text editor, create a file named 
+      &lt;filename&gt;id_rsa-gsg-keypair&lt;/filename&gt; and paste
       everything between (and including) the &lt;literal&gt;-----BEGIN RSA
-        PRIVATE KEY-----&lt;/literal&gt; and &lt;literal&gt;-----END RSA PRIVATE
-        KEY-----&lt;/literal&gt; lines into it. To review your keypairs call
-        &lt;command&gt;ec2-describe-keypairs&lt;/command&gt;. &lt;/para&gt;
-
-    &lt;para&gt;We are almost done now but to be able to run an instance it&#226;&#128;&#153;s
-      required to select an appropriate AKI ID from the &lt;xref 
-        linkend=&quot;tab.ec2.kernel-image-ids&quot; xrefstyle=&quot;select:title&quot;/&gt;  
-      table below. For this host,
-        &lt;emphasis&gt;aki-407d9529&lt;/emphasis&gt; is being chosen, because we
-      are bundling an AMI representing a virtual disk with PVGrub. If
-      the table below is outdated just check the current ID list at
-      Amazon directly &lt;/para&gt;
+      PRIVATE KEY-----&lt;/literal&gt; and &lt;literal&gt;-----END RSA PRIVATE
+      KEY-----&lt;/literal&gt; lines into it. To review your existing
+      keypairs use the &lt;command&gt;ec2-describe-keypairs&lt;/command&gt; command.
+    &lt;/para&gt;
+
+    &lt;para&gt;The Amazon EC2 infrastructure uses PVGrub (Para-Virtual Grub) to
+      boot instances of an image. Basically Amazon provides a minimal
+      Linux kernel that has parts of Grub built in and is specialized
+      to EC2. PVGrub at some point looks for and reads the 
+      &lt;filename&gt;/boot/grub/menu.lst&lt;/filename&gt; file in
+      your image and then boots the specified kernel. Each availability zone
+      in EC2 has it's own independent copy of this boot mechanism. Every boot
+      kernel has an ID starting with the TLA (Three Letter Acronym)
+      &lt;emphasis&gt;aki&lt;/emphasis&gt;. The 
+      &lt;xref linkend=&quot;tab.ec2.kernel-image-ids&quot; xrefstyle=&quot;select:title&quot;/&gt;
+      table below provides guidelines for the selection of the AKI ID.
 
     &lt;table id=&quot;tab.ec2.kernel-image-ids&quot;&gt;
       &lt;title&gt;Amazon Kernel Image IDs&lt;/title&gt;
-      &lt;tgroup cols=&quot;2&quot;&gt;
+      &lt;tgroup cols=&quot;4&quot;&gt;
+        &lt;colspec colwidth=&quot;1*&quot;/&gt;
+        &lt;colspec colwidth=&quot;1*&quot;/&gt;
         &lt;colspec colwidth=&quot;1*&quot;/&gt;
         &lt;colspec colwidth=&quot;4*&quot;/&gt;
         &lt;thead&gt;
           &lt;row&gt;
+            &lt;entry&gt;Zone&lt;/entry&gt;
             &lt;entry&gt;AKI&lt;/entry&gt;
+            &lt;entry&gt;Arch&lt;/entry&gt;
             &lt;entry&gt;Name&lt;/entry&gt;
           &lt;/row&gt;
         &lt;/thead&gt;
         &lt;tbody&gt;
           &lt;row&gt;
+            &lt;entry&gt;US-East&lt;/entry&gt;
             &lt;entry&gt;aki-407d9529&lt;/entry&gt;
+            &lt;entry&gt;x86&lt;/entry&gt;
             &lt;entry&gt;&lt;filename&gt;ec2-public-images/pv-grub-hd0-V1.01-i386.gz.manifest.xml&lt;/filename&gt;&lt;/entry&gt;
           &lt;/row&gt;
           &lt;row&gt;
+            &lt;entry&gt;US-East&lt;/entry&gt;
             &lt;entry&gt;aki-427d952b&lt;/entry&gt;
+            &lt;entry&gt;x86-64&lt;/entry&gt;
             &lt;entry&gt;&lt;filename&gt;ec2-public-images/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/filename&gt;&lt;/entry&gt;
           &lt;/row&gt;
+          &lt;row&gt;
+            &lt;entry&gt;US-West&lt;/entry&gt;
+            &lt;entry&gt;aki-99af01dc&lt;/entry&gt;
+            &lt;entry&gt;x86&lt;/entry&gt;
+            &lt;entry&gt;&lt;filename&gt;ec2-public-images-us-west-1/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/filename&gt;&lt;/entry&gt;
+          &lt;/row&gt;
+          &lt;row&gt;
+            &lt;entry&gt;US-West&lt;/entry&gt;
+            &lt;entry&gt;aki-99af01dc&lt;/entry&gt;
+            &lt;entry&gt;x86-64&lt;/entry&gt;
+            &lt;entry&gt;&lt;filename&gt;ec2-public-images-us-west-1/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/filename&gt;&lt;/entry&gt;
+          &lt;/row&gt;
+          &lt;row&gt;
+            &lt;entry&gt;EU-West&lt;/entry&gt;
+            &lt;entry&gt;aki-4deec439&lt;/entry&gt;
+            &lt;entry&gt;x86&lt;/entry&gt;
+            &lt;entry&gt;&lt;filename&gt;ec2-public-images-eu/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/filename&gt;&lt;/entry&gt;
+          &lt;/row&gt;
+          &lt;row&gt;
+            &lt;entry&gt;EU-West&lt;/entry&gt;
+            &lt;entry&gt;aki-4feec43b&lt;/entry&gt;
+            &lt;entry&gt;x86-64&lt;/entry&gt;
+            &lt;entry&gt;&lt;filename&gt;ec2-public-images-eu/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/filename&gt;&lt;/entry&gt;
+          &lt;/row&gt;
+          &lt;row&gt;
+            &lt;entry&gt;AP-SouthEast&lt;/entry&gt;
+            &lt;entry&gt;aki-13d5aa41&lt;/entry&gt;
+            &lt;entry&gt;x86&lt;/entry&gt;
+            &lt;entry&gt;&lt;filename&gt;ec2-public-images-ap-southeast-1/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/filename&gt;&lt;/entry&gt;
+          &lt;/row&gt;
+          &lt;row&gt;
+            &lt;entry&gt;AP-SouthEast&lt;/entry&gt;
+            &lt;entry&gt;aki-11d5aa43&lt;/entry&gt;
+            &lt;entry&gt;x86-64&lt;/entry&gt;
+            &lt;entry&gt;&lt;filename&gt;ec2-public-images-ap-southeast-1/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/filename&gt;&lt;/entry&gt;
+          &lt;/row&gt;
         &lt;/tbody&gt;
       &lt;/tgroup&gt;
     &lt;/table&gt;
-    
-    &lt;para&gt;Fire up your new ec2 instance with the following command: &lt;/para&gt;
+
+    &lt;/para&gt;
+
+    &lt;para&gt;The information in the table above was extracted from the Amazon
+      documentation found at: &lt;ulink
+      url=&quot;<A HREF="http://ec2-downloads.s3.amazonaws.com/user_specified_kernels.pdf">http://ec2-downloads.s3.amazonaws.com/user_specified_kernels.pdf</A>&quot;/&gt;.
+      Kiwi images created for EC2 do not contain a partition table. Therefore,
+      PVGrub images designated by &lt;emphasis&gt;h0&lt;/emphasis&gt; in the manifest name
+      need to be used with the images created by Kiwi.
+    &lt;/para&gt;
+
+    &lt;para&gt;With the appropriate boot kernel selected you can start your image.
+      In this example we use the x86 Kernel in the US-East availability
+      zone.
+    &lt;/para&gt;    
 
     &lt;screen&gt;&lt;command&gt;ec2-run-instances&lt;/command&gt; ami-... \
    --kernel aki-407d9529 \ 
    -k gsg-keypair &lt;/screen&gt;
 
-    &lt;para&gt;To check the state of your instance(s) call the 
+    &lt;para&gt;To check the state of your instance(s) use the
       command &lt;command&gt;ec2-describe-instances&lt;/command&gt;.&lt;/para&gt;
 
-    &lt;para&gt;If you see your instance at the status: &lt;emphasis 
-        &gt;running&lt;/emphasis&gt; you can login into it. If you can&#226;&#128;&#153;t make
-      sure you have allowed port 22 to be available &lt;/para&gt;
+    &lt;para&gt;Once the instance state is shown as &lt;emphasis 
+        &gt;running&lt;/emphasis&gt; you can login into it using ssh as follows:
+    &lt;/para&gt;
+
+    &lt;screen&gt;&lt;command&gt;ssh&lt;/command&gt; -i&lt;!--
+      --&gt; &lt;replaceable&gt;PATH_TO_PRIVATE_KEY&lt;/replaceable&gt; \
+      root@&lt;replaceable&gt;YOUR_INSTANCE_ID&lt;/replaceable&gt;
+    &lt;/screen&gt;
+
+    &lt;para&gt;If you are unable to log in, it is most likely that the security
+      setting for the instance is blocking the ssh access. To remedy this
+      problem open port 22 using the &lt;command&gt;ec2-authorize&lt;/command&gt;
+      command as shown below.
+    &lt;/para&gt;
 
     &lt;screen&gt;&lt;command&gt;ec2-authorize&lt;/command&gt; default -p 22 &lt;/screen&gt;
 
-    &lt;para&gt;Congratulations ! You made it and can now use Amazons storage
-      and computing power. &lt;/para&gt;
+    &lt;para&gt;A few more remarks about EC2 are in order. As you have seen at the
+     end of our example it is important that you include ssh in your image
+     and that you start the ssh daemon in your image. Starting the sshd 
+     process is accomplished by adding
+     &lt;emphasis&gt;suseInsertService sshd&lt;/emphasis&gt; in
+     &lt;filename&gt;config.sh&lt;/filename&gt;.
+   &lt;/para&gt;
+
+   &lt;para&gt;Earlier in the example you generated a keypair that was then used
+     to allow you to log into your running instance. The key does need to get
+     injected into the instance when you launch it. This key injection happens
+     through an init script &lt;filename&gt;/etc/init.d/amazon&lt;/filename&gt;. This 
+     script is provided by the &lt;filename&gt;suse-ami-tools&lt;/filename&gt; package.
+     Therefore, you need to include this package in the 
+     &lt;sgmltag class=&quot;element&quot;&gt;packages&lt;/sgmltag&gt; section of your
+     &lt;filename&gt;config.xml&lt;/filename&gt; file. You also need to make sure the
+     &lt;filename&gt;amazon&lt;/filename&gt; init script gets executed during boot by
+     using &lt;emphasis&gt;suseInsertService amazon&lt;/emphasis&gt; in your
+     &lt;filename&gt;config.sh&lt;/filename&gt; file.
+   &lt;/para&gt;
+
+   &lt;para&gt;Last but not least some information about the storage options. Amazon
+     offers S3 &lt;ulink url=&quot;<A HREF="http://aws.amazon.com/s3/">http://aws.amazon.com/s3/</A>&quot;/&gt; backed images
+     (this is what we have worked with in this example) and EBS
+     (Elastic Block Store) &lt;ulink url=&quot;<A HREF="http://aws.amazon.com/ebs/">http://aws.amazon.com/ebs/</A>&quot;/&gt; backed
+     images. At the time of this writing it is not possible to use an image 
+     format created by Kiwi with the Amazon tools directly to create an
+     EBS backed image. It is possible to create an EBS volume from a KIWI
+     raw image, but the process is cumbersome and requires a running Linux
+     instance in EC2. It is anticipated that at some point in the future the
+     Amazon team will address this problem and that the
+     &lt;command&gt;ec2-import-instance&lt;/command&gt; command in conjunction with the
+     &lt;command&gt;ec2-upload-disk-image&lt;/command&gt; command will be able to create
+     EBS volumes from Linux based disk images. At this point you will be able
+     to use the raw image created by KIWI to create an EBS backed image.
+   &lt;/para&gt;
   &lt;/sect1&gt;
 &lt;/chapter&gt;
diff --git a/doc/examples/suse-11.2/suse-ec2-guest.readme b/doc/examples/suse-11.2/suse-ec2-guest.readme
new file mode 100644
index 0000000..4eff527
--- /dev/null
+++ b/doc/examples/suse-11.2/suse-ec2-guest.readme
@@ -0,0 +1,52 @@
+KIWI Image Description Example
+==============================
+* An EC2 image is a filesystem image that is configured to operate inside
+  the Amazon Elastic Compute Cloud infrastructure. While EC2 is based on Xen,
+  the Ec2 infrastructure is sufficiently different from a SUSE Xen based 
+  environment to require a different setup.
+
+How to build this Example
+==============================
+
+    kiwi --prepare \
+         /usr/share/doc/packages/kiwi/examples/suse-11.2/suse-xen-guest \
+         --root /tmp/myec2
+
+    kiwi --create /tmp/myec2 -d /tmp/myec2-result
+
+How to test this Example
+==============================
+* You need an EC2 account to test the image. Kiwi generated the AMI bundle
+  for you. Upload the bundel with the eEC2 tools  obtained from Amazon
+  <A HREF="http://aws.amazon.com/developertools/351?_encoding=UTF8&amp;jiveRedirect=1">http://aws.amazon.com/developertools/351?_encoding=UTF8&amp;jiveRedirect=1</A>
+  <A HREF="http://aws.amazon.com/developertools/368?_encoding=UTF8&amp;jiveRedirect=1">http://aws.amazon.com/developertools/368?_encoding=UTF8&amp;jiveRedirect=1</A>
+
+  ec2-upload-bundle -b &lt;BUCKET_NAME&gt; \
+                    -m /tmp/myec2-result/&lt;BUNDLE_DIR&gt;/&lt;MANIFEST_NAME&gt; \
+                    -a &lt;ACCESS_KEY&gt; \
+                    -s &lt;SECRET_KEY&gt;
+
+  This will create a bucket on the AWS (Amazon Web Services) S3 storage system,
+  if the bucket does not already exist.
+
+  ec2-register &lt;BUCKET_NAME&gt;/&lt;MANIFEST_NAME&gt;
+
+  For help with the EC2 tools you may use the --help commandline option or
+  see the online help:
+  <A HREF="http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference/">http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference/</A>
+
+  Once your bundle has been uploaded and registered you can launch it using the
+  AWS Web UI. Note when launching an instance you will need to select a boot 
+  kernel in the launch wizard. Boot kernels are region specific and start with
+  aki. You can find the list off bott kernel names per reginon in the
+  following document.
+  <A HREF="http://ec2-downloads.s3.amazonaws.com/user_specified_kernels.pdf">http://ec2-downloads.s3.amazonaws.com/user_specified_kernels.pdf</A>
+
+  It may be useful to set the following environment variables:
+  EC2_HOME &lt;LOCATION_OF_BIN_AND_LIB_OF AMAZON_TOOLS&gt;
+  EC2_PRIVATE_KEY &lt;PRIVATE_KEY_FILE_PATH&gt;
+  EC2_CER &lt;CERT_FILE_PATH&gt;
+
+Login Details
+==============================
+* User root pwd: linux
diff --git a/doc/examples/suse-11.2/suse-xen-guest/config.sh b/doc/examples/suse-11.2/suse-ec2-guest/config.sh
old mode 100755
new mode 100644
similarity index 90%
copy from doc/examples/suse-11.2/suse-xen-guest/config.sh
copy to doc/examples/suse-11.2/suse-ec2-guest/config.sh
index 914e1ac..e3c80f6
--- a/doc/examples/suse-11.2/suse-xen-guest/config.sh
+++ b/doc/examples/suse-11.2/suse-ec2-guest/config.sh
@@ -35,16 +35,14 @@ suseSetupProduct
 # Activate services
 #--------------------------------------
 suseActivateDefaultServices
+suseInsertService amazon
 suseInsertService boot.device-mapper
-suseInsertService sshd
 suseInsertService boot.xen
+suseInsertService sshd
 
 #======================================
 # SuSEconfig
 #--------------------------------------
-baseUpdateSysConfig /etc/sysconfig/windowmanager DEFAULT_WM kde
-baseUpdateSysConfig /etc/sysconfig/displaymanager DISPLAYMANAGER kdm
-baseSetRunlevel 5
 suseConfig
 
 #======================================
diff --git a/doc/examples/suse-11.2/suse-xen-guest/config.xml b/doc/examples/suse-11.2/suse-ec2-guest/config.xml
similarity index 55%
copy from doc/examples/suse-11.2/suse-xen-guest/config.xml
copy to doc/examples/suse-11.2/suse-ec2-guest/config.xml
index 510ab01..ae06b50 100644
--- a/doc/examples/suse-11.2/suse-xen-guest/config.xml
+++ b/doc/examples/suse-11.2/suse-ec2-guest/config.xml
@@ -1,15 +1,10 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
-
-&lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.2-xen-guest&quot;&gt;
+&lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.2-ec2-guest&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#195;&#164;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
-		&lt;specification&gt;openSUSE 11.2 xen guest system&lt;/specification&gt;
+		&lt;specification&gt;openSUSE 11.2 ec2 guest system&lt;/specification&gt;
 	&lt;/description&gt;
-	&lt;profiles&gt;
-		&lt;profile name=&quot;xenFlavour&quot; description=&quot;VMX with Xen kernel&quot; import=&quot;true&quot;/&gt;
-		&lt;profile name=&quot;ec2Flavour&quot; description=&quot;VMX with default kernel&quot;/&gt;
-	&lt;/profiles&gt;
 	&lt;preferences&gt;
 		&lt;version&gt;1.1.2&lt;/version&gt;
 		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
@@ -18,20 +13,8 @@
 		&lt;locale&gt;en_US&lt;/locale&gt;
 		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
 	&lt;/preferences&gt;
-	&lt;preferences profiles=&quot;xenFlavour&quot;&gt;
-		&lt;type image=&quot;vmx&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.2&quot; bootprofile=&quot;xen&quot; bootkernel=&quot;xenk&quot;&gt;
-			&lt;machine memory=&quot;128&quot; domain=&quot;domU&quot;&gt;
-				&lt;vmdisk controller=&quot;ide&quot; id=&quot;0&quot; device=&quot;/dev/xvda&quot;/&gt;
-				&lt;vmnic interface=&quot;br0&quot; mac=&quot;00:0C:6E:AA:57:2F&quot;/&gt;
-			&lt;/machine&gt;
-		&lt;/type&gt;
-	&lt;/preferences&gt;
-	&lt;preferences profiles=&quot;ec2Flavour&quot;&gt;
-		&lt;type image=&quot;vmx&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.2&quot; bootprofile=&quot;xen&quot; bootkernel=&quot;ec2&quot; format=&quot;ec2&quot;&gt;
-			&lt;machine memory=&quot;128&quot; domain=&quot;domU&quot;&gt;
-				&lt;vmdisk controller=&quot;ide&quot; id=&quot;0&quot; device=&quot;/dev/xvda&quot;/&gt;
-				&lt;vmnic interface=&quot;br0&quot; mac=&quot;00:0C:6E:AA:57:2F&quot;/&gt;
-			&lt;/machine&gt;
+	&lt;preferences&gt;
+		&lt;type image=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.2&quot; bootprofile=&quot;xen&quot; bootkernel=&quot;ec2&quot; format=&quot;ec2&quot;&gt;
 			&lt;ec2config&gt;
 				&lt;ec2privatekeyfile&gt;Path to EC2 private key file&lt;/ec2privatekeyfile&gt;
 				&lt;ec2certfile&gt;Path to EC2 public certificate file&lt;/ec2certfile&gt;
@@ -45,21 +28,23 @@
 	&lt;repository type=&quot;yast2&quot;&gt;
 		&lt;source path=&quot;<A HREF="opensuse://11.2/repo/oss/">opensuse://11.2/repo/oss/</A>&quot;/&gt;
 	&lt;/repository&gt;
+    &lt;repository type=&quot;rpm-md&quot;&gt;
+        &lt;source path=&quot;<A HREF="opensuse://Kernel:/stable/openSUSE_11.2">opensuse://Kernel:/stable/openSUSE_11.2</A>&quot;/&gt;
+	&lt;/repository&gt;
+    &lt;repository type=&quot;rpm-md&quot;&gt;
+        &lt;source path=&quot;opensuse:Virtualization:/Cloud:/EC2/openSUSE_11.2&quot;/&gt;
+    &lt;/repository&gt;
 	&lt;packages type=&quot;image&quot;&gt;
 		&lt;package name=&quot;bootsplash-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
 		&lt;package name=&quot;gfxboot-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
 		&lt;package name=&quot;ifplugd&quot;/&gt;
+		&lt;package name=&quot;kernel-ec2&quot; replaces=&quot;kernel-xen&quot;/&gt;
+        &lt;package name=&quot;suse-ami-tools&quot;/&gt;
 		&lt;package name=&quot;vim&quot;/&gt;
 		&lt;package name=&quot;xen-tools-domU&quot;/&gt;
 		&lt;package name=&quot;xen&quot;/&gt;
 		&lt;opensusePattern name=&quot;base&quot;/&gt;
 	&lt;/packages&gt;
-	&lt;packages type=&quot;image&quot; profiles=&quot;xenFlavour&quot;&gt;
-		&lt;package name=&quot;kernel-xen&quot; replaces=&quot;kernel-ec2&quot;/&gt;
-	&lt;/packages&gt;
-	&lt;packages type=&quot;image&quot; profiles=&quot;ec2Flavour&quot;&gt;
-		&lt;package name=&quot;kernel-ec2&quot; replaces=&quot;kernel-xen&quot;/&gt;
-	&lt;/packages&gt;
 	&lt;packages type=&quot;bootstrap&quot;&gt;
 		&lt;package name=&quot;filesystem&quot;/&gt;
 		&lt;package name=&quot;glibc-locale&quot;/&gt;
diff --git a/doc/examples/suse-11.2/suse-live-iso/root/etc/init.d/boot b/doc/examples/suse-11.2/suse-ec2-guest/root/etc/init.d/boot
old mode 100755
new mode 100644
similarity index 100%
copy from doc/examples/suse-11.2/suse-live-iso/root/etc/init.d/boot
copy to doc/examples/suse-11.2/suse-ec2-guest/root/etc/init.d/boot
diff --git a/doc/examples/suse-11.2/suse-xen-guest/root/etc/init.d/boot.xen b/doc/examples/suse-11.2/suse-ec2-guest/root/etc/init.d/boot.xen
old mode 100755
new mode 100644
similarity index 100%
copy from doc/examples/suse-11.2/suse-xen-guest/root/etc/init.d/boot.xen
copy to doc/examples/suse-11.2/suse-ec2-guest/root/etc/init.d/boot.xen
diff --git a/doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/bootloader b/doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/bootloader
similarity index 100%
copy from doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/bootloader
copy to doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/bootloader
diff --git a/doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/bootsplash b/doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/bootsplash
similarity index 100%
copy from doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/bootsplash
copy to doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/bootsplash
diff --git a/doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/console b/doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/console
similarity index 100%
copy from doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/console
copy to doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/console
diff --git a/doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/keyboard b/doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/keyboard
similarity index 100%
copy from doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/keyboard
copy to doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/keyboard
diff --git a/doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/config b/doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/network/config
similarity index 100%
copy from doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/config
copy to doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/network/config
diff --git a/doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/dhcp b/doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/network/dhcp
similarity index 100%
copy from doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/dhcp
copy to doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/network/dhcp
diff --git a/doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/ifcfg-eth0 b/doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/network/ifcfg-eth0
similarity index 100%
copy from doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/ifcfg-eth0
copy to doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/network/ifcfg-eth0
diff --git a/doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/ifcfg-lo b/doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/network/ifcfg-lo
similarity index 100%
copy from doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/ifcfg-lo
copy to doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/network/ifcfg-lo
diff --git a/doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/ifroute-lo b/doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/network/ifroute-lo
similarity index 100%
copy from doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/ifroute-lo
copy to doc/examples/suse-11.2/suse-ec2-guest/root/etc/sysconfig/network/ifroute-lo
diff --git a/doc/examples/suse-11.2/suse-xen-guest.readme b/doc/examples/suse-11.2/suse-xen-guest.readme
index 6073960..a0915f5 100644
--- a/doc/examples/suse-11.2/suse-xen-guest.readme
+++ b/doc/examples/suse-11.2/suse-xen-guest.readme
@@ -10,7 +10,7 @@ How to build this Example
          /usr/share/doc/packages/kiwi/examples/suse-11.2/suse-xen-guest \
          --root /tmp/myxen
 
-    kiwi --create /tmp/myxen --type vmx -d /tmp/myxen-result
+    kiwi --create /tmp/myxen -d /tmp/myxen-result
 
 How to test this Example
 ==============================
diff --git a/doc/examples/suse-11.2/suse-xen-guest/config.sh b/doc/examples/suse-11.2/suse-xen-guest/config.sh
index 914e1ac..da525c3 100755
--- a/doc/examples/suse-11.2/suse-xen-guest/config.sh
+++ b/doc/examples/suse-11.2/suse-xen-guest/config.sh
@@ -42,9 +42,6 @@ suseInsertService boot.xen
 #======================================
 # SuSEconfig
 #--------------------------------------
-baseUpdateSysConfig /etc/sysconfig/windowmanager DEFAULT_WM kde
-baseUpdateSysConfig /etc/sysconfig/displaymanager DISPLAYMANAGER kdm
-baseSetRunlevel 5
 suseConfig
 
 #======================================
diff --git a/doc/examples/suse-11.2/suse-xen-guest/config.xml b/doc/examples/suse-11.2/suse-xen-guest/config.xml
index 510ab01..44c355e 100644
--- a/doc/examples/suse-11.2/suse-xen-guest/config.xml
+++ b/doc/examples/suse-11.2/suse-xen-guest/config.xml
@@ -1,15 +1,10 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
-
 &lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.2-xen-guest&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#195;&#164;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
 		&lt;specification&gt;openSUSE 11.2 xen guest system&lt;/specification&gt;
 	&lt;/description&gt;
-	&lt;profiles&gt;
-		&lt;profile name=&quot;xenFlavour&quot; description=&quot;VMX with Xen kernel&quot; import=&quot;true&quot;/&gt;
-		&lt;profile name=&quot;ec2Flavour&quot; description=&quot;VMX with default kernel&quot;/&gt;
-	&lt;/profiles&gt;
 	&lt;preferences&gt;
 		&lt;version&gt;1.1.2&lt;/version&gt;
 		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
@@ -18,7 +13,7 @@
 		&lt;locale&gt;en_US&lt;/locale&gt;
 		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
 	&lt;/preferences&gt;
-	&lt;preferences profiles=&quot;xenFlavour&quot;&gt;
+	&lt;preferences&gt;
 		&lt;type image=&quot;vmx&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.2&quot; bootprofile=&quot;xen&quot; bootkernel=&quot;xenk&quot;&gt;
 			&lt;machine memory=&quot;128&quot; domain=&quot;domU&quot;&gt;
 				&lt;vmdisk controller=&quot;ide&quot; id=&quot;0&quot; device=&quot;/dev/xvda&quot;/&gt;
@@ -26,19 +21,6 @@
 			&lt;/machine&gt;
 		&lt;/type&gt;
 	&lt;/preferences&gt;
-	&lt;preferences profiles=&quot;ec2Flavour&quot;&gt;
-		&lt;type image=&quot;vmx&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.2&quot; bootprofile=&quot;xen&quot; bootkernel=&quot;ec2&quot; format=&quot;ec2&quot;&gt;
-			&lt;machine memory=&quot;128&quot; domain=&quot;domU&quot;&gt;
-				&lt;vmdisk controller=&quot;ide&quot; id=&quot;0&quot; device=&quot;/dev/xvda&quot;/&gt;
-				&lt;vmnic interface=&quot;br0&quot; mac=&quot;00:0C:6E:AA:57:2F&quot;/&gt;
-			&lt;/machine&gt;
-			&lt;ec2config&gt;
-				&lt;ec2privatekeyfile&gt;Path to EC2 private key file&lt;/ec2privatekeyfile&gt;
-				&lt;ec2certfile&gt;Path to EC2 public certificate file&lt;/ec2certfile&gt;
-				&lt;ec2accountnr&gt;12345678911&lt;/ec2accountnr&gt;
-			&lt;/ec2config&gt;
-		&lt;/type&gt;
-	&lt;/preferences&gt;
 	&lt;users group=&quot;root&quot;&gt;
 		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/root&quot; name=&quot;root&quot;/&gt;
 	&lt;/users&gt;
@@ -49,17 +31,12 @@
 		&lt;package name=&quot;bootsplash-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
 		&lt;package name=&quot;gfxboot-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
 		&lt;package name=&quot;ifplugd&quot;/&gt;
+		&lt;package name=&quot;kernel-xen&quot; replaces=&quot;kernel-default&quot;/&gt;
 		&lt;package name=&quot;vim&quot;/&gt;
 		&lt;package name=&quot;xen-tools-domU&quot;/&gt;
 		&lt;package name=&quot;xen&quot;/&gt;
 		&lt;opensusePattern name=&quot;base&quot;/&gt;
 	&lt;/packages&gt;
-	&lt;packages type=&quot;image&quot; profiles=&quot;xenFlavour&quot;&gt;
-		&lt;package name=&quot;kernel-xen&quot; replaces=&quot;kernel-ec2&quot;/&gt;
-	&lt;/packages&gt;
-	&lt;packages type=&quot;image&quot; profiles=&quot;ec2Flavour&quot;&gt;
-		&lt;package name=&quot;kernel-ec2&quot; replaces=&quot;kernel-xen&quot;/&gt;
-	&lt;/packages&gt;
 	&lt;packages type=&quot;bootstrap&quot;&gt;
 		&lt;package name=&quot;filesystem&quot;/&gt;
 		&lt;package name=&quot;glibc-locale&quot;/&gt;
diff --git a/doc/examples/suse-11.3/suse-ec2-guest.readme b/doc/examples/suse-11.3/suse-ec2-guest.readme
new file mode 100644
index 0000000..e8ec21a
--- /dev/null
+++ b/doc/examples/suse-11.3/suse-ec2-guest.readme
@@ -0,0 +1,52 @@
+KIWI Image Description Example
+==============================
+* An EC2 image is a filesystem image that is configured to operate inside
+  the Amazon Elastic Compute Cloud infrastructure. While EC2 is based on Xen,
+  the Ec2 infrastructure is sufficiently different from a SUSE Xen based 
+  environment to require a different setup.
+
+How to build this Example
+==============================
+
+    kiwi --prepare \
+         /usr/share/doc/packages/kiwi/examples/suse-11.3/suse-xen-guest \
+         --root /tmp/myec2
+
+    kiwi --create /tmp/myec2 -d /tmp/myec2-result
+
+How to test this Example
+==============================
+* You need an EC2 account to test the image. Kiwi generated the AMI bundle
+  for you. Upload the bundel with the eEC2 tools  obtained from Amazon
+  <A HREF="http://aws.amazon.com/developertools/351?_encoding=UTF8&amp;jiveRedirect=1">http://aws.amazon.com/developertools/351?_encoding=UTF8&amp;jiveRedirect=1</A>
+  <A HREF="http://aws.amazon.com/developertools/368?_encoding=UTF8&amp;jiveRedirect=1">http://aws.amazon.com/developertools/368?_encoding=UTF8&amp;jiveRedirect=1</A>
+
+  ec2-upload-bundle -b &lt;BUCKET_NAME&gt; \
+                    -m /tmp/myec2-result/&lt;BUNDLE_DIR&gt;/&lt;MANIFEST_NAME&gt; \
+                    -a &lt;ACCESS_KEY&gt; \
+                    -s &lt;SECRET_KEY&gt;
+
+  This will create a bucket on the AWS (Amazon Web Services) S3 storage system,
+  if the bucket does not already exist.
+
+  ec2-register &lt;BUCKET_NAME&gt;/&lt;MANIFEST_NAME&gt;
+
+  For help with the EC2 tools you may use the --help commandline option or
+  see the online help:
+  <A HREF="http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference/">http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference/</A>
+
+  Once your bundle has been uploaded and registered you can launch it using the
+  AWS Web UI. Note when launching an instance you will need to select a boot 
+  kernel in the launch wizard. Boot kernels are region specific and start with
+  aki. You can find the list off bott kernel names per reginon in the
+  following document.
+  <A HREF="http://ec2-downloads.s3.amazonaws.com/user_specified_kernels.pdf">http://ec2-downloads.s3.amazonaws.com/user_specified_kernels.pdf</A>
+
+  It may be useful to set the following environment variables:
+  EC2_HOME &lt;LOCATION_OF_BIN_AND_LIB_OF AMAZON_TOOLS&gt;
+  EC2_PRIVATE_KEY &lt;PRIVATE_KEY_FILE_PATH&gt;
+  EC2_CER &lt;CERT_FILE_PATH&gt;
+
+Login Details
+==============================
+* User root pwd: linux
diff --git a/doc/examples/suse-11.3/suse-xen-guest/config.sh b/doc/examples/suse-11.3/suse-ec2-guest/config.sh
old mode 100755
new mode 100644
similarity index 90%
copy from doc/examples/suse-11.3/suse-xen-guest/config.sh
copy to doc/examples/suse-11.3/suse-ec2-guest/config.sh
index 4f35644..bcd77ec
--- a/doc/examples/suse-11.3/suse-xen-guest/config.sh
+++ b/doc/examples/suse-11.3/suse-ec2-guest/config.sh
@@ -35,15 +35,13 @@ suseSetupProduct
 # Activate services
 #--------------------------------------
 suseActivateDefaultServices
+suseInsertService amazon
 suseInsertService boot.device-mapper
 suseInsertService sshd
 
 #======================================
 # SuSEconfig
 #--------------------------------------
-baseUpdateSysConfig /etc/sysconfig/windowmanager DEFAULT_WM kde
-baseUpdateSysConfig /etc/sysconfig/displaymanager DISPLAYMANAGER kdm
-baseSetRunlevel 5
 suseConfig
 
 #======================================
diff --git a/doc/examples/suse-11.3/suse-vm-guest/config.xml b/doc/examples/suse-11.3/suse-ec2-guest/config.xml
similarity index 57%
copy from doc/examples/suse-11.3/suse-vm-guest/config.xml
copy to doc/examples/suse-11.3/suse-ec2-guest/config.xml
index 932eecc..4217576 100644
--- a/doc/examples/suse-11.3/suse-vm-guest/config.xml
+++ b/doc/examples/suse-11.3/suse-ec2-guest/config.xml
@@ -1,17 +1,11 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
-
-&lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.3-vm-guest&quot;&gt;
+&lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.3-ec2-guest&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#195;&#164;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
-		&lt;specification&gt;openSUSE 11.3 virtual disk system&lt;/specification&gt;
+		&lt;specification&gt;openSUSE 11.3 ec2 guest system&lt;/specification&gt;
 	&lt;/description&gt;
 	&lt;preferences&gt;
-		&lt;type image=&quot;vmx&quot; primary=&quot;true&quot; filesystem=&quot;ext4&quot; boot=&quot;vmxboot/suse-11.3&quot; format=&quot;vmdk&quot;&gt;
-			&lt;machine memory=&quot;512&quot;&gt;
-				&lt;vmdisk controller=&quot;ide&quot; id=&quot;0&quot;/&gt;
-			&lt;/machine&gt;
-		&lt;/type&gt;
 		&lt;version&gt;1.1.2&lt;/version&gt;
 		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
 		&lt;rpm-check-signatures&gt;false&lt;/rpm-check-signatures&gt;
@@ -19,21 +13,35 @@
 		&lt;locale&gt;en_US&lt;/locale&gt;
 		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
 	&lt;/preferences&gt;
+	&lt;preferences&gt;
+		&lt;type image=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.3&quot; bootprofile=&quot;xen&quot; bootkernel=&quot;ec2&quot; format=&quot;ec2&quot;&gt;
+			&lt;ec2config&gt;
+				&lt;ec2privatekeyfile&gt;Path to EC2 private key file&lt;/ec2privatekeyfile&gt;
+				&lt;ec2certfile&gt;Path to EC2 public certificate file&lt;/ec2certfile&gt;
+				&lt;ec2accountnr&gt;12345678911&lt;/ec2accountnr&gt;
+			&lt;/ec2config&gt;
+		&lt;/type&gt;
+	&lt;/preferences&gt;
 	&lt;users group=&quot;root&quot;&gt;
 		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/root&quot; name=&quot;root&quot;/&gt;
 	&lt;/users&gt;
 	&lt;repository type=&quot;yast2&quot;&gt;
 		&lt;source path=&quot;<A HREF="opensuse://11.3/repo/oss/">opensuse://11.3/repo/oss/</A>&quot;/&gt;
 	&lt;/repository&gt;
+    &lt;repository type=&quot;rpm-md&quot;&gt;
+        &lt;source path=&quot;opensuse:Virtualization:/Cloud:/EC2/openSUSE_11.3&quot;/&gt;
+    &lt;/repository&gt;
 	&lt;packages type=&quot;image&quot;&gt;
 		&lt;package name=&quot;bootsplash-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
 		&lt;package name=&quot;gfxboot-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
-		&lt;package name=&quot;kernel-default&quot;/&gt;
 		&lt;package name=&quot;ifplugd&quot;/&gt;
+		&lt;package name=&quot;kernel-ec2&quot; replaces=&quot;kernel-xen&quot;/&gt;
+        &lt;package name=&quot;suse-ami-tools&quot;/&gt;
 		&lt;package name=&quot;vim&quot;/&gt;
+		&lt;package name=&quot;xen-tools-domU&quot;/&gt;
+		&lt;package name=&quot;xen&quot;/&gt;
 		&lt;opensusePattern name=&quot;base&quot;/&gt;
 	&lt;/packages&gt;
-	&lt;packages type=&quot;vmx&quot;/&gt;
 	&lt;packages type=&quot;bootstrap&quot;&gt;
 		&lt;package name=&quot;filesystem&quot;/&gt;
 		&lt;package name=&quot;glibc-locale&quot;/&gt;
diff --git a/doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/ifcfg-eth0 b/doc/examples/suse-11.3/suse-ec2-guest/root/etc/sysconfig/network/ifcfg-eth0
similarity index 100%
copy from doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/ifcfg-eth0
copy to doc/examples/suse-11.3/suse-ec2-guest/root/etc/sysconfig/network/ifcfg-eth0
diff --git a/doc/examples/suse-11.3/suse-xen-guest.readme b/doc/examples/suse-11.3/suse-xen-guest.readme
index cfb64ea..7a391b2 100644
--- a/doc/examples/suse-11.3/suse-xen-guest.readme
+++ b/doc/examples/suse-11.3/suse-xen-guest.readme
@@ -10,7 +10,7 @@ How to build this Example
          /usr/share/doc/packages/kiwi/examples/suse-11.3/suse-xen-guest \
          --root /tmp/myxen
 
-    kiwi --create /tmp/myxen --type vmx -d /tmp/myxen-result
+    kiwi --create /tmp/myxen -d /tmp/myxen-result
 
 How to test this Example
 ==============================
diff --git a/doc/examples/suse-11.3/suse-xen-guest/config.sh b/doc/examples/suse-11.3/suse-xen-guest/config.sh
index 4f35644..098002e 100755
--- a/doc/examples/suse-11.3/suse-xen-guest/config.sh
+++ b/doc/examples/suse-11.3/suse-xen-guest/config.sh
@@ -41,9 +41,6 @@ suseInsertService sshd
 #======================================
 # SuSEconfig
 #--------------------------------------
-baseUpdateSysConfig /etc/sysconfig/windowmanager DEFAULT_WM kde
-baseUpdateSysConfig /etc/sysconfig/displaymanager DISPLAYMANAGER kdm
-baseSetRunlevel 5
 suseConfig
 
 #======================================
diff --git a/doc/examples/suse-11.3/suse-xen-guest/config.xml b/doc/examples/suse-11.3/suse-xen-guest/config.xml
index 8af7b3b..35765e4 100644
--- a/doc/examples/suse-11.3/suse-xen-guest/config.xml
+++ b/doc/examples/suse-11.3/suse-xen-guest/config.xml
@@ -1,15 +1,10 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
-
 &lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.3-xen-guest&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#195;&#164;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
 		&lt;specification&gt;openSUSE 11.3 xen guest system&lt;/specification&gt;
 	&lt;/description&gt;
-	&lt;profiles&gt;
-		&lt;profile name=&quot;xenFlavour&quot; description=&quot;VMX with Xen kernel&quot; import=&quot;true&quot;/&gt;
-		&lt;profile name=&quot;ec2Flavour&quot; description=&quot;VMX with default kernel&quot;/&gt;
-	&lt;/profiles&gt;
 	&lt;preferences&gt;
 		&lt;version&gt;1.1.2&lt;/version&gt;
 		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
@@ -18,7 +13,7 @@
 		&lt;locale&gt;en_US&lt;/locale&gt;
 		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
 	&lt;/preferences&gt;
-	&lt;preferences profiles=&quot;xenFlavour&quot;&gt;
+	&lt;preferences&gt;
 		&lt;type image=&quot;vmx&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.3&quot; bootprofile=&quot;xen&quot; bootkernel=&quot;xenk&quot;&gt;
 			&lt;machine memory=&quot;128&quot; domain=&quot;domU&quot;&gt;
 				&lt;vmdisk controller=&quot;ide&quot; id=&quot;0&quot; device=&quot;/dev/xvda&quot;/&gt;
@@ -26,19 +21,6 @@
 			&lt;/machine&gt;
 		&lt;/type&gt;
 	&lt;/preferences&gt;
-	&lt;preferences profiles=&quot;ec2Flavour&quot;&gt;
-		&lt;type image=&quot;vmx&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.3&quot; bootprofile=&quot;xen&quot; bootkernel=&quot;ec2&quot; format=&quot;ec2&quot;&gt;
-			&lt;machine memory=&quot;128&quot; domain=&quot;domU&quot;&gt;
-				&lt;vmdisk controller=&quot;ide&quot; id=&quot;0&quot; device=&quot;/dev/xvda&quot;/&gt;
-				&lt;vmnic interface=&quot;br0&quot; mac=&quot;00:0C:6E:AA:57:2F&quot;/&gt;
-			&lt;/machine&gt;
-			&lt;ec2config&gt;
-				&lt;ec2privatekeyfile&gt;Path to EC2 private key file&lt;/ec2privatekeyfile&gt;
-				&lt;ec2certfile&gt;Path to EC2 public certificate file&lt;/ec2certfile&gt;
-				&lt;ec2accountnr&gt;12345678911&lt;/ec2accountnr&gt;
-			&lt;/ec2config&gt;
-		&lt;/type&gt;
-	&lt;/preferences&gt;
 	&lt;users group=&quot;root&quot;&gt;
 		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/root&quot; name=&quot;root&quot;/&gt;
 	&lt;/users&gt;
@@ -49,17 +31,12 @@
 		&lt;package name=&quot;bootsplash-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
 		&lt;package name=&quot;gfxboot-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
 		&lt;package name=&quot;ifplugd&quot;/&gt;
+		&lt;package name=&quot;kernel-xen&quot; replaces=&quot;kernel-default&quot;/&gt;
 		&lt;package name=&quot;vim&quot;/&gt;
 		&lt;package name=&quot;xen-tools-domU&quot;/&gt;
 		&lt;package name=&quot;xen&quot;/&gt;
 		&lt;opensusePattern name=&quot;base&quot;/&gt;
 	&lt;/packages&gt;
-	&lt;packages type=&quot;image&quot; profiles=&quot;xenFlavour&quot;&gt;
-		&lt;package name=&quot;kernel-xen&quot; replaces=&quot;kernel-ec2&quot;/&gt;
-	&lt;/packages&gt;
-	&lt;packages type=&quot;image&quot; profiles=&quot;ec2Flavour&quot;&gt;
-		&lt;package name=&quot;kernel-ec2&quot; replaces=&quot;kernel-xen&quot;/&gt;
-	&lt;/packages&gt;
 	&lt;packages type=&quot;bootstrap&quot;&gt;
 		&lt;package name=&quot;filesystem&quot;/&gt;
 		&lt;package name=&quot;glibc-locale&quot;/&gt;
diff --git a/doc/examples/suse-11.4/suse-ec2-guest.readme b/doc/examples/suse-11.4/suse-ec2-guest.readme
new file mode 100644
index 0000000..6ce2c91
--- /dev/null
+++ b/doc/examples/suse-11.4/suse-ec2-guest.readme
@@ -0,0 +1,52 @@
+KIWI Image Description Example
+==============================
+* An EC2 image is a filesystem image that is configured to operate inside
+  the Amazon Elastic Compute Cloud infrastructure. While EC2 is based on Xen,
+  the Ec2 infrastructure is sufficiently different from a SUSE Xen based 
+  environment to require a different setup.
+
+How to build this Example
+==============================
+
+    kiwi --prepare \
+         /usr/share/doc/packages/kiwi/examples/suse-11.4/suse-xen-guest \
+         --root /tmp/myec2
+
+    kiwi --create /tmp/myec2 -d /tmp/myec2-result
+
+How to test this Example
+==============================
+* You need an EC2 account to test the image. Kiwi generated the AMI bundle
+  for you. Upload the bundel with the eEC2 tools  obtained from Amazon
+  <A HREF="http://aws.amazon.com/developertools/351?_encoding=UTF8&amp;jiveRedirect=1">http://aws.amazon.com/developertools/351?_encoding=UTF8&amp;jiveRedirect=1</A>
+  <A HREF="http://aws.amazon.com/developertools/368?_encoding=UTF8&amp;jiveRedirect=1">http://aws.amazon.com/developertools/368?_encoding=UTF8&amp;jiveRedirect=1</A>
+
+  ec2-upload-bundle -b &lt;BUCKET_NAME&gt; \
+                    -m /tmp/myec2-result/&lt;BUNDLE_DIR&gt;/&lt;MANIFEST_NAME&gt; \
+                    -a &lt;ACCESS_KEY&gt; \
+                    -s &lt;SECRET_KEY&gt;
+
+  This will create a bucket on the AWS (Amazon Web Services) S3 storage system,
+  if the bucket does not already exist.
+
+  ec2-register &lt;BUCKET_NAME&gt;/&lt;MANIFEST_NAME&gt;
+
+  For help with the EC2 tools you may use the --help commandline option or
+  see the online help:
+  <A HREF="http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference/">http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference/</A>
+
+  Once your bundle has been uploaded and registered you can launch it using the
+  AWS Web UI. Note when launching an instance you will need to select a boot 
+  kernel in the launch wizard. Boot kernels are region specific and start with
+  aki. You can find the list off bott kernel names per reginon in the
+  following document.
+  <A HREF="http://ec2-downloads.s3.amazonaws.com/user_specified_kernels.pdf">http://ec2-downloads.s3.amazonaws.com/user_specified_kernels.pdf</A>
+
+  It may be useful to set the following environment variables:
+  EC2_HOME &lt;LOCATION_OF_BIN_AND_LIB_OF AMAZON_TOOLS&gt;
+  EC2_PRIVATE_KEY &lt;PRIVATE_KEY_FILE_PATH&gt;
+  EC2_CER &lt;CERT_FILE_PATH&gt;
+
+Login Details
+==============================
+* User root pwd: linux
diff --git a/doc/examples/suse-11.3/suse-xen-guest/config.sh b/doc/examples/suse-11.4/suse-ec2-guest/config.sh
old mode 100755
new mode 100644
similarity index 90%
copy from doc/examples/suse-11.3/suse-xen-guest/config.sh
copy to doc/examples/suse-11.4/suse-ec2-guest/config.sh
index 4f35644..bcd77ec
--- a/doc/examples/suse-11.3/suse-xen-guest/config.sh
+++ b/doc/examples/suse-11.4/suse-ec2-guest/config.sh
@@ -35,15 +35,13 @@ suseSetupProduct
 # Activate services
 #--------------------------------------
 suseActivateDefaultServices
+suseInsertService amazon
 suseInsertService boot.device-mapper
 suseInsertService sshd
 
 #======================================
 # SuSEconfig
 #--------------------------------------
-baseUpdateSysConfig /etc/sysconfig/windowmanager DEFAULT_WM kde
-baseUpdateSysConfig /etc/sysconfig/displaymanager DISPLAYMANAGER kdm
-baseSetRunlevel 5
 suseConfig
 
 #======================================
diff --git a/doc/examples/suse-11.4/suse-vm-guest/config.xml b/doc/examples/suse-11.4/suse-ec2-guest/config.xml
similarity index 58%
copy from doc/examples/suse-11.4/suse-vm-guest/config.xml
copy to doc/examples/suse-11.4/suse-ec2-guest/config.xml
index b42cf39..435aab2 100644
--- a/doc/examples/suse-11.4/suse-vm-guest/config.xml
+++ b/doc/examples/suse-11.4/suse-ec2-guest/config.xml
@@ -1,17 +1,11 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
-
-&lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.4-vm-guest&quot;&gt;
+&lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.4-ec2-guest&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#195;&#164;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
-		&lt;specification&gt;openSUSE 11.4 virtual disk system&lt;/specification&gt;
+		&lt;specification&gt;openSUSE 11.4 ec2 guest system&lt;/specification&gt;
 	&lt;/description&gt;
 	&lt;preferences&gt;
-		&lt;type image=&quot;vmx&quot; primary=&quot;true&quot; filesystem=&quot;ext4&quot; boot=&quot;vmxboot/suse-11.4&quot; format=&quot;vmdk&quot;&gt;
-			&lt;machine memory=&quot;512&quot;&gt;
-				&lt;vmdisk controller=&quot;ide&quot; id=&quot;0&quot;/&gt;
-			&lt;/machine&gt;
-		&lt;/type&gt;
 		&lt;version&gt;1.1.2&lt;/version&gt;
 		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
 		&lt;rpm-check-signatures&gt;false&lt;/rpm-check-signatures&gt;
@@ -19,21 +13,35 @@
 		&lt;locale&gt;en_US&lt;/locale&gt;
 		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
 	&lt;/preferences&gt;
+	&lt;preferences&gt;
+		&lt;type image=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.4&quot; bootprofile=&quot;xen&quot; bootkernel=&quot;ec2&quot; format=&quot;ec2&quot;&gt;
+			&lt;ec2config&gt;
+				&lt;ec2privatekeyfile&gt;Path to EC2 private key file&lt;/ec2privatekeyfile&gt;
+				&lt;ec2certfile&gt;Path to EC2 public certificate file&lt;/ec2certfile&gt;
+				&lt;ec2accountnr&gt;12345678911&lt;/ec2accountnr&gt;
+			&lt;/ec2config&gt;
+		&lt;/type&gt;
+	&lt;/preferences&gt;
 	&lt;users group=&quot;root&quot;&gt;
 		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/root&quot; name=&quot;root&quot;/&gt;
 	&lt;/users&gt;
 	&lt;repository type=&quot;yast2&quot;&gt;
 		&lt;source path=&quot;<A HREF="opensuse://11.4/repo/oss/">opensuse://11.4/repo/oss/</A>&quot;/&gt;
 	&lt;/repository&gt;
+    &lt;repository type=&quot;yast2&quot;&gt;
+        &lt;source path=&quot;<A HREF="opensuse://11.4/repo/non-oss">opensuse://11.4/repo/non-oss</A>&quot;/&gt;
+    &lt;/repository&gt;
 	&lt;packages type=&quot;image&quot;&gt;
 		&lt;package name=&quot;bootsplash-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
 		&lt;package name=&quot;gfxboot-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
-		&lt;package name=&quot;kernel-default&quot;/&gt;
 		&lt;package name=&quot;ifplugd&quot;/&gt;
+		&lt;package name=&quot;kernel-ec2&quot; replaces=&quot;kernel-xen&quot;/&gt;
+        &lt;package name=&quot;suse-ami-tools&quot;/&gt;
 		&lt;package name=&quot;vim&quot;/&gt;
+		&lt;package name=&quot;xen-tools-domU&quot;/&gt;
+		&lt;package name=&quot;xen&quot;/&gt;
 		&lt;opensusePattern name=&quot;base&quot;/&gt;
 	&lt;/packages&gt;
-	&lt;packages type=&quot;vmx&quot;/&gt;
 	&lt;packages type=&quot;bootstrap&quot;&gt;
 		&lt;package name=&quot;filesystem&quot;/&gt;
 		&lt;package name=&quot;glibc-locale&quot;/&gt;
diff --git a/doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/ifcfg-eth0 b/doc/examples/suse-11.4/suse-ec2-guest/root/etc/sysconfig/network/ifcfg-eth0
similarity index 100%
copy from doc/examples/suse-11.2/suse-live-iso/root/etc/sysconfig/network/ifcfg-eth0
copy to doc/examples/suse-11.4/suse-ec2-guest/root/etc/sysconfig/network/ifcfg-eth0
diff --git a/doc/examples/suse-11.4/suse-xen-guest.readme b/doc/examples/suse-11.4/suse-xen-guest.readme
index cfb64ea..7a391b2 100644
--- a/doc/examples/suse-11.4/suse-xen-guest.readme
+++ b/doc/examples/suse-11.4/suse-xen-guest.readme
@@ -10,7 +10,7 @@ How to build this Example
          /usr/share/doc/packages/kiwi/examples/suse-11.3/suse-xen-guest \
          --root /tmp/myxen
 
-    kiwi --create /tmp/myxen --type vmx -d /tmp/myxen-result
+    kiwi --create /tmp/myxen -d /tmp/myxen-result
 
 How to test this Example
 ==============================
diff --git a/doc/examples/suse-11.4/suse-xen-guest/config.sh b/doc/examples/suse-11.4/suse-xen-guest/config.sh
index 4f35644..098002e 100755
--- a/doc/examples/suse-11.4/suse-xen-guest/config.sh
+++ b/doc/examples/suse-11.4/suse-xen-guest/config.sh
@@ -41,9 +41,6 @@ suseInsertService sshd
 #======================================
 # SuSEconfig
 #--------------------------------------
-baseUpdateSysConfig /etc/sysconfig/windowmanager DEFAULT_WM kde
-baseUpdateSysConfig /etc/sysconfig/displaymanager DISPLAYMANAGER kdm
-baseSetRunlevel 5
 suseConfig
 
 #======================================
diff --git a/doc/examples/suse-11.4/suse-xen-guest/config.xml b/doc/examples/suse-11.4/suse-xen-guest/config.xml
index 148d3b3..ceb8fc9 100644
--- a/doc/examples/suse-11.4/suse-xen-guest/config.xml
+++ b/doc/examples/suse-11.4/suse-xen-guest/config.xml
@@ -1,15 +1,10 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
-
 &lt;image schemaversion=&quot;5.2&quot; name=&quot;suse-11.4-xen-guest&quot;&gt;
 	&lt;description type=&quot;system&quot;&gt;
 		&lt;author&gt;Marcus Sch&#195;&#164;fer&lt;/author&gt;
 		&lt;contact&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&lt;/contact&gt;
 		&lt;specification&gt;openSUSE 11.4 xen guest system&lt;/specification&gt;
 	&lt;/description&gt;
-	&lt;profiles&gt;
-		&lt;profile name=&quot;xenFlavour&quot; description=&quot;VMX with Xen kernel&quot; import=&quot;true&quot;/&gt;
-		&lt;profile name=&quot;ec2Flavour&quot; description=&quot;VMX with default kernel&quot;/&gt;
-	&lt;/profiles&gt;
 	&lt;preferences&gt;
 		&lt;version&gt;1.1.2&lt;/version&gt;
 		&lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
@@ -18,7 +13,7 @@
 		&lt;locale&gt;en_US&lt;/locale&gt;
 		&lt;keytable&gt;us.map.gz&lt;/keytable&gt;
 	&lt;/preferences&gt;
-	&lt;preferences profiles=&quot;xenFlavour&quot;&gt;
+	&lt;preferences&gt;
 		&lt;type image=&quot;vmx&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.4&quot; bootprofile=&quot;xen&quot; bootkernel=&quot;xenk&quot;&gt;
 			&lt;machine memory=&quot;128&quot; domain=&quot;domU&quot;&gt;
 				&lt;vmdisk controller=&quot;ide&quot; id=&quot;0&quot; device=&quot;/dev/xvda&quot;/&gt;
@@ -26,19 +21,6 @@
 			&lt;/machine&gt;
 		&lt;/type&gt;
 	&lt;/preferences&gt;
-	&lt;preferences profiles=&quot;ec2Flavour&quot;&gt;
-		&lt;type image=&quot;vmx&quot; filesystem=&quot;ext3&quot; boot=&quot;vmxboot/suse-11.4&quot; bootprofile=&quot;xen&quot; bootkernel=&quot;ec2&quot; format=&quot;ec2&quot;&gt;
-			&lt;machine memory=&quot;128&quot; domain=&quot;domU&quot;&gt;
-				&lt;vmdisk controller=&quot;ide&quot; id=&quot;0&quot; device=&quot;/dev/xvda&quot;/&gt;
-				&lt;vmnic interface=&quot;br0&quot; mac=&quot;00:0C:6E:AA:57:2F&quot;/&gt;
-			&lt;/machine&gt;
-			&lt;ec2config&gt;
-				&lt;ec2privatekeyfile&gt;Path to EC2 private key file&lt;/ec2privatekeyfile&gt;
-				&lt;ec2certfile&gt;Path to EC2 public certificate file&lt;/ec2certfile&gt;
-				&lt;ec2accountnr&gt;12345678911&lt;/ec2accountnr&gt;
-			&lt;/ec2config&gt;
-		&lt;/type&gt;
-	&lt;/preferences&gt;
 	&lt;users group=&quot;root&quot;&gt;
 		&lt;user pwd=&quot;$1$wYJUgpM5$RXMMeASDc035eX.NbYWFl0&quot; home=&quot;/root&quot; name=&quot;root&quot;/&gt;
 	&lt;/users&gt;
@@ -49,17 +31,12 @@
 		&lt;package name=&quot;bootsplash-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
 		&lt;package name=&quot;gfxboot-branding-openSUSE&quot; bootinclude=&quot;true&quot; bootdelete=&quot;true&quot;/&gt;
 		&lt;package name=&quot;ifplugd&quot;/&gt;
+		&lt;package name=&quot;kernel-xen&quot; replaces=&quot;kernel-ec2&quot;/&gt;
 		&lt;package name=&quot;vim&quot;/&gt;
 		&lt;package name=&quot;xen-tools-domU&quot;/&gt;
 		&lt;package name=&quot;xen&quot;/&gt;
 		&lt;opensusePattern name=&quot;base&quot;/&gt;
 	&lt;/packages&gt;
-	&lt;packages type=&quot;image&quot; profiles=&quot;xenFlavour&quot;&gt;
-		&lt;package name=&quot;kernel-xen&quot; replaces=&quot;kernel-ec2&quot;/&gt;
-	&lt;/packages&gt;
-	&lt;packages type=&quot;image&quot; profiles=&quot;ec2Flavour&quot;&gt;
-		&lt;package name=&quot;kernel-ec2&quot; replaces=&quot;kernel-xen&quot;/&gt;
-	&lt;/packages&gt;
 	&lt;packages type=&quot;bootstrap&quot;&gt;
 		&lt;package name=&quot;filesystem&quot;/&gt;
 		&lt;package name=&quot;glibc-locale&quot;/&gt;
diff --git a/doc/images/activation.png b/doc/images/activation.png
index 7578ee7..a2fcdb5 100644
Binary files a/doc/images/activation.png and b/doc/images/activation.png differ
diff --git a/doc/images/description.png b/doc/images/description.png
index 3689e3d..bdda405 100644
Binary files a/doc/images/description.png and b/doc/images/description.png differ
diff --git a/doc/images/intro.png b/doc/images/intro.png
index 3e355bc..6b6333f 100644
Binary files a/doc/images/intro.png and b/doc/images/intro.png differ
diff --git a/doc/images/maintain.png b/doc/images/maintain.png
index de4f1fe..67f5bc5 100644
Binary files a/doc/images/maintain.png and b/doc/images/maintain.png differ
diff --git a/doc/images/nbboot.png b/doc/images/nbboot.png
index 423af9d..c7191d9 100644
Binary files a/doc/images/nbboot.png and b/doc/images/nbboot.png differ
diff --git a/doc/images/source.png b/doc/images/source.png
index 56a18dc..2712108 100644
Binary files a/doc/images/source.png and b/doc/images/source.png differ
diff --git a/doc/images/types.png b/doc/images/types.png
index 37336b4..39bb70f 100644
Binary files a/doc/images/types.png and b/doc/images/types.png differ
diff --git a/doc/kiwi.1 b/doc/kiwi.1
index a63d173..ce5c07c 100644
--- a/doc/kiwi.1
+++ b/doc/kiwi.1
@@ -2,12 +2,12 @@
 .\&quot;     Title: kiwi
 .\&quot;    Author: Marcus Schaefer &lt;ms (AT) suse.de&gt;
 .\&quot; Generator: DocBook XSL Stylesheets v1.76.1-RC1 &lt;<A HREF="http://docbook.sf.net/">http://docbook.sf.net/</A>&gt;
-.\&quot;      Date: Created: 02/01/2011
+.\&quot;      Date: Created: 02/03/2011
 .\&quot;    Manual: KIWI Manualpage
 .\&quot;    Source: KIWI 4.72
 .\&quot;  Language: English
 .\&quot;
-.TH &quot;KIWI&quot; &quot;1&quot; &quot;Created: 02/01/2011&quot; &quot;KIWI 4\&amp;.72&quot; &quot;KIWI Manualpage&quot;
+.TH &quot;KIWI&quot; &quot;1&quot; &quot;Created: 02/03/2011&quot; &quot;KIWI 4\&amp;.72&quot; &quot;KIWI Manualpage&quot;
 .\&quot; -----------------------------------------------------------------
 .\&quot; * Define some portability stuff
 .\&quot; -----------------------------------------------------------------
diff --git a/doc/kiwi.html b/doc/kiwi.html
index f041d4a..ce4c282 100644
--- a/doc/kiwi.html
+++ b/doc/kiwi.html
@@ -10,7 +10,7 @@
     attention to detail. However, this does not guarantee complete
     accuracy. Neither Novell, Inc., SUSE Linux Products GmbH, the
     authors, nor the translators shall be held liable for possible
-    errors or the consequences thereof.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;hr&gt;&lt;/div&gt;&lt;div class=&quot;toc&quot;&gt;&lt;p&gt;&lt;b&gt;Table of Contents&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.workflow&quot;&gt;1. Basic Workflow&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.introduction&quot;&gt;1.1. Introduction&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.bootprocess&quot;&gt;1.2. Boot Process&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.bootparameters&quot;&gt;1.3. Boot Parameters&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.common-specific-code&quot;&gt;1.4. Common and Distribution Specific Code&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.description&quot;&gt;2. KIWI Image Description&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.description.config.xml&quot;&gt;2.1. The config.xml File&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.image&quot;&gt;2.1.1. &lt;code class=&quot;sgmltag-element&quot;&gt;image&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;spa
 n class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.description&quot;&gt;2.1.2. &lt;code class=&quot;sgmltag-element&quot;&gt;description&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.profiles&quot;&gt;2.1.3. &lt;code class=&quot;sgmltag-element&quot;&gt;profiles&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.preferences&quot;&gt;2.1.4. &lt;code class=&quot;sgmltag-element&quot;&gt;preferences&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.users&quot;&gt;2.1.5. &lt;code class=&quot;sgmltag-element&quot;&gt;users&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.drivers&quot;&gt;2.1.6. &lt;code class=&quot;sgmltag-element&quot;&gt;drivers&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.repository&quot;&gt;2.1.7. &lt;code class=&quot;sgmltag-element&quot;&gt;repository&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.packages&quot;&gt;2.1.8. &lt;code class=&quot;sgmltag-element&quot;&gt;packages&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;
 chapter&quot;&gt;&lt;a href=&quot;#chap.appliance&quot;&gt;3. Creating Appliances with KIWI&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.appliance.history&quot;&gt;3.1. History&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.appliance.kiwi-model&quot;&gt;3.2. The KIWI Model&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.maintenance&quot;&gt;4. Maintenance of Operating System Images&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.migration&quot;&gt;5. System to Image Migration&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.migrate.create-clean-repository&quot;&gt;5.1. Create a Clean Repository Set First&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.migrate.watch-overlay&quot;&gt;5.2. Watch the Overlay and Unpackaged Files&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.migrate.checklist&quot;&gt;5.3. Checklist&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.migrate.turn-system-into-image&quot;&gt;5.4. Turn my System Into an Image&#8230;&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapte
 r&quot;&gt;&lt;a href=&quot;#chap.instsourcesetup&quot;&gt;6. Installation Source&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.instsourcesetup.adapt-example&quot;&gt;6.1. Adapt the Example&#8217;s config.xml&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.instsourcesetup.create-local-inst-source&quot;&gt;6.2. Create a Local Installation Source&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.iso&quot;&gt;7. ISO Image&#8212;Live Systems&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.iso.building&quot;&gt;7.1. Building the suse-live-iso Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.iso.using&quot;&gt;7.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.iso.flavours&quot;&gt;7.3. Flavours&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.iso.split-mode&quot;&gt;7.3.1. Split mode&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.usb&quot;&gt;8. USB Image&#8212;Live-Stick System&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.usb.
 building&quot;&gt;8.1. Building the suse-live-stick Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.usb.using&quot;&gt;8.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.usb.flavours&quot;&gt;8.3. Flavours&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.usb.split-stick&quot;&gt;8.3.1. Split Stick&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.usb.lvm&quot;&gt;8.3.2. LVM Support&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.vmx&quot;&gt;9. VMX Image&#8212;Virtual Disks&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.vmx.building&quot;&gt;9.1. Building the suse-vm-guest Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.vmx.using&quot;&gt;9.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.vmx.flavours&quot;&gt;9.3. Flavours&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.vmx.vmware-support&quot;&gt;9.3.1. VMware support&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.vmx.lvm&quot;&gt;9.3.2. LVM Support&lt;/a&gt;&lt;/span&gt;&lt;/dt
 &gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.pxe&quot;&gt;10. PXE Image&#8212;Thin Clients&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.pxe.setting-up&quot;&gt;10.1. Setting Up the Required Services&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.atftp-server&quot;&gt;10.1.1. Atftp Server&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.dhcp-server&quot;&gt;10.1.2. DHCP Server&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.pxe.building&quot;&gt;10.2. Building the suse-pxe-client Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.pxe.using&quot;&gt;10.3. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.pxe.flavours&quot;&gt;10.4. Flavours&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.client-control-file&quot;&gt;10.4.1. The PXE Client Control File&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.client-config-file&quot;&gt;10.4.2. The PXE Client Configuration File&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.p
 xe.another-user&quot;&gt;10.4.3. User another than tftp as Download Protocol&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.ram-only-image&quot;&gt;10.4.4. RAM Only Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.union-image&quot;&gt;10.4.5. Union Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.split-image&quot;&gt;10.4.6. Split Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.root-tree-over-nfs&quot;&gt;10.4.7. Root Tree Over NFS&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.root-tree-over-nbd&quot;&gt;10.4.8. Root Tree Over NBD&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.root-tree-over-aoe&quot;&gt;10.4.9. Root Tree Over AoE&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.pxe.groups&quot;&gt;10.5. Hardware Grouping&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#id2560192&quot;&gt;10.5.1. The Group Configuration File&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#id2560377&quot;&gt;10.5.2. The Group Details File&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2
 &quot;&gt;&lt;a href=&quot;#id2560460&quot;&gt;10.5.3.  Using Hardware Mapping to Provide Overrides&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.oem&quot;&gt;11. OEM Image&#8212;Preload Systems&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.oem.building&quot;&gt;11.1. Building the suse-oem-preload Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.oem.using&quot;&gt;11.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.oem.flavours&quot;&gt;11.3. Flavours&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.oem.installation&quot;&gt;11.3.1. Specializing the OEM install process&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.oem.partitioning&quot;&gt;11.3.2. Influencing the OEM Partitioning&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.oem.lvm&quot;&gt;11.3.3. LVM Support&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.oem.partition-based-installation&quot;&gt;11.3.4. Partition Based Installation&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a hre
 f=&quot;#chap.xen&quot;&gt;12. Xen Image&#8212;Paravirtual Systems&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.xen.building&quot;&gt;12.1. Building the suse-xen-guest Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.xen.using&quot;&gt;12.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.xen.flavours&quot;&gt;12.3. Flavours&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.ec2&quot;&gt;13. EC2 Image&#8212;Amazon Elastic Compute Cloud&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.ec2.building&quot;&gt;13.1. Building the suse-xen-guest Example for EC2&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.ec2.using&quot;&gt;13.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.testing&quot;&gt;14. KIWI Testsuite&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.testing.testsuite&quot;&gt;14.1. Testsuite Packages&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.testing.creating&quot;&gt;14.2. Creating a Test&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;d
 t&gt;&lt;span class=&quot;appendix&quot;&gt;&lt;a href=&quot;#appendix&quot;&gt;A. KIWI Man Pages&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#ref.kiwi.kiwi&quot;&gt;kiwi&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; Creating Operating System Images&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#ref.kiwi.config.sh&quot;&gt;kiwi::config.sh&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; Configuration File for KIWI image description&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#ref.kiwi.images.sh&quot;&gt;kiwi::images.sh&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; Configuration File for KIWI image description&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#ref.kiwi.kiwirc&quot;&gt;kiwi::kiwirc&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; Resource file for the Kiwi imaging system&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;div class=&quot;list-of-figures&quot;&gt;&lt;p&gt;&lt;b&gt;List of Figures&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;1.1. &lt;a href=&quot;#fig.imageservingarch&quot;&gt;Image Serving Architecture&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;1.2. &lt;a href=&quot;#fig.imagetypes&quot;&gt;Image Types&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;1.3. &lt;a 
 href=&quot;#fig.workflow.bootprocess&quot;&gt;Boot Process&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;2.1. &lt;a href=&quot;#fig.description.imagedescrdir&quot;&gt;Image Description Directory&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;4.1. &lt;a href=&quot;#fig.maintain&quot;&gt;Image Maintenance Scenarios&lt;/a&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;&lt;div class=&quot;list-of-tables&quot;&gt;&lt;p&gt;&lt;b&gt;List of Tables&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;2.1. &lt;a href=&quot;#tab.description.supported-types&quot;&gt;Supported Types for zypper and smart&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;9.1. &lt;a href=&quot;#tab.vmx.supported-disk-formats&quot;&gt;Supported Virtual Disk Formats&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;13.1. &lt;a href=&quot;#tab.ec2.kernel-image-ids&quot;&gt;Amazon Kernel Image IDs&lt;/a&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;&lt;div class=&quot;list-of-examples&quot;&gt;&lt;p&gt;&lt;b&gt;List of Examples&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;A.1. &lt;a href=&quot;#id2565006&quot;&gt;Template for config.sh&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;A.2. &lt;a href=&quot;#id2566135&quot;&gt;Template for images.sh&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;A.3. &lt;a href=&quot;#id2566802&quot;&gt;Template for .kiwi.rc&lt;/a&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;&lt;div class=&quot;chapter&quot; title=&quot;Chapter&#160;1.&#160;Basic Workflow&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h2 class=&quot;title&quot;&gt;&lt;a name=&quot;chap.workflow&quot;&gt;&lt;/a&gt;Chapter&#160;1.&#160;Basic Workflow&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;
 &lt;/div&gt;&lt;div class=&quot;toc&quot;&gt;&lt;p&gt;&lt;b&gt;Table of Contents&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.introduction&quot;&gt;1.1. Introduction&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.bootprocess&quot;&gt;1.2. Boot Process&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.bootparameters&quot;&gt;1.3. Boot Parameters&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.common-specific-code&quot;&gt;1.4. Common and Distribution Specific Code&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2527604&quot;&gt;&lt;/a&gt;&lt;div class=&quot;sect1&quot; title=&quot;1.1.&#160;Introduction&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h2 class=&quot;title&quot; style=&quot;clear: both&quot;&gt;&lt;a name=&quot;sec.workflow.introduction&quot;&gt;&lt;/a&gt;1.1.&#160;Introduction&lt;span class=&quot;permalink&quot;&gt;&lt;a alt=&quot;Permalink&quot; title=&quot;1.1.&#160;Introduction&quot; href=&quot;#sec.workflow.introduction&quot;&gt;&#182;&lt;/a&gt;&lt;/span&gt;&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;The openSUSE KIWI Image System provides a complete operating
+    errors or the consequences thereof.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;hr&gt;&lt;/div&gt;&lt;div class=&quot;toc&quot;&gt;&lt;p&gt;&lt;b&gt;Table of Contents&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.workflow&quot;&gt;1. Basic Workflow&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.introduction&quot;&gt;1.1. Introduction&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.bootprocess&quot;&gt;1.2. Boot Process&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.bootparameters&quot;&gt;1.3. Boot Parameters&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.common-specific-code&quot;&gt;1.4. Common and Distribution Specific Code&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.description&quot;&gt;2. KIWI Image Description&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.description.config.xml&quot;&gt;2.1. The config.xml File&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.image&quot;&gt;2.1.1. &lt;code class=&quot;sgmltag-element&quot;&gt;image&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;spa
 n class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.description&quot;&gt;2.1.2. &lt;code class=&quot;sgmltag-element&quot;&gt;description&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.profiles&quot;&gt;2.1.3. &lt;code class=&quot;sgmltag-element&quot;&gt;profiles&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.preferences&quot;&gt;2.1.4. &lt;code class=&quot;sgmltag-element&quot;&gt;preferences&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.users&quot;&gt;2.1.5. &lt;code class=&quot;sgmltag-element&quot;&gt;users&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.drivers&quot;&gt;2.1.6. &lt;code class=&quot;sgmltag-element&quot;&gt;drivers&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.repository&quot;&gt;2.1.7. &lt;code class=&quot;sgmltag-element&quot;&gt;repository&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.description.packages&quot;&gt;2.1.8. &lt;code class=&quot;sgmltag-element&quot;&gt;packages&lt;/code&gt; Element&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;
 chapter&quot;&gt;&lt;a href=&quot;#chap.appliance&quot;&gt;3. Creating Appliances with KIWI&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.appliance.history&quot;&gt;3.1. History&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.appliance.kiwi-model&quot;&gt;3.2. The KIWI Model&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.maintenance&quot;&gt;4. Maintenance of Operating System Images&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.migration&quot;&gt;5. System to Image Migration&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.migrate.create-clean-repository&quot;&gt;5.1. Create a Clean Repository Set First&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.migrate.watch-overlay&quot;&gt;5.2. Watch the Overlay and Unpackaged Files&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.migrate.checklist&quot;&gt;5.3. Checklist&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.migrate.turn-system-into-image&quot;&gt;5.4. Turn my System Into an Image&#8230;&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapte
 r&quot;&gt;&lt;a href=&quot;#chap.instsourcesetup&quot;&gt;6. Installation Source&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.instsourcesetup.adapt-example&quot;&gt;6.1. Adapt the Example&#8217;s config.xml&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.instsourcesetup.create-local-inst-source&quot;&gt;6.2. Create a Local Installation Source&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.iso&quot;&gt;7. ISO Image&#8212;Live Systems&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.iso.building&quot;&gt;7.1. Building the suse-live-iso Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.iso.using&quot;&gt;7.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.iso.flavours&quot;&gt;7.3. Flavours&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.iso.split-mode&quot;&gt;7.3.1. Split mode&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.usb&quot;&gt;8. USB Image&#8212;Live-Stick System&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.usb.
 building&quot;&gt;8.1. Building the suse-live-stick Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.usb.using&quot;&gt;8.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.usb.flavours&quot;&gt;8.3. Flavours&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.usb.split-stick&quot;&gt;8.3.1. Split Stick&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.usb.lvm&quot;&gt;8.3.2. LVM Support&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.vmx&quot;&gt;9. VMX Image&#8212;Virtual Disks&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.vmx.building&quot;&gt;9.1. Building the suse-vm-guest Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.vmx.using&quot;&gt;9.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.vmx.flavours&quot;&gt;9.3. Flavours&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.vmx.vmware-support&quot;&gt;9.3.1. VMware support&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.vmx.lvm&quot;&gt;9.3.2. LVM Support&lt;/a&gt;&lt;/span&gt;&lt;/dt
 &gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.pxe&quot;&gt;10. PXE Image&#8212;Thin Clients&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.pxe.setting-up&quot;&gt;10.1. Setting Up the Required Services&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.atftp-server&quot;&gt;10.1.1. Atftp Server&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.dhcp-server&quot;&gt;10.1.2. DHCP Server&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.pxe.building&quot;&gt;10.2. Building the suse-pxe-client Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.pxe.using&quot;&gt;10.3. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.pxe.flavours&quot;&gt;10.4. Flavours&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.client-control-file&quot;&gt;10.4.1. The PXE Client Control File&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.client-config-file&quot;&gt;10.4.2. The PXE Client Configuration File&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.p
 xe.another-user&quot;&gt;10.4.3. User another than tftp as Download Protocol&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.ram-only-image&quot;&gt;10.4.4. RAM Only Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.union-image&quot;&gt;10.4.5. Union Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.split-image&quot;&gt;10.4.6. Split Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.root-tree-over-nfs&quot;&gt;10.4.7. Root Tree Over NFS&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.root-tree-over-nbd&quot;&gt;10.4.8. Root Tree Over NBD&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.pxe.root-tree-over-aoe&quot;&gt;10.4.9. Root Tree Over AoE&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.pxe.groups&quot;&gt;10.5. Hardware Grouping&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#id2560192&quot;&gt;10.5.1. The Group Configuration File&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#id2560377&quot;&gt;10.5.2. The Group Details File&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2
 &quot;&gt;&lt;a href=&quot;#id2560460&quot;&gt;10.5.3.  Using Hardware Mapping to Provide Overrides&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.oem&quot;&gt;11. OEM Image&#8212;Preload Systems&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.oem.building&quot;&gt;11.1. Building the suse-oem-preload Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.oem.using&quot;&gt;11.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.oem.flavours&quot;&gt;11.3. Flavours&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.oem.installation&quot;&gt;11.3.1. Specializing the OEM install process&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.oem.partitioning&quot;&gt;11.3.2. Influencing the OEM Partitioning&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.oem.lvm&quot;&gt;11.3.3. LVM Support&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect2&quot;&gt;&lt;a href=&quot;#sec.oem.partition-based-installation&quot;&gt;11.3.4. Partition Based Installation&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a hre
 f=&quot;#chap.xen&quot;&gt;12. Xen Image&#8212;Paravirtual Systems&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.xen.building&quot;&gt;12.1. Building the suse-xen-guest Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.xen.using&quot;&gt;12.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.xen.flavours&quot;&gt;12.3. Flavours&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.ec2&quot;&gt;13. EC2 Image&#8212;Amazon Elastic Compute Cloud&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.ec2.building&quot;&gt;13.1. Building the suse-ec2-guest Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.ec2.using&quot;&gt;13.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;chapter&quot;&gt;&lt;a href=&quot;#chap.testing&quot;&gt;14. KIWI Testsuite&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.testing.testsuite&quot;&gt;14.1. Testsuite Packages&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.testing.creating&quot;&gt;14.2. Creating a Test&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span 
 class=&quot;appendix&quot;&gt;&lt;a href=&quot;#appendix&quot;&gt;A. KIWI Man Pages&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#ref.kiwi.kiwi&quot;&gt;kiwi&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; Creating Operating System Images&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#ref.kiwi.config.sh&quot;&gt;kiwi::config.sh&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; Configuration File for KIWI image description&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#ref.kiwi.images.sh&quot;&gt;kiwi::images.sh&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; Configuration File for KIWI image description&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;refentrytitle&quot;&gt;&lt;a href=&quot;#ref.kiwi.kiwirc&quot;&gt;kiwi::kiwirc&lt;/a&gt;&lt;/span&gt;&lt;span class=&quot;refpurpose&quot;&gt; &#8212; Resource file for the Kiwi imaging system&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;div class=&quot;list-of-figures&quot;&gt;&lt;p&gt;&lt;b&gt;List of Figures&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;1.1. &lt;a href=&quot;#fig.imageservingarch&quot;&gt;Image Serving Architecture&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;1.2. &lt;a href=&quot;#fig.imagetypes&quot;&gt;Image Types&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;1.3. &lt;a href=&quot;#f
 ig.workflow.bootprocess&quot;&gt;Boot Process&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;2.1. &lt;a href=&quot;#fig.description.imagedescrdir&quot;&gt;Image Description Directory&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;4.1. &lt;a href=&quot;#fig.maintain&quot;&gt;Image Maintenance Scenarios&lt;/a&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;&lt;div class=&quot;list-of-tables&quot;&gt;&lt;p&gt;&lt;b&gt;List of Tables&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;2.1. &lt;a href=&quot;#tab.description.supported-types&quot;&gt;Supported Types for zypper and smart&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;9.1. &lt;a href=&quot;#tab.vmx.supported-disk-formats&quot;&gt;Supported Virtual Disk Formats&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;13.1. &lt;a href=&quot;#tab.ec2.kernel-image-ids&quot;&gt;Amazon Kernel Image IDs&lt;/a&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;&lt;div class=&quot;list-of-examples&quot;&gt;&lt;p&gt;&lt;b&gt;List of Examples&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;A.1. &lt;a href=&quot;#id2565466&quot;&gt;Template for config.sh&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;A.2. &lt;a href=&quot;#id2566595&quot;&gt;Template for images.sh&lt;/a&gt;&lt;/dt&gt;&lt;dt&gt;A.3. &lt;a href=&quot;#id2567262&quot;&gt;Template for .kiwi.rc&lt;/a&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;&lt;div class=&quot;chapter&quot; title=&quot;Chapter&#160;1.&#160;Basic Workflow&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h2 class=&quot;title&quot;&gt;&lt;a name=&quot;chap.workflow&quot;&gt;&lt;/a&gt;Chapter&#160;1.&#160;Basic Workflow&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;d
 iv class=&quot;toc&quot;&gt;&lt;p&gt;&lt;b&gt;Table of Contents&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.introduction&quot;&gt;1.1. Introduction&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.bootprocess&quot;&gt;1.2. Boot Process&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.bootparameters&quot;&gt;1.3. Boot Parameters&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.workflow.common-specific-code&quot;&gt;1.4. Common and Distribution Specific Code&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2527604&quot;&gt;&lt;/a&gt;&lt;div class=&quot;sect1&quot; title=&quot;1.1.&#160;Introduction&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h2 class=&quot;title&quot; style=&quot;clear: both&quot;&gt;&lt;a name=&quot;sec.workflow.introduction&quot;&gt;&lt;/a&gt;1.1.&#160;Introduction&lt;span class=&quot;permalink&quot;&gt;&lt;a alt=&quot;Permalink&quot; title=&quot;1.1.&#160;Introduction&quot; href=&quot;#sec.workflow.introduction&quot;&gt;&#182;&lt;/a&gt;&lt;/span&gt;&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;The openSUSE KIWI Image System provides a complete operating
     system image solution for Linux supported hardware platforms as well
     as for virtualization systems like Xen, VMware, etc. The KIWI
     architecture was designed as a two level system. The first stage,
@@ -2217,9 +2217,9 @@ VENDOR_CONF=xorg.conf.maxterm_3500;/etc/X11/xorg.conf;192.168.1.2;4096,someconfi
       configuration with 512&#160;MB of RAM and expects the disk at &lt;code class=&quot;filename&quot;&gt;/dev/xvda&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2561743&quot;&gt;&lt;/a&gt;. Additional information
       to setup the Xen guest machine properties are explained in the
       machine section. The KIWI Xen domain U configuration is stored in
-      the file &lt;code class=&quot;filename&quot;&gt;/tmp/myxen-result/suse-11.2-xen-guest.i686-1.1.2.xenconfig&lt;/code&gt;.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;chapter&quot; title=&quot;Chapter&#160;13.&#160;EC2 Image&#8212;Amazon Elastic Compute Cloud&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h2 class=&quot;title&quot;&gt;&lt;a name=&quot;chap.ec2&quot;&gt;&lt;/a&gt;Chapter&#160;13.&#160;EC2 Image&#8212;Amazon Elastic Compute Cloud&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;toc&quot;&gt;&lt;p&gt;&lt;b&gt;Table of Contents&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.ec2.building&quot;&gt;13.1. Building the suse-xen-guest Example for EC2&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.ec2.using&quot;&gt;13.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2561773&quot;&gt;&lt;/a&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2561784&quot;&gt;&lt;/a&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2561796&quot;&gt;&lt;/a&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2561808&quot;&gt;&lt;/a&gt;&lt;p&gt;The &lt;span class=&quot;trademark&quot;&gt;Amazon Elastic Compute Cloud&lt;/span&gt;&#8482; (Amazon
+      the file &lt;code class=&quot;filename&quot;&gt;/tmp/myxen-result/suse-11.2-xen-guest.i686-1.1.2.xenconfig&lt;/code&gt;.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;chapter&quot; title=&quot;Chapter&#160;13.&#160;EC2 Image&#8212;Amazon Elastic Compute Cloud&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h2 class=&quot;title&quot;&gt;&lt;a name=&quot;chap.ec2&quot;&gt;&lt;/a&gt;Chapter&#160;13.&#160;EC2 Image&#8212;Amazon Elastic Compute Cloud&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;toc&quot;&gt;&lt;p&gt;&lt;b&gt;Table of Contents&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.ec2.building&quot;&gt;13.1. Building the suse-ec2-guest Example&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.ec2.using&quot;&gt;13.2. Using the Image&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2561773&quot;&gt;&lt;/a&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2561784&quot;&gt;&lt;/a&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2561796&quot;&gt;&lt;/a&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2561808&quot;&gt;&lt;/a&gt;&lt;p&gt;The &lt;span class=&quot;trademark&quot;&gt;Amazon Elastic Compute Cloud&lt;/span&gt;&#8482; (Amazon
     EC2) web service provides you with the ability to execute arbitrary
-    applications in our computing environment. To use Amazon EC2 you
+	applications in the Amazon computing environment. To use Amazon EC2 you
     simply: &lt;/p&gt;&lt;div class=&quot;procedure&quot;&gt;&lt;a name=&quot;proc.ec2.using&quot;&gt;&lt;/a&gt;&lt;ol class=&quot;procedure&quot; type=&quot;1&quot;&gt;&lt;li class=&quot;step&quot; title=&quot;Step 1&quot;&gt;&lt;p&gt;Create an Amazon Machine Image (AMI) containing all your
         software, including your operating system and associated
         configuration settings, applications, libraries, etc. Such an
@@ -2228,65 +2228,171 @@ VENDOR_CONF=xorg.conf.maxterm_3500;/etc/X11/xorg.conf;192.168.1.2;4096,someconfi
         system should have these tools installed. Due to license issues
         we are not allowed to distribute the tools which means you need
         to download, install and setup them from here:&lt;a class=&quot;ulink&quot; href=&quot;<A HREF="http://aws.amazon.com/documentation/ec2/">http://aws.amazon.com/documentation/ec2/</A>&quot; target=&quot;_top&quot;&gt;<A HREF="http://aws.amazon.com/documentation/ec2/&lt;/a">http://aws.amazon.com/documentation/ec2/&lt;/a</A>&gt;
+		software, including the operating system and associated
+        configuration settings, applications, libraries, etc.
       &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;step&quot; title=&quot;Step 2&quot;&gt;&lt;p&gt;Upload this AMI to the Amazon S3 (Amazon Simple Storage
-        Service) service. This gives us reliable, secure access to your
-        AMI. &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;step&quot; title=&quot;Step 3&quot;&gt;&lt;p&gt;Register your AMI with Amazon EC2. This allows us to verify
-        that your AMI has been uploaded correctly and to allocate a
-        unique identifier for it. &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;step&quot; title=&quot;Step 4&quot;&gt;&lt;p&gt;Use this AMI ID and the Amazon EC2 web service APIs to run,
-        monitor, and terminate as many instances of this AMI as
-        required. Currently, Amazon provides command line tools and Java
-        libraries but you may also directly access the SOAP-based API.
-      &lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;Please note while instances are running, you are billed for the
-    computing and network resources that they consume. You should start
-    creating an EC2 with KIWI after you can make sure your system is
-    prepared for EC2 which means if you call the command
-      &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-describe-images&lt;/strong&gt;&lt;/span&gt;
-    &lt;code class=&quot;option&quot;&gt;-a&lt;/code&gt; you will get a valid output. &lt;/p&gt;&lt;div class=&quot;sect1&quot; title=&quot;13.1.&#160;Building the suse-xen-guest Example for EC2&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h2 class=&quot;title&quot; style=&quot;clear: both&quot;&gt;&lt;a name=&quot;sec.ec2.building&quot;&gt;&lt;/a&gt;13.1.&#160;Building the suse-xen-guest Example for EC2&lt;span class=&quot;permalink&quot;&gt;&lt;a alt=&quot;Permalink&quot; title=&quot;13.1.&#160;Building the suse-xen-guest Example for EC2&quot; href=&quot;#sec.ec2.building&quot;&gt;&#182;&lt;/a&gt;&lt;/span&gt;&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;One example provided with KIWI is based on openSUSE 11.3 and
-      includes the base pattern plus the vim editor. &lt;/p&gt;&lt;p&gt;Before you run KIWI you need to include some of your EC2
-      account information into the image description
-        &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt; file. The box below shows the
-      values you need to adapt: &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;ec2config&gt; ec2accountnr=&quot;12345678911&quot;
-   ec2privatekeyfile=&quot;Path to EC2 private key file&quot; 
-   ec2certfile=&quot;Path to EC2 public certificate file&quot;
-&lt;/ec2config&gt;&lt;/pre&gt;&lt;p&gt;After that call KIWI as follows: &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;cd&lt;/strong&gt;&lt;/span&gt; /usr/share/doc/packages/kiwi/examples 
-&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;cd&lt;/strong&gt;&lt;/span&gt; suse-11.3
-&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;kiwi&lt;/strong&gt;&lt;/span&gt; --prepare ./suse-xen-guest --add-profile \
-  ec2Flavour --root /tmp/myec2&lt;/pre&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;kiwi&lt;/strong&gt;&lt;/span&gt; --create /tmp/myec2 --add-profile \ 
- ec2Flavour --type vmx -d /tmp/myec2-result&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;sect1&quot; title=&quot;13.2.&#160;Using the Image&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h2 class=&quot;title&quot; style=&quot;clear: both&quot;&gt;&lt;a name=&quot;sec.ec2.using&quot;&gt;&lt;/a&gt;13.2.&#160;Using the Image&lt;span class=&quot;permalink&quot;&gt;&lt;a alt=&quot;Permalink&quot; title=&quot;13.2.&#160;Using the Image&quot; href=&quot;#sec.ec2.using&quot;&gt;&#182;&lt;/a&gt;&lt;/span&gt;&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt; The generated image needs to be transferred over to Amazon
-      which is done by the &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-upload-bundle&lt;/strong&gt;&lt;/span&gt; tool.
-      You can do this by calling: &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-upload-bundle&lt;/strong&gt;&lt;/span&gt; -b myImages \
-      -a &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;AWS_Key_ID&lt;/code&gt;&lt;/em&gt; -s &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;AWS_secret_Key_ID&lt;/code&gt;&lt;/em&gt; -m /tmp/myec2/ \
-      suse-11.1-xen-guest.i686-1.1.2.ami.manifest.xml &lt;/pre&gt;&lt;p&gt;After this is done the image needs to be registered in order
-      to receive a so called AMI id which starts with
-        &lt;span class=&quot;quote&quot;&gt;&#8220;&lt;span class=&quot;quote&quot;&gt;ami-&lt;/span&gt;&#8221;&lt;/span&gt; followed by a random key sequence. To
-      register call: &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-register&lt;/strong&gt;&lt;/span&gt; myImages/ suse-11.1-xen-guest.i686-1.1.2.ami.manifest.xml &lt;/pre&gt;&lt;p&gt;The result is the AMI id which you need to run an instance
-      from your image. The command
-        &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-describe-images&lt;/strong&gt;&lt;/span&gt; allows you to review your
-      registered images. Since you will be running an instance of a
-      public AMI, you will need to use a public/private keypair to
-      ensure that only you will have access. One half of this keypair
-      will be embedded into your instance, allowing you to login
-      securely without a password using the other half of the keypair.
-      Every keypair you generate requires a name. Be sure to choose a
-      name that is easy to remember, perhaps one that describes the
-      image&#8217;s content. For our example we&#8217;ll use the name gsg-keypair. &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-add-keypair&lt;/strong&gt;&lt;/span&gt; gsg-keypair &lt;/pre&gt;&lt;p&gt;The private key returned needs to be saved in a local file so
-      that you can use it later. Using your favorite text editor, create
-      a file named &lt;code class=&quot;filename&quot;&gt;id_rsa-gsg-keypair&lt;/code&gt; and paste
+	   Service) service.
+      &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;step&quot; title=&quot;Step 3&quot;&gt;&lt;p&gt;Register your AMI with Amazon EC2.&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;step&quot; title=&quot;Step 4&quot;&gt;&lt;p&gt;
+        Use the AMI ID created during registration to run your EC2 guest.
+      &lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;
+    KIWI creates an AMI using tools provided by Amazon. Due to
+    licensing issues it is not possible to distribute the Amazon tools with
+    your Linux distribution or KIWI. Amazon provides two sets of tools,
+    AMI tools and API tools. The tools can be downloaded from the Amazon
+    web site at &lt;a class=&quot;ulink&quot; href=&quot;<A HREF="http://aws.amazon.com/developertools/368">http://aws.amazon.com/developertools/368</A>&quot; target=&quot;_top&quot;&gt;<A HREF="http://aws.amazon.com/developertools/368&lt;/a">http://aws.amazon.com/developertools/368&lt;/a</A>&gt; and
+    &lt;a class=&quot;ulink&quot; href=&quot;<A HREF="http://aws.amazon.com/developertools/351">http://aws.amazon.com/developertools/351</A>&quot; target=&quot;_top&quot;&gt;<A HREF="http://aws.amazon.com/developertools/351&lt;/a">http://aws.amazon.com/developertools/351&lt;/a</A>&gt; respectively.
+    The documentation for the command line tools may be accessed on the
+    Amazon web-site as well at
+    &lt;a class=&quot;ulink&quot; href=&quot;<A HREF="http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference">http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference</A>&quot; target=&quot;_top&quot;&gt;<A HREF="http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference&lt;/a">http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference&lt;/a</A>&gt;. While KIWI only needs to interact with the AMI tools to create the
+    AMI you will also need to install the API tools to interact with EC2.
+    You must at least install the AMI tools to create an EC2 image with KIWI.
+    &lt;/p&gt;&lt;p&gt;When working with the Amazon tools it is useful to set the
+    EC2_HOME, EC2_PRIVATE_KEY, and EC2_CERT environment variables. Setting
+    EC2_PRIVATE_KEY, and EC2_CERT allows you to forego specification of the
+    &lt;code class=&quot;option&quot;&gt;--private-key&lt;/code&gt; and &lt;code class=&quot;option&quot;&gt;--cert&lt;/code&gt; with every
+    command. The <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">EC at _HOME</A> environment variable is used by the tools to find
+    required libraries.
+    &lt;/p&gt;&lt;div class=&quot;itemizedlist&quot;&gt;&lt;ul class=&quot;itemizedlist&quot; type=&quot;disc&quot;&gt;&lt;li class=&quot;listitem&quot;&gt;&lt;p&gt;EC2_HOME&lt;/p&gt;&lt;p&gt;Location of the bin and lib directories installed by the
+            Amazon tools. A good location for the tools on your
+            system is &lt;code class=&quot;filename&quot;&gt;/usr/local&lt;/code&gt;.
+        &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;listitem&quot;&gt;&lt;p&gt;EC2_PRIVATE_KEY&lt;/p&gt;&lt;p&gt;Path to your private key file (including the filename). For
+            example &lt;code class=&quot;filename&quot;&gt;/home/USERNAME/AWS/keys/pk-....pem&lt;/code&gt;
+        &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;listitem&quot;&gt;&lt;p&gt;EC2_CERT&lt;/p&gt;&lt;p&gt;Path to your certificate file (including the filename). For
+            example &lt;code class=&quot;filename&quot;&gt;/home/USERNAME/AWS/keys/cert-....pem&lt;/code&gt;
+        &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;p&gt;Please note that your account will be billed by Amazon at the 
+     published rate for any computing resources you consume in EC2. This
+     includes but is not limited to, running instances, storing data
+     (your image) on S3 or EBS, and network traffic.
+    &lt;/p&gt;&lt;div class=&quot;sect1&quot; title=&quot;13.1.&#160;Building the suse-ec2-guest Example&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h2 class=&quot;title&quot; style=&quot;clear: both&quot;&gt;&lt;a name=&quot;sec.ec2.building&quot;&gt;&lt;/a&gt;13.1.&#160;Building the suse-ec2-guest Example&lt;span class=&quot;permalink&quot;&gt;&lt;a alt=&quot;Permalink&quot; title=&quot;13.1.&#160;Building the suse-ec2-guest Example&quot; href=&quot;#sec.ec2.building&quot;&gt;&#182;&lt;/a&gt;&lt;/span&gt;&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;The example provided with KIWI uses openSUSE as the base
+      distribution and includes the base pattern plus the vim editor.
+    &lt;/p&gt;&lt;p&gt;Before building the EC2 example assure that the EC2 command line
+      tools are installed and work as expected. Executing the 
+      &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-describe-images&lt;/strong&gt;&lt;/span&gt; &lt;code class=&quot;option&quot;&gt;-a&lt;/code&gt; command
+      should return a list of all available instances in EC2. Further, you
+      need to edit the &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt; file of the example
+      and enter your EC2 account information. Replace the values for
+      &lt;code class=&quot;sgmltag-element&quot;&gt;ec2accountnr&lt;/code&gt;,
+      &lt;code class=&quot;sgmltag-element&quot;&gt;ec2privatekeyfile&lt;/code&gt;, and
+      &lt;code class=&quot;sgmltag-element&quot;&gt;ec2certfile&lt;/code&gt;. Note that the account
+      number is displayed with dsahes ('-&quot;) on the Amazon web site, but the
+      entry in &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt; is expected to be numeric only.
+      The private key file is the private file you downloaded when you
+      created the certificate. It is recommended to create a copy of the
+      example &lt;code class=&quot;filename&quot;&gt;/usr/share/doc/packages/kiwi/examples/suse-&lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;Version&lt;/code&gt;&lt;/em&gt;/suse-ec2-guest&lt;/code&gt;.
+    &lt;/p&gt;&lt;p&gt;You are now ready to build the EC2 example. Lets assume you copied
+      the example configuration directory to /tmp prior to modifying the
+      &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt; file.
+    &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;
+        &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;kiwi&lt;/strong&gt;&lt;/span&gt; --prepare /tmp/suse-ec2-guest --root /tmp/myec2
+    &lt;/pre&gt;&lt;pre class=&quot;screen&quot;&gt;
+        &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;kiwi&lt;/strong&gt;&lt;/span&gt; --create /tmp/myec2 -d /tmp/myec2-result -y
+    &lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;sect1&quot; title=&quot;13.2.&#160;Using the Image&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h2 class=&quot;title&quot; style=&quot;clear: both&quot;&gt;&lt;a name=&quot;sec.ec2.using&quot;&gt;&lt;/a&gt;13.2.&#160;Using the Image&lt;span class=&quot;permalink&quot;&gt;&lt;a alt=&quot;Permalink&quot; title=&quot;13.2.&#160;Using the Image&quot; href=&quot;#sec.ec2.using&quot;&gt;&#182;&lt;/a&gt;&lt;/span&gt;&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt; The generated image needs to be transfered to Amazon. The upload
+      of the AMI is performed using the &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-upload-bundle&lt;/strong&gt;&lt;/span&gt;
+      command line tool. This tool is part of the API tools provided by Amazon.
+      Upload the AMI as follows, replacing 
+      &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;AWS_Key_ID&lt;/code&gt;&lt;/em&gt; and
+      &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;AWS_secret_Key_ID&lt;/code&gt;&lt;/em&gt; with your Amazon key
+      information. Also you may want to choose a different name for your
+      bucket than &lt;code class=&quot;filename&quot;&gt;myImages&lt;/code&gt;. If the bucket does not
+      exist in S3 it will be created.
+    &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-upload-bundle&lt;/strong&gt;&lt;/span&gt; -b &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;myImages&lt;/code&gt;&lt;/em&gt; \
+        -a &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;AWS_Key_ID&lt;/code&gt;&lt;/em&gt; -s &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;AWS_secret_Key_ID&lt;/code&gt;&lt;/em&gt; -m /tmp/myec2/ \
+     suse-11.3-ec2-guest.i686-1.1.2.ec2/ \
+     suse-11.3-ec2-guest.i686-1.1.2.ami.manifest.xml
+    &lt;/pre&gt;&lt;p&gt;After the upload process is complete register your image with the
+      EC2 infrastructure using the &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-register&lt;/strong&gt;&lt;/span&gt;
+      command as shown below. The result of the registration
+      process is an AMI ID returned on the command line in the form
+      &lt;span class=&quot;quote&quot;&gt;&#8220;&lt;span class=&quot;quote&quot;&gt;ami-&lt;/span&gt;&#8221;&lt;/span&gt; followed by a random key sequence.
+    &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-register&lt;/strong&gt;&lt;/span&gt; myImages/ suse-11.3-ec2-guest.i686-1.1.2.ami.manifest.xml &lt;/pre&gt;&lt;p&gt;Once the image is registered via the &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-register&lt;/strong&gt;&lt;/span&gt;
+      command you can use the AWS management console in your browser to 
+      launch an instance of your image. It is alos possible to launch an
+      instance from the command line. This process is demonstrated below.
+      The &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-describe-images&lt;/strong&gt;&lt;/span&gt; command will provide you
+      with an overview of all your registered images.
+    &lt;/p&gt;&lt;p&gt;Prior to launching your instance from the command line you will need
+      to have a keypair. In the Web UI the launch wizard will guide you
+      through this process. The command line interface if the
+      &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-add-keypair&lt;/strong&gt;&lt;/span&gt; command. The public/private
+      keypair is used to allow you to have access to your instance. If you
+      do not already have a keypair for interacting with EC2 images you can
+      generate a keypair as shown below. The 
+      &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;gsg-keypair&lt;/code&gt;&lt;/em&gt; name is used in this example,
+      but you can choose any name you like. As you will need to use the
+      key quite often you probably want a name that is easy to remember
+      and not too terribly long to type.
+    &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-add-keypair&lt;/strong&gt;&lt;/span&gt; gsg-keypair &lt;/pre&gt;&lt;p&gt;
+      Save the private key returned by the command in a local file.
+      Using your favorite text editor, create a file named 
+      &lt;code class=&quot;filename&quot;&gt;id_rsa-gsg-keypair&lt;/code&gt; and paste
       everything between (and including) the &lt;code class=&quot;literal&quot;&gt;-----BEGIN RSA
-        PRIVATE KEY-----&lt;/code&gt; and &lt;code class=&quot;literal&quot;&gt;-----END RSA PRIVATE
-        KEY-----&lt;/code&gt; lines into it. To review your keypairs call
-        &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-describe-keypairs&lt;/strong&gt;&lt;/span&gt;. &lt;/p&gt;&lt;p&gt;We are almost done now but to be able to run an instance it&#8217;s
-      required to select an appropriate AKI ID from the &lt;a class=&quot;xref&quot; href=&quot;#tab.ec2.kernel-image-ids&quot; title=&quot;Table&#160;13.1.&#160;Amazon Kernel Image IDs&quot;&gt;Amazon Kernel Image IDs&lt;/a&gt;  
-      table below. For this host,
-        &lt;span class=&quot;emphasis&quot;&gt;&lt;em&gt;aki-407d9529&lt;/em&gt;&lt;/span&gt; is being chosen, because we
-      are bundling an AMI representing a virtual disk with PVGrub. If
-      the table below is outdated just check the current ID list at
-      Amazon directly &lt;/p&gt;&lt;div class=&quot;table&quot;&gt;&lt;a name=&quot;tab.ec2.kernel-image-ids&quot;&gt;&lt;/a&gt;&lt;p class=&quot;title&quot;&gt;&lt;b&gt;Table&#160;13.1.&#160;Amazon Kernel Image IDs&lt;/b&gt;&lt;span class=&quot;permalink&quot;&gt;&lt;a alt=&quot;Permalink&quot; title=&quot;Table&#160;13.1.&#160;Amazon Kernel Image IDs&quot; href=&quot;#tab.ec2.kernel-image-ids&quot;&gt;&#182;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;div class=&quot;table-contents&quot;&gt;&lt;table summary=&quot;Amazon Kernel Image IDs&quot; border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;AKI&lt;/th&gt;&lt;th&gt;Name&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;aki-407d9529&lt;/td&gt;&lt;td&gt;&lt;code class=&quot;filename&quot;&gt;ec2-public-images/pv-grub-hd0-V1.01-i386.gz.manifest.xml&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;aki-427d952b&lt;/td&gt;&lt;td&gt;&lt;code class=&quot;filename&quot;&gt;ec2-public-images/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;br class=&quot;table-break&quot;&gt;&lt;p&gt;Fire up your new ec2 instance with the following command: &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-run-instances&lt;/strong&gt;&lt;/span&gt; ami-... \
+      PRIVATE KEY-----&lt;/code&gt; and &lt;code class=&quot;literal&quot;&gt;-----END RSA PRIVATE
+      KEY-----&lt;/code&gt; lines into it. To review your existing
+      keypairs use the &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-describe-keypairs&lt;/strong&gt;&lt;/span&gt; command.
+    &lt;/p&gt;&lt;p&gt;The Amazon EC2 infrastructure uses PVGrub (Para-Virtual Grub) to
+      boot instances of an image. Basically Amazon provides a minimal
+      Linux kernel that has parts of Grub built in and is specialized
+      to EC2. PVGrub at some point looks for and reads the 
+      &lt;code class=&quot;filename&quot;&gt;/boot/grub/menu.lst&lt;/code&gt; file in
+      your image and then boots the specified kernel. Each availability zone
+      in EC2 has it's own independent copy of this boot mechanism. Every boot
+      kernel has an ID starting with the TLA (Three Letter Acronym)
+      &lt;span class=&quot;emphasis&quot;&gt;&lt;em&gt;aki&lt;/em&gt;&lt;/span&gt;. The 
+      &lt;a class=&quot;xref&quot; href=&quot;#tab.ec2.kernel-image-ids&quot; title=&quot;Table&#160;13.1.&#160;Amazon Kernel Image IDs&quot;&gt;Amazon Kernel Image IDs&lt;/a&gt;
+      table below provides guidelines for the selection of the AKI ID.
+
+    &lt;/p&gt;&lt;div class=&quot;table&quot;&gt;&lt;a name=&quot;tab.ec2.kernel-image-ids&quot;&gt;&lt;/a&gt;&lt;p class=&quot;title&quot;&gt;&lt;b&gt;Table&#160;13.1.&#160;Amazon Kernel Image IDs&lt;/b&gt;&lt;span class=&quot;permalink&quot;&gt;&lt;a alt=&quot;Permalink&quot; title=&quot;Table&#160;13.1.&#160;Amazon Kernel Image IDs&quot; href=&quot;#tab.ec2.kernel-image-ids&quot;&gt;&#182;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;div class=&quot;table-contents&quot;&gt;&lt;table summary=&quot;Amazon Kernel Image IDs&quot; border=&quot;1&quot;&gt;&lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;&lt;/colgroup&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Zone&lt;/th&gt;&lt;th&gt;AKI&lt;/th&gt;&lt;th&gt;Arch&lt;/th&gt;&lt;th&gt;Name&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;US-East&lt;/td&gt;&lt;td&gt;aki-407d9529&lt;/td&gt;&lt;td&gt;x86&lt;/td&gt;&lt;td&gt;&lt;code class=&quot;filename&quot;&gt;ec2-public-images/pv-grub-hd0-V1.01-i386.gz.manifest.xml&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;US-East&lt;/td&gt;&lt;td&gt;aki-427d952b&lt;/td&gt;&lt;td&gt;x86-64&lt;/td&gt;&lt;td&gt;&lt;code class=&quot;filename&quot;&gt;ec2-public-images/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;US-West&lt;/td&gt;&lt;td&gt;aki-99af01dc&lt;/td&gt;&lt;td&gt;x86&lt;/td&gt;&lt;td&gt;&lt;code class=&quot;filename&quot;&gt;ec2-public-images-us-west-1/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;US-West&lt;/td&gt;&lt;td&gt;aki-99af01dc&lt;/td&gt;&lt;td&gt;x86-
 64&lt;/td&gt;&lt;td&gt;&lt;code class=&quot;filename&quot;&gt;ec2-public-images-us-west-1/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;EU-West&lt;/td&gt;&lt;td&gt;aki-4deec439&lt;/td&gt;&lt;td&gt;x86&lt;/td&gt;&lt;td&gt;&lt;code class=&quot;filename&quot;&gt;ec2-public-images-eu/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;EU-West&lt;/td&gt;&lt;td&gt;aki-4feec43b&lt;/td&gt;&lt;td&gt;x86-64&lt;/td&gt;&lt;td&gt;&lt;code class=&quot;filename&quot;&gt;ec2-public-images-eu/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;AP-SouthEast&lt;/td&gt;&lt;td&gt;aki-13d5aa41&lt;/td&gt;&lt;td&gt;x86&lt;/td&gt;&lt;td&gt;&lt;code class=&quot;filename&quot;&gt;ec2-public-images-ap-southeast-1/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;AP-SouthEast&lt;/td&gt;&lt;td&gt;aki-11d5aa43&lt;/td&gt;&lt;td&gt;x86-64&lt;/td&gt;&lt;td&gt;&lt;code class=&quot;filename&quot;&gt;ec2-public-images-ap-southeast-1/pv-grub-hd0-V1.01-x86_64.gz.manifest.xml&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;&lt;br class=&quot;table-break&quot;&gt;
+
+    &lt;/p&gt;&lt;p&gt;The information in the table above was extracted from the Amazon
+      documentation found at: &lt;a class=&quot;ulink&quot; href=&quot;<A HREF="http://ec2-downloads.s3.amazonaws.com/user_specified_kernels.pdf">http://ec2-downloads.s3.amazonaws.com/user_specified_kernels.pdf</A>&quot; target=&quot;_top&quot;&gt;<A HREF="http://ec2-downloads.s3.amazonaws.com/user_specified_kernels.pdf&lt;/a">http://ec2-downloads.s3.amazonaws.com/user_specified_kernels.pdf&lt;/a</A>&gt;.
+      Kiwi images created for EC2 do not contain a partition table. Therefore,
+      PVGrub images designated by &lt;span class=&quot;emphasis&quot;&gt;&lt;em&gt;h0&lt;/em&gt;&lt;/span&gt; in the manifest name
+      need to be used with the images created by Kiwi.
+    &lt;/p&gt;&lt;p&gt;With the appropriate boot kernel selected you can start your image.
+      In this example we use the x86 Kernel in the US-East availability
+      zone.
+    &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-run-instances&lt;/strong&gt;&lt;/span&gt; ami-... \
    --kernel aki-407d9529 \ 
-   -k gsg-keypair &lt;/pre&gt;&lt;p&gt;To check the state of your instance(s) call the 
-      command &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-describe-instances&lt;/strong&gt;&lt;/span&gt;.&lt;/p&gt;&lt;p&gt;If you see your instance at the status: &lt;span class=&quot;emphasis&quot;&gt;&lt;em&gt;running&lt;/em&gt;&lt;/span&gt; you can login into it. If you can&#8217;t make
-      sure you have allowed port 22 to be available &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-authorize&lt;/strong&gt;&lt;/span&gt; default -p 22 &lt;/pre&gt;&lt;p&gt;Congratulations ! You made it and can now use Amazons storage
-      and computing power. &lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;chapter&quot; title=&quot;Chapter&#160;14.&#160;KIWI Testsuite&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h2 class=&quot;title&quot;&gt;&lt;a name=&quot;chap.testing&quot;&gt;&lt;/a&gt;Chapter&#160;14.&#160;KIWI Testsuite&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;toc&quot;&gt;&lt;p&gt;&lt;b&gt;Table of Contents&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.testing.testsuite&quot;&gt;14.1. Testsuite Packages&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.testing.creating&quot;&gt;14.2. Creating a Test&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2562254&quot;&gt;&lt;/a&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2562266&quot;&gt;&lt;/a&gt;&lt;p&gt;The KIWI test suite is useful to perform basic quality checks on
+   -k gsg-keypair &lt;/pre&gt;&lt;p&gt;To check the state of your instance(s) use the
+      command &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-describe-instances&lt;/strong&gt;&lt;/span&gt;.&lt;/p&gt;&lt;p&gt;Once the instance state is shown as &lt;span class=&quot;emphasis&quot;&gt;&lt;em&gt;running&lt;/em&gt;&lt;/span&gt; you can login into it using ssh as follows:
+    &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ssh&lt;/strong&gt;&lt;/span&gt; -i &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;PATH_TO_PRIVATE_KEY&lt;/code&gt;&lt;/em&gt; \
+      root@&lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;YOUR_INSTANCE_ID&lt;/code&gt;&lt;/em&gt;
+    &lt;/pre&gt;&lt;p&gt;If you are unable to log in, it is most likely that the security
+      setting for the instance is blocking the ssh access. To remedy this
+      problem open port 22 using the &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-authorize&lt;/strong&gt;&lt;/span&gt;
+      command as shown below.
+    &lt;/p&gt;&lt;pre class=&quot;screen&quot;&gt;&lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-authorize&lt;/strong&gt;&lt;/span&gt; default -p 22 &lt;/pre&gt;&lt;p&gt;A few more remarks about EC2 are in order. As you have seen at the
+     end of our example it is important that you include ssh in your image
+     and that you start the ssh daemon in your image. Starting the sshd 
+     process is accomplished by adding
+     &lt;span class=&quot;emphasis&quot;&gt;&lt;em&gt;suseInsertService sshd&lt;/em&gt;&lt;/span&gt; in
+     &lt;code class=&quot;filename&quot;&gt;config.sh&lt;/code&gt;.
+   &lt;/p&gt;&lt;p&gt;Earlier in the example you generated a keypair that was then used
+     to allow you to log into your running instance. The key does need to get
+     injected into the instance when you launch it. This key injection happens
+     through an init script &lt;code class=&quot;filename&quot;&gt;/etc/init.d/amazon&lt;/code&gt;. This 
+     script is provided by the &lt;code class=&quot;filename&quot;&gt;suse-ami-tools&lt;/code&gt; package.
+     Therefore, you need to include this package in the 
+     &lt;code class=&quot;sgmltag-element&quot;&gt;packages&lt;/code&gt; section of your
+     &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt; file. You also need to make sure the
+     &lt;code class=&quot;filename&quot;&gt;amazon&lt;/code&gt; init script gets executed during boot by
+     using &lt;span class=&quot;emphasis&quot;&gt;&lt;em&gt;suseInsertService amazon&lt;/em&gt;&lt;/span&gt; in your
+     &lt;code class=&quot;filename&quot;&gt;config.sh&lt;/code&gt; file.
+   &lt;/p&gt;&lt;p&gt;Last but not least some information about the storage options. Amazon
+     offers S3 &lt;a class=&quot;ulink&quot; href=&quot;<A HREF="http://aws.amazon.com/s3/">http://aws.amazon.com/s3/</A>&quot; target=&quot;_top&quot;&gt;<A HREF="http://aws.amazon.com/s3/&lt;/a">http://aws.amazon.com/s3/&lt;/a</A>&gt; backed images
+     (this is what we have worked with in this example) and EBS
+     (Elastic Block Store) &lt;a class=&quot;ulink&quot; href=&quot;<A HREF="http://aws.amazon.com/ebs/">http://aws.amazon.com/ebs/</A>&quot; target=&quot;_top&quot;&gt;<A HREF="http://aws.amazon.com/ebs/&lt;/a">http://aws.amazon.com/ebs/&lt;/a</A>&gt; backed
+     images. At the time of this writing it is not possible to use an image 
+     format created by Kiwi with the Amazon tools directly to create an
+     EBS backed image. It is possible to create an EBS volume from a KIWI
+     raw image, but the process is cumbersome and requires a running Linux
+     instance in EC2. It is anticipated that at some point in the future the
+     Amazon team will address this problem and that the
+     &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-import-instance&lt;/strong&gt;&lt;/span&gt; command in conjunction with the
+     &lt;span class=&quot;command&quot;&gt;&lt;strong&gt;ec2-upload-disk-image&lt;/strong&gt;&lt;/span&gt; command will be able to create
+     EBS volumes from Linux based disk images. At this point you will be able
+     to use the raw image created by KIWI to create an EBS backed image.
+   &lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;chapter&quot; title=&quot;Chapter&#160;14.&#160;KIWI Testsuite&quot;&gt;&lt;div class=&quot;titlepage&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;h2 class=&quot;title&quot;&gt;&lt;a name=&quot;chap.testing&quot;&gt;&lt;/a&gt;Chapter&#160;14.&#160;KIWI Testsuite&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;toc&quot;&gt;&lt;p&gt;&lt;b&gt;Table of Contents&lt;/b&gt;&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.testing.testsuite&quot;&gt;14.1. Testsuite Packages&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;dt&gt;&lt;span class=&quot;sect1&quot;&gt;&lt;a href=&quot;#sec.testing.creating&quot;&gt;14.2. Creating a Test&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2562718&quot;&gt;&lt;/a&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2562730&quot;&gt;&lt;/a&gt;&lt;p&gt;The KIWI test suite is useful to perform basic quality checks on
     the image root directory. The test cases are stored in
     subdirectories below &lt;code class=&quot;filename&quot;&gt;/usr/share/kiwi/tests&lt;/code&gt;. To run the testsuite
     call KIWI as follows: &lt;/p&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   testsuite   &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;image-root&lt;/code&gt;&lt;/em&gt;  [  test &lt;code class=&quot;option&quot;&gt;name&lt;/code&gt;    test &lt;code class=&quot;option&quot;&gt;name&lt;/code&gt; ...]&lt;/p&gt;&lt;/div&gt;&lt;p&gt;If no test names are set, the default tests rpm and ldd run. The
@@ -2363,7 +2469,7 @@ VENDOR_CONF=xorg.conf.maxterm_3500;/etc/X11/xorg.conf;192.168.1.2;4096,someconfi
       The creation step is based on the result of the
       preparation step and uses the contents of the new image root tree to
       create the output image. If the image type ISO was requested, the
-      output image would be a file with the suffix &lt;code class=&quot;filename&quot;&gt;.iso&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2562919&quot;&gt;&lt;/a&gt; representing a live system on
+      output image would be a file with the suffix &lt;code class=&quot;filename&quot;&gt;.iso&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2563380&quot;&gt;&lt;/a&gt; representing a live system on
       CD or DVD. Other than that KIWI is able to create images for
       virtual and para-virtual (Xen) environments as well as for USB
       stick, PXE network clients and OEM customized Linux systems. 
@@ -2404,7 +2510,7 @@ VENDOR_CONF=xorg.conf.maxterm_3500;/etc/X11/xorg.conf;192.168.1.2;4096,someconfi
     &lt;/p&gt;&lt;p&gt;
       The migration process will always place it's result into the
       &lt;code class=&quot;filename&quot;&gt;/tmp/$OptionValueOf-m&lt;/code&gt; directory. The reason for this is because
-      &lt;code class=&quot;filename&quot;&gt;/tmp&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2563248&quot;&gt;&lt;/a&gt; is always excluded from the migration operation and therefore
+      &lt;code class=&quot;filename&quot;&gt;/tmp&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2563708&quot;&gt;&lt;/a&gt; is always excluded from the migration operation and therefore
       we can safely place new files there without influencing the
       migration itself. You should have at least 50&#160;MB free space for
       the cache file and the image description all the rest are just
@@ -2428,17 +2534,17 @@ VENDOR_CONF=xorg.conf.maxterm_3500;/etc/X11/xorg.conf;192.168.1.2;4096,someconfi
       third step after preparation and creation. KIWI calls the postprocessing
       modules automatically according to the specified output image type and
       attributes but it's also possible to call them manually.
-    &lt;/p&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --bootstick &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;initrd&lt;/code&gt;&lt;/em&gt;  [--bootstick-system &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;systemImage&lt;/code&gt;&lt;/em&gt;] [--bootstick-device &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;device&lt;/code&gt;&lt;/em&gt;]&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --bootvm &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;initrd&lt;/code&gt;&lt;/em&gt;   --bootvm-system &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;systemImage&lt;/code&gt;&lt;/em&gt;  [--bootvm-disksize &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/em&gt;]&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --bootcd &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;initrd&lt;/code&gt;&lt;/em&gt; &lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --installcd &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;initrd&lt;/code&gt;&lt;/em&gt;   --installcd-system &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;vmx-system-image&lt;/code&gt;&lt;/em&gt; &lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --installstick &lt;em 
 class=&quot;replaceable&quot;&gt;&lt;code&gt;initrd&lt;/code&gt;&lt;/em&gt;   --installstick-system &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;vmx-system-image&lt;/code&gt;&lt;/em&gt; &lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; title=&quot;Image format conversion&quot;&gt;&lt;a name=&quot;id2563524&quot;&gt;&lt;/a&gt;&lt;h2&gt;Image format conversion&lt;/h2&gt;&lt;p&gt;
+    &lt;/p&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --bootstick &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;initrd&lt;/code&gt;&lt;/em&gt;  [--bootstick-system &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;systemImage&lt;/code&gt;&lt;/em&gt;] [--bootstick-device &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;device&lt;/code&gt;&lt;/em&gt;]&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --bootvm &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;initrd&lt;/code&gt;&lt;/em&gt;   --bootvm-system &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;systemImage&lt;/code&gt;&lt;/em&gt;  [--bootvm-disksize &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;size&lt;/code&gt;&lt;/em&gt;]&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --bootcd &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;initrd&lt;/code&gt;&lt;/em&gt; &lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --installcd &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;initrd&lt;/code&gt;&lt;/em&gt;   --installcd-system &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;vmx-system-image&lt;/code&gt;&lt;/em&gt; &lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --installstick &lt;em 
 class=&quot;replaceable&quot;&gt;&lt;code&gt;initrd&lt;/code&gt;&lt;/em&gt;   --installstick-system &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;vmx-system-image&lt;/code&gt;&lt;/em&gt; &lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; title=&quot;Image format conversion&quot;&gt;&lt;a name=&quot;id2563984&quot;&gt;&lt;/a&gt;&lt;h2&gt;Image format conversion&lt;/h2&gt;&lt;p&gt;
       The KIWI format conversion is useful to perform the creation of
 	  another image output format like vmdk for VMware or ovf the open
       virtual machine format. Along with the conversion KIWI also creates
       the virtual machine configuration according to the format if
       there is a machine section specified in the XML description
-    &lt;/p&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --convert &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;systemImage&lt;/code&gt;&lt;/em&gt;  [--format &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;vmdk|ovf|qcow2&lt;/code&gt;&lt;/em&gt;]&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; title=&quot;Testsuite&quot;&gt;&lt;a name=&quot;id2563568&quot;&gt;&lt;/a&gt;&lt;h2&gt;Testsuite&lt;/h2&gt;&lt;p&gt;
+    &lt;/p&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --convert &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;systemImage&lt;/code&gt;&lt;/em&gt;  [--format &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;vmdk|ovf|qcow2&lt;/code&gt;&lt;/em&gt;]&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; title=&quot;Testsuite&quot;&gt;&lt;a name=&quot;id2564028&quot;&gt;&lt;/a&gt;&lt;h2&gt;Testsuite&lt;/h2&gt;&lt;p&gt;
       The KIWI test suite is useful to perform basic quality checks on
       the image root directory. The test cases are stored in subdirectories
       below &lt;code class=&quot;filename&quot;&gt;/usr/share/kiwi/tests&lt;/code&gt;.
-    &lt;/p&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --testsuite &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;image-root&lt;/code&gt;&lt;/em&gt;  [--test &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;name&lt;/code&gt;&lt;/em&gt;...]&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; title=&quot;Helper Tools&quot;&gt;&lt;a name=&quot;id2563613&quot;&gt;&lt;/a&gt;&lt;h2&gt;Helper Tools&lt;/h2&gt;&lt;p&gt;
+    &lt;/p&gt;&lt;div class=&quot;cmdsynopsis&quot;&gt;&lt;p&gt;&lt;code class=&quot;command&quot;&gt;kiwi&lt;/code&gt;   --testsuite &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;image-root&lt;/code&gt;&lt;/em&gt;  [--test &lt;em class=&quot;replaceable&quot;&gt;&lt;code&gt;name&lt;/code&gt;&lt;/em&gt;...]&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; title=&quot;Helper Tools&quot;&gt;&lt;a name=&quot;id2564074&quot;&gt;&lt;/a&gt;&lt;h2&gt;Helper Tools&lt;/h2&gt;&lt;p&gt;
       The helper tools provide optional functions like
       creating a crypted password string for the users section of the
       &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt; file or signing the image
@@ -2682,7 +2788,7 @@ VENDOR_CONF=xorg.conf.maxterm_3500;/etc/X11/xorg.conf;192.168.1.2;4096,someconfi
       been set up. If there are SUSE Linux related YaST XML information, these are
       validated before &lt;code class=&quot;filename&quot;&gt;config.sh&lt;/code&gt; is called too. If you exit config.sh with an
       exit code != 0 kiwi will exit with an error too.
-    &lt;/p&gt;&lt;div class=&quot;example&quot;&gt;&lt;a name=&quot;id2565006&quot;&gt;&lt;/a&gt;&lt;p class=&quot;title&quot;&gt;&lt;b&gt;Example&#160;A.1.&#160;Template for config.sh&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;example-contents&quot;&gt;&lt;pre class=&quot;programlisting&quot;&gt;
+    &lt;/p&gt;&lt;div class=&quot;example&quot;&gt;&lt;a name=&quot;id2565466&quot;&gt;&lt;/a&gt;&lt;p class=&quot;title&quot;&gt;&lt;b&gt;Example&#160;A.1.&#160;Template for config.sh&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;example-contents&quot;&gt;&lt;pre class=&quot;programlisting&quot;&gt;
 #======================================
 # Functions...
 #--------------------------------------
@@ -2780,7 +2886,7 @@ exit&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br class=&quot;example-break&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; titl
             Call all postin scriptlets which among other things activates
             all required default services using suseInsertService
           &lt;/p&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;term&quot;&gt;[&lt;span class=&quot;optional&quot;&gt;suseActivateServices&lt;/span&gt;]&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;
-            Check all services in &lt;code class=&quot;filename&quot;&gt;/etc/init.d/&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2565586&quot;&gt;&lt;/a&gt; and activate them
+            Check all services in &lt;code class=&quot;filename&quot;&gt;/etc/init.d/&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2566046&quot;&gt;&lt;/a&gt; and activate them
             by calling suseInsertService
           &lt;/p&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;term&quot;&gt;[&lt;span class=&quot;optional&quot;&gt;suseCloneRunlevel {runlevel}&lt;/span&gt;]&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;
             Clone the given runlevel to work in the same way
@@ -2818,7 +2924,7 @@ exit&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br class=&quot;example-break&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; titl
 			in &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt;
           &lt;/p&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;term&quot;&gt;[&lt;span class=&quot;optional&quot;&gt;$kiwi_delete&lt;/span&gt;]&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;
             A list of all packages which are part of the packages section
-            with &lt;code class=&quot;sgmltag-attribute&quot;&gt;type&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2565799&quot;&gt;&lt;/a&gt;=&quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;delete&lt;/code&gt;&quot; in &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt;
+            with &lt;code class=&quot;sgmltag-attribute&quot;&gt;type&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2566260&quot;&gt;&lt;/a&gt;=&quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;delete&lt;/code&gt;&quot; in &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt;
           &lt;/p&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;term&quot;&gt;[&lt;span class=&quot;optional&quot;&gt;$kiwi_drivers&lt;/span&gt;]&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;
             A comma separated list of the driver entries as listed in the
             drivers section of the &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt;. Similar variables exists for
@@ -2854,7 +2960,7 @@ exit&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br class=&quot;example-break&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; titl
       image types from one previously prepared tree one needs to take into account
       that &lt;code class=&quot;filename&quot;&gt;images.sh&lt;/code&gt; can be called more than one time. If you exit &lt;code class=&quot;filename&quot;&gt;images.sh&lt;/code&gt;
       with an exit code != 0 KIWI will exit with an error too.
-    &lt;/p&gt;&lt;div class=&quot;example&quot;&gt;&lt;a name=&quot;id2566135&quot;&gt;&lt;/a&gt;&lt;p class=&quot;title&quot;&gt;&lt;b&gt;Example&#160;A.2.&#160;Template for images.sh&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;example-contents&quot;&gt;&lt;pre class=&quot;programlisting&quot;&gt;#======================================
+    &lt;/p&gt;&lt;div class=&quot;example&quot;&gt;&lt;a name=&quot;id2566595&quot;&gt;&lt;/a&gt;&lt;p class=&quot;title&quot;&gt;&lt;b&gt;Example&#160;A.2.&#160;Template for images.sh&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;example-contents&quot;&gt;&lt;pre class=&quot;programlisting&quot;&gt;#======================================
 # Functions...
 #--------------------------------------
 test -f /.kconfig &amp;&amp; . /.kconfig
@@ -2887,7 +2993,7 @@ exit&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br class=&quot;example-break&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; titl
           &lt;/p&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;term&quot;&gt;[&lt;span class=&quot;optional&quot;&gt;baseGetProfilesUsed&lt;/span&gt;]&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;
             Return the name(s) of profiles used to build this image.
           &lt;/p&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;term&quot;&gt;[&lt;span class=&quot;optional&quot;&gt;baseGetPackagesForDeletion&lt;/span&gt;]&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;
-            Return the list of packages setup in the packages &lt;code class=&quot;sgmltag-attribute&quot;&gt;type&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2566264&quot;&gt;&lt;/a&gt;=&quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;delete&lt;/code&gt;&quot;
+            Return the list of packages setup in the packages &lt;code class=&quot;sgmltag-attribute&quot;&gt;type&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2566724&quot;&gt;&lt;/a&gt;=&quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;delete&lt;/code&gt;&quot;
             section of the &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt; used to build
             this image.
           &lt;/p&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;term&quot;&gt;[&lt;span class=&quot;optional&quot;&gt;baseSetupOEMPartition&lt;/span&gt;]&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;
@@ -2939,7 +3045,7 @@ exit&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br class=&quot;example-break&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; titl
             The contents of the timezone setup as done in &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt;
           &lt;/p&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;term&quot;&gt;[&lt;span class=&quot;optional&quot;&gt;$kiwi_delete&lt;/span&gt;]&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;
             A list of all packages which are part of the packages section
-            with &lt;code class=&quot;sgmltag-attribute&quot;&gt;type&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2566578&quot;&gt;&lt;/a&gt;=&quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;delete&lt;/code&gt;&quot; in &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt;
+            with &lt;code class=&quot;sgmltag-attribute&quot;&gt;type&lt;/code&gt;&lt;a class=&quot;indexterm&quot; name=&quot;id2567038&quot;&gt;&lt;/a&gt;=&quot;&lt;code class=&quot;sgmltag-attvalue&quot;&gt;delete&lt;/code&gt;&quot; in &lt;code class=&quot;filename&quot;&gt;config.xml&lt;/code&gt;
           &lt;/p&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;term&quot;&gt;[&lt;span class=&quot;optional&quot;&gt;$kiwi_profiles&lt;/span&gt;]&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;
             A list of profiles used to build this image
           &lt;/p&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;term&quot;&gt;[&lt;span class=&quot;optional&quot;&gt;$kiwi_drivers&lt;/span&gt;]&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;
@@ -2963,7 +3069,7 @@ exit&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br class=&quot;example-break&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; titl
     &lt;/p&gt;&lt;p&gt;
       The file is sourced by a Perl process and thus Perl compatible syntax
       for the supported variable settings is required.
-    &lt;/p&gt;&lt;div class=&quot;example&quot;&gt;&lt;a name=&quot;id2566802&quot;&gt;&lt;/a&gt;&lt;p class=&quot;title&quot;&gt;&lt;b&gt;Example&#160;A.3.&#160;Template for .kiwi.rc&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;example-contents&quot;&gt;&lt;pre class=&quot;screen&quot;&gt;$BasePath='/usr/share/kiwi';
+    &lt;/p&gt;&lt;div class=&quot;example&quot;&gt;&lt;a name=&quot;id2567262&quot;&gt;&lt;/a&gt;&lt;p class=&quot;title&quot;&gt;&lt;b&gt;Example&#160;A.3.&#160;Template for .kiwi.rc&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;example-contents&quot;&gt;&lt;pre class=&quot;screen&quot;&gt;$BasePath='/usr/share/kiwi';
 $Gzip='bzip2';
 $LogServerPort='4455';
 $System='/usr/share/kiwi/image';&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br class=&quot;example-break&quot;&gt;&lt;/div&gt;&lt;div class=&quot;refsect1&quot; title=&quot;Supported Resource Settings&quot;&gt;&lt;a name=&quot;kiwi.kiwirc.settings&quot;&gt;&lt;/a&gt;&lt;h2&gt;Supported Resource Settings&lt;/h2&gt;&lt;p&gt;
diff --git a/doc/kiwi.pdf b/doc/kiwi.pdf
index 9a111c2..83ef7ae 100644
Binary files a/doc/kiwi.pdf and b/doc/kiwi.pdf differ


hooks/post-receive
-- 
Project kiwi at BerliOS

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003020.html">[Kiwi-devel] Updated examples and doc for EC2 - related to #667303
</A></li>
	<LI>Next message: <A HREF="003022.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 4902e377e83ddea6e3ad6a321b56c2f9e003720f
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3021">[ date ]</a>
              <a href="thread.html#3021">[ thread ]</a>
              <a href="subject.html#3021">[ subject ]</a>
              <a href="author.html#3021">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
