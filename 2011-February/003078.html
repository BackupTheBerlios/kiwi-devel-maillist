<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] Some unit test changes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20Some%20unit%20test%20changes&In-Reply-To=%3C4D5ED270.8070007%40novell.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003077.html">
   <LINK REL="Next"  HREF="003082.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] Some unit test changes</H1>
    <B>Robert Schweikert</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20Some%20unit%20test%20changes&In-Reply-To=%3C4D5ED270.8070007%40novell.com%3E"
       TITLE="[Kiwi-devel] Some unit test changes">rschweikert at novell.com
       </A><BR>
    <I>Fri Feb 18 21:11:28 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003077.html">[Kiwi-devel] kiwi: Weekly report 2011-02-13 - 2011-02-18...
</A></li>
        <LI>Next message: <A HREF="003082.html">[Kiwi-devel] Some unit test changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3078">[ date ]</a>
              <a href="thread.html#3078">[ thread ]</a>
              <a href="subject.html#3078">[ subject ]</a>
              <a href="author.html#3078">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

The attached patch makes mostly cosmetic changes to the unit test data
for the XMLValidator

1.) Fixed the repo specification to point to online repo
2.) Updated the description to indicate what the test does, there is
still room for improvement but his is better than it was before

I also added a cleanup.sh script intended to cleanup artifacts. For
example if XML validation fails do to the schema a *.converted.xml file
may be left over. Upon re-running make test this file will be picked up
by the unittest and then they will fail. The cleanup script (integrated
with the Makefile, gets rid of these artifacts. As we expand the testing
the script can be expanded to cleanup other artifacts.

While I was looking at the tests for the patternType attribute check it
occurred to me that we might have made a conceptual mistake in the way
we treat the patternType attribute.

Currently we enforce that the patternType attribute is only used for
&lt;package type=&quot;image&quot;&gt; and &lt;packages type=&quot;bootstrap&quot;&gt;. However, it
seems perfectly reasonable to allow type=&quot;vmx&quot; or others. The only place
where the patterType attribute should not be allowed appears to be
type=&quot;delete&quot;. basically whenever packages are added to the image the
use of the patternType attribute appears to be reasonable, only when
packages are removed does it not make sense to have patternType attribute.

Checking the patternType attribute is not yet complete a patch will
follow (in the not too distant future) with more comments on this subject.

Thoughts on allowing patternType for all &quot;add&quot; operations?

Thanks,
Robert

-- 
Robert Schweikert                           MAY THE SOURCE BE WITH YOU
Novell-IBM Software Integration Center                LINUX
Tech Lead
<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">rschweikert at novell.com</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">rschweikert at ca.ibm.com</A>
781-464-8147

Novell
Making IT Work As One
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-fix-repo-and-comments-for-unit-test-add-cleanup-scri.patch.gz
Type: application/x-gzip
Size: 4739 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/kiwi-devel/attachments/20110218/df3ed8e6/attachment.bin">https://lists.berlios.de/pipermail/kiwi-devel/attachments/20110218/df3ed8e6/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003077.html">[Kiwi-devel] kiwi: Weekly report 2011-02-13 - 2011-02-18...
</A></li>
	<LI>Next message: <A HREF="003082.html">[Kiwi-devel] Some unit test changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3078">[ date ]</a>
              <a href="thread.html#3078">[ thread ]</a>
              <a href="subject.html#3078">[ subject ]</a>
              <a href="author.html#3078">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
