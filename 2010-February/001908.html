<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. d1dc02e20308713d3234e69f25bdf26fd348d054
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/kiwi-devel/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%20d1dc02e20308713d3234e69f25bdf26fd348d054&In-Reply-To=%3C201002161437.o1GEbUVd000933%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001907.html">
   <LINK REL="Next"  HREF="001909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. d1dc02e20308713d3234e69f25bdf26fd348d054</H1>
    <B>marcus_schaefer at BerliOS</B> 
    <A HREF="mailto:kiwi-devel%40lists.berlios.de?Subject=Re%3A%20%5BKiwi-devel%5D%20%5BGit%5DProject%20kiwi%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%20d1dc02e20308713d3234e69f25bdf26fd348d054&In-Reply-To=%3C201002161437.o1GEbUVd000933%40sheep.berlios.de%3E"
       TITLE="[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. d1dc02e20308713d3234e69f25bdf26fd348d054">marcus_schaefer at mail.berlios.de
       </A><BR>
    <I>Tue Feb 16 15:37:30 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001907.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. f6c67654aa46d54495d1936f2c822ea03ae414b0
</A></li>
        <LI>Next message: <A HREF="001909.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 8683055e77d31495f3da229e9ac93abea75927c0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1908">[ date ]</a>
              <a href="thread.html#1908">[ thread ]</a>
              <a href="subject.html#1908">[ subject ]</a>
              <a href="author.html#1908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;Project kiwi at BerliOS&quot;.

The branch, master has been updated
       via  d1dc02e20308713d3234e69f25bdf26fd348d054 (commit)
       via  06093e0e05afeae3b80905760f88235cc2bb3d27 (commit)
      from  f6c67654aa46d54495d1936f2c822ea03ae414b0 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit d1dc02e20308713d3234e69f25bdf26fd348d054
Author: Marcus Sch&#195;&#164;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&gt;
Date:   Tue Feb 16 15:36:57 2010 +0100

    - v4.17
    - update documentation
    - changed migration to use root path directly and don't mount
      the root device before. As we can't mount it read-only because
      it's already mounted read-write I decided to prevent the mount
      at all and exclude any remote mounted location by searching
      through /proc/mounts

commit 06093e0e05afeae3b80905760f88235cc2bb3d27
Author: Marcus Sch&#195;&#164;fer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at novell.com</A>&gt;
Date:   Tue Feb 16 15:36:29 2010 +0100

    - don't remove libidn it's required for curl based downloads

-----------------------------------------------------------------------

Summary of changes:
diff --git a/doc/LaTex/Revision.txt b/doc/LaTex/Revision.txt
index 5ede4d9..c1e1d90 100644
--- a/doc/LaTex/Revision.txt
+++ b/doc/LaTex/Revision.txt
@@ -1 +1 @@
-4.16
\ No newline at end of file
+4.17
\ No newline at end of file
diff --git a/doc/LaTex/description.tex b/doc/LaTex/description.tex
index f1883bb..f8f9674 100644
--- a/doc/LaTex/description.tex
+++ b/doc/LaTex/description.tex
@@ -433,35 +433,290 @@ supported child elements:
     &lt;/ec2config&gt;
     \end{Command}
 
-\item \textbf{size}\\
-    Specifies the size of the image with a numerical value in
-    Megabytes or Gigabytes. Use the ''unit'' attribute to assign the
-    unit \textbf{M} for Megabytes or \textbf{G} for Gigabytes.
-    KIWI extends the image size automatically if the specified value
-    is too small. If the actual size is more than 100MB larger than
-    the specified size, KIWI aborts with an error
-    message. KIWI does not automatically reduce the image size if
-    the specified value is too large, because the extra space might
-    be needed to, for example, run custom scripts. If no size is
-    specified, KIWI uses the required size plus approximately
-    30\% free space. The optional ''additive'' attribute can be set
-    to tell kiwi to use the required size for the image plus the
-    given size as additional free space. The ''additive'' attribute is
-    a bool attribute and can be set to either true or false.
+\item \textbf{lvmvolumes}\\
+	Using the optional \textbf{lvmvolumes} section it possible to create
+    a LVM (Logical Volume Management) based storage layout. By default the
+    volume group is named kiwiVG. It is possible to change the name of the
+    group by setting the \textbf{lvmgroup} attribute to the desired name.
+    Individual volumes within the volume group are specified using the 
+    \textbf{volume} element. 
+
+    The folowing example shows the creation of a volume named usr and a
+    volume named var inside the volume group systemVG.
 
 	\begin{Command}{12cm}
+	&lt;lvmvolumes lvmgroup=''systemVG''&gt;\\
+	\hspace*{1cm}&lt;volume name=&quot;usr&quot; freespace=&quot;100M&quot;/&gt;\\
+	\hspace*{1cm}&lt;volume name=&quot;var&quot; size=&quot;200M&quot;/&gt;\\
+	&lt;/lvmvolumes&gt;
+	\end{Command}
+
+	With the optional \textbf{freespace} attribute it is possible to
+    add space to the volume. If the freespace attribute is not set the
+    created volume will be 80\% to 90\% full. Using the optional
+    \textbf{size} attribute the absolute size of the given volume is
+    specified. The size attribute takes precedence over the freespace
+    attribute. Should the specified size be too small the value will
+    be ignored and a volume with approximately 80\% to 90\% fill will
+    be created.
+
+\item \textbf{oemconfig}
+	By default the oemboot process will create/modify a swap, /home and /
+	partition. It is possible to influence the behavior by the
+	oem-* elements explained below.
+	KIWI uses this information to create the file
+	\textbf{/config.oempartition} as part
+	of the automatically created oemboot boot image. The format of the
+	file is a simple key=value format and created by the KIWIConfig.sh
+	function named baseSetupOEMPartition(). 
+
+	\begin{Command}{12cm}
+	&lt;oemconfig&gt;\\
+	\hspace*{1cm}&lt;oem-systemsize&gt;2000&lt;/oem-systemsize&gt;\\
+	\hspace*{1cm}&lt;oem-...\\	
+	&lt;/oemconfig&gt;
+    \end{Command}
+
+	\begin{itemize}
+    \item \textbf{&lt;oem-boot-title&gt;text&lt;/oem-boot-title&gt;}\\
+       By default the string \textbf{OEM} will be used as the boot manager 
+       menu entry when KIWI creates the grub configuration during
+       deployment. The oem-boot-title element allows you to set a custom
+       name for the grub menu entry. This value is represented by the
+       OEM\_BOOT\_TITLE variable in config.oempartition.
+	\item \textbf{&lt;oem-home&gt;true|false&lt;/oem-home&gt;}\\
+       Specify if a partition for the home directory should be created.
+       Creation of a home partition is the default behavior. This value is 
+       represented by the OEM\_WITHOUTHOME variable in config.oempartition.
+	\item \textbf{&lt;oem-kiwi-initrd&gt;true|false&lt;/oem-kiwi-initrd&gt;}\\
+       If this element is set to true (default value is false) the oemboot 
+       boot image (initrd) will \textbf{not} be replaced by the system 
+       (mkinitrd) created initrd. This option is useful when the system
+       is installed on removable storage such as a USB stick or a portable
+       external drive. For movable devices it is potentially necessary to 
+       detect the storage location during every boot. This detection
+       process is part of the oemboot boot image. This value is represented
+       by the OEM\_KIWI\_INITRD variable in config.oempartition.
+	\item \textbf{&lt;oem-reboot&gt;true|false&lt;/oem-reboot&gt;}\\
+       Specify if the system is to be rebooted after the oem image has been
+       deployed to the designated storage device (default value is false). 
+       This value is represented by the OEM\_REBOOT variable in 
+       config.oempartition
+	\item \textbf{&lt;oem-recovery&gt;true|false&lt;/oem-recovery&gt;}\\
+      If this element is set to true (default value is false), Kiwi will
+      create a recovery archivefrom the prepared root tree. The archive will 
+      appear as \textit{/recovery.tar.bz2} in the image file. During 
+      first boot of the image a single recovery partition will be
+      created and the recovery archive will be moved to the recovery 
+      partition. An additional boot menu entry is created that when selected
+      restores the original root tree on the system. The
+      user information on the /home partition or in the /home directory is
+      not affected by the recovery process. This value is represented by 
+      the OEM\_RECOVERY variable in config.oempartition.
+    \item \textbf{&lt;oem-recoveryID&gt;partition-id&lt;/oem-recoveryID&gt;}\\
+      Specify the partition type for the recovery partition. The default 
+      is to create a Linux partition (id = 83). This value is represented by 
+      the OEM\_RECOVERY\_ID variable in config.oempartition. 
+    \item \textbf{&lt;oem-swap&gt;true|false&lt;/oem-swap&gt;}\\
+       Specify if a sawp partition should be create. The creation of a swap
+       partition is the default behavior. This value is represented by the
+       OEM\_WITHOUTSWAP variable in config.oempartition.     
+	\item \textbf{&lt;oem-swapsize&gt;number in MB&lt;/oem-swapsize&gt;}\\
+       Set the size of the swap partition. If a swpa partition is to be
+       created and the size of the swap partition is not specified with this
+       optional element, Kiwi will calculate the size of the swpar partition
+       and create a swap partition equal to two times the RAM installed on
+       the system at initial boot time. This value is represented by
+       the OEM\_SWAPSIZE variable in config.oempartition
+	\item \textbf{&lt;oem-systemsize&gt;number in MB&lt;/oem-systemsize&gt;}\\
+      Set the size of the root partition. This value is represented by the
+      variable OEM\_SYSTEMSIZE in config.oempartition
+	\end{itemize}
+
+\item \textbf{pxedeploy}\\
+    Information contained in the optional pxedeploy section is only considered
+    if the \textbf{image=} attribute of the \textbf{type} element is set to
+    \textbf{pxe}. In order to use a PXE image it is necessary to create a
+    network boot infrastructure. Creation of the network boot infrastructure
+    is simplified by the Kiwi provided package \textbf{kiwi-pxeboot}. This
+    package configures the basic PXE boot enviroment as expected by Kiwi pxe
+    images. The kiwi-pxeboot package creates a directory structure in
+    /srv/tftpboot. Files created by the Kiwi create step need to be copied
+    to the /srv/tftpboot directory structure. For additional details about
+    the PXE image please refere to the PXE Image chapter later in this
+    document.
+
+    In addition to the image files it is necessary that information be
+    provided about the client setup. This information, such as the image
+    to be used or the partitioning, is contained in a file with the name
+    config.&lt;MAC-Address&gt; in the directory /srv/tftpboot/KIWI. The content
+    of this file is created automatically by Kiwi if the pexedeploy section
+    is provided in the image description. A pxedeploy section is outlined
+    below:
+	
+	\begin{Command}{14cm}
+	&lt;pxedeploy server=&quot;IP&quot; blocksize=&quot;4096&quot;&gt;\\
+	\hspace*{1cm}&lt;timeout&gt;seconds&lt;/timeout&gt;\\
+	\hspace*{1cm}&lt;commandline&gt;kernel-options&lt;/commandline&gt;\\
+	\hspace*{1cm}&lt;kernel&gt;kernel-file&lt;/kernel&gt;\\
+	\hspace*{1cm}&lt;initrd&gt;initrd-file&lt;/initrd&gt;\\
+	\hspace*{1cm}&lt;partitions device=&quot;/dev/sda&quot;&gt;\\
+	\hspace*{2cm}&lt;partition type=&quot;swap&quot; number=&quot;1&quot; size=&quot;MB&quot;/&gt;\\
+	\hspace*{2cm}&lt;partition type=&quot;L&quot; number=&quot;2&quot; size=&quot;MB&quot;\\
+	\hspace*{4.5cm}mountpoint=&quot;/&quot; target=&quot;true&quot;/&gt;\\
+	\hspace*{2cm}&lt;partition type=&quot;fd&quot; number=&quot;3&quot;/&gt;\\
+	\hspace*{1cm}&lt;/partitions&gt;\\
+	\hspace*{1cm}&lt;union ro=&quot;dev&quot; rw=&quot;dev&quot; type=&quot;aufs|clicfs|unionfs&quot;/&gt;\\
+	\hspace*{1cm}&lt;configuration source=&quot;/KIWI/../file&quot; dest=&quot;/../file&quot;\\
+	\hspace*{4.5cm}arch=&quot;...&quot;/&gt;\\
+	\hspace*{1cm}&lt;configuration .../&gt;\\
+	&lt;/pxedeploy&gt;
+	\end{Command}
+
+	\begin {itemize}
+	\item The \textbf{server} attribute is used to specify the IP address
+      of the PXE server. The \textbf{blocksize} attributes specifies the
+      blocksize for the image download. Other protocols are supported by
+      Kiwi but require the \textbf{kiwiserver} and \textbf{kiwiservertype}
+      kernel parameters to be set when the client boots.
+	\item The value of the optional timeout element specifies the grub
+      timeout in seconds to be used when the Kiwi initrd configures and
+      installs the grub boot loader on the client machine after the first
+      deployment to allow standalone boot.
+	\item Passing kernel parameters is possible with the use of the
+      optional commandline element. The value of this element is a string
+      specifying the settings to be passed to the kernel by the grub 
+      bootloader. The Kiwi initrd includes these kernel options when 
+      installing grub for standalone boot
+	\item The optional \textbf{kernel} and \textbf{initrd} elements are
+      used to specify the file names for the kernel and initrd on the boot
+      server respectively. When using a special boot method not supported
+      by the distribution's standard mkinitrd, it is imperative that the
+      Kiwi initrd remains on the PXE server and also be used for local boot.
+      If the configured image uses the \textbf{split} type or the pexedeploy
+      section includes any union information the kernel and initrd elements
+      must be used.
+	\item The partitions section is required if the system image is to be
+      installed on a disk or other permanent storage device. Each partition
+      is specified with one partition child element. The mandatory
+      \textbf{type} attribute specifies the partition type. The possible
+      values are the sfdisk supported types, use
+      \begin{Command}{14cm}
+      sfdisk --list-type
+      \end{Command}
+      to obtain a list of supported values. The required \textbf{number}
+      attribute provides the the number of the partition to be created. The
+      size of the partition may be specified with the optional \textbf{size}
+      attribute. The optional \textbf{mountpoint} attribute provides
+      the value for the mount point of the partition. The optional boolean
+      \textbf{target} attribute identifies the partion as the system image
+      target partition.
+      Kiwi always generates the swap partition as the first partition of
+      the netboot boot image. By default the second partition is used for
+      the system image. Use the boolean target attribute to change this
+      behavior. Providing the value \textbf{image} for the size attribute
+      triggers Kiwi into calculating the required size for this partition.
+      The calculated size is sufficient for the created image.
+	\item If the system image is based on a read-only filesystem such as
+      squashfs and should be mounted in read-write mode use the optional
+      \textbf{union} element. The \textbf{type} attribute is used to specify
+      one of the supported overlay filesystem (aufs, clicfs, or unionfs).
+      Use the \textbf{ro} attribute to point to the read only device and
+      the \textbf{rw} attribute to point to the read-write device.
+	\item The optional configuration element is used to integrate a network
+      client's configuration files that are stored on the server.
+      The \textbf{source} attribute specifies the path on the server for
+      the file to be downloaded. The \textbf{dest} attribute specifies
+      destination of the downloaded file on the network client starting at
+      the root (/) of the filesystem. Multiple configuration elements
+      may be specified such that multiple files can be transferred to the
+      network client. In addition configuration files can be bound to
+      a specific client architecture by setting the optional \textbf{arch}
+      attribute. To specify multiple architectures use a comma separated
+      string.
+	\end{itemize}
+
+\item \textbf{size}\\
+    Use the size element to specify the image size in Megabytes or
+    Gigabytes. The \textbf{unit} attribute specifies whether the given
+    value will be interpreted as Megabytes (\textbf{unit=''M''}) or
+    Gigabytes (\textbf{unit=''G''}. The optional boolean attribute
+    \textbf{additive} specifies whether or not the given size should be added
+    to the size of the generated image or not.
+
+    In the event of a size specification that is too small for the
+    generated image, Kiwi will expand the size automatically unless the
+    image size exceeds the specified size by 100 MB or more. In this case
+    Kiwi will generate an error and exit.
+
+    Should the given size exceed the necessary size for the image Kiwi will
+    not alter the image size as the free space might be required for proper
+    execution of components within the image.
+
+    If the size element is not used Kiwi will create an image with
+    containing approxiamtely 30\% free space.
+    
+     
+	\begin{Command}{12cm}
 	&lt;size unit=&quot;M&quot;&gt;1000&lt;/size&gt;
 	\end{Command}
 
+\item \textbf{split}\\
+    For images of type split or iso the information provided in the optional
+    split section is is considered if the \textbf{compressed} attribute is
+    is set to \textbf{true}. With the configuration in this block it is
+    possible to determine which files are writable and whether these files
+    should be persentently writable or temporarily. Note that for ISO images
+    only temporary write access is possible.
+
+    When processing the provided configuration Kiwi distinguishes between
+    directories and files. For example, providing ''/etc'' as the value of
+    the \textbf{name} attribute indicates that the /etc directory should be
+    writable. However, this does not include any of the files or 
+    sub-directories within /etc. The content of /etc is populated as 
+    symbolic links to the read-only files. The advantage of setting only a
+    directory to read-write access is that any newly created files will be
+    stored on the disk instead of in tmpfs. Creating read-write access to a 
+    directory and it's files requires two specifications as showb below.
+
+	\begin{Command}{12cm}
+	&lt;split&gt;\\
+	\hspace*{1cm}&lt;temporary&gt;\\
+	\hspace*{2cm}&lt;!-- read/write access to: --&gt;\\
+	\hspace*{2cm}&lt;file name=&quot;/var&quot;/&gt;\\
+	\hspace*{2cm}&lt;file name=&quot;/var/*&quot;/&gt;\\
+	\hspace*{2cm}&lt;!-- but not on this file: --&gt;\\
+	\hspace*{2cm}&lt;except name=&quot;/etc/shadow&quot;/&gt;\\
+	\hspace*{1cm}&lt;/temporary&gt;\\
+	\hspace*{1cm}&lt;persistent&gt;\\
+	\hspace*{2cm}&lt;!-- persistent read/write access to: --&gt;\\
+	\hspace*{2cm}&lt;file name=&quot;/etc&quot;/&gt;\\
+	\hspace*{2cm}&lt;file name=&quot;/etc/*&quot;/&gt;\\
+	\hspace*{2cm}&lt;!-- but not on this file: --&gt;\\
+	\hspace*{2cm}&lt;except name=&quot;/etc/passwd&quot;/&gt;\\
+	\hspace*{1cm}&lt;/persistent&gt;\\
+	&lt;/split&gt;
+	\end{Command}
+
+    Use the \textbf{except} element to specify exceptions to previously
+    configured rules.
+
 \item \textbf{vmwareconfig}\\
-	The optional vmwareconfig section is used if the image description
-	includes a packages section of type \textbf{vmware}. In this case kiwi
-	is able to create the guest configuration file required to run the
-	image within VMware. The guest configuration file can also be created
-	by the VMware toolkit itself but with the pre-created guest configuration
-	created by kiwi it is possible to provide an all in one bundle ready
-	to run in VMware. The following general information can be provided to
-	create the VMware (.vmx) configuration file:
+    The optional vmwareconfig section serves to specify information
+    about a VMware guest image. Information provided in this block is only
+    considered if the image description contains a \textbf{packages} block
+    with the \textbf{type} attribute set to \textbf{vmware}.
+
+    Using the data provided in this section, Kiwi will create a guest
+    configuration file required to run the image using the VMware tools.
+    It is possible to create the guest configuration file with the VMware
+    tools. However, taking advantage of Kiwi's functionality to generate
+    the guest configuration file alows the delivery of one bundle that is
+    ready to run on VMware infrastructure.
+
+    The sample block below shows the general outline of the information
+    that can be specified to generate the (.vmx) configuration file for
+    VMware:
 
 	\begin{Command}{12cm}
 	&lt;vmwareconfig arch=&quot;arch&quot; memory=&quot;MB&quot;\\
@@ -479,17 +734,18 @@ supported child elements:
 
 	\begin{itemize}
 	\item \textbf{arch}\\
-      The virtualized architecture. Can be one of ix86 or x86\_64
-      Bydefault ix86 is used.
+      The virtualized architecture. Supported values are ix86 or x86\_64.
+      The default value is \textbf{ix86}.
 	\item \textbf{memory}\\
-      The mandatory memory attribute specified how much memory in MB
+      The mandatory memory attribute specifies how much memory in MB
       should be allocated for the virtual machine
 	\item \textbf{HWversion}\\
-      The VMware hardware version number. By default version 3 is used
+      The VMware hardware version number, the default value is 3.
 	\item \textbf{guestOS}\\
-      The guestOS identifier. By default suse is used on ix86 and suse-64
-      for x86\_64. At the moment only the suse and sles guestOS types
-      are supported
+      The guestOS identifier. For the ix86 architecture the default 
+      value is \textbf{suse} and for the x86\_64 architecture
+      \textbf{suse-64} is the default. At this point only the SUSE and
+      SLES guestOS types are supported.
 	\item \textbf{usb}\\
       The bool value \textbf{usb} specifies whether the guest machine
       should provide a virtual USB controller or not.
@@ -500,10 +756,11 @@ supported child elements:
 
 	\begin{itemize}
 	\item \textbf{controller}\\
-      The mandatory controller attribute can be either ide or scsi disk
+      Supported values for the mandatory controller attribute are \textbf{ide}
+      and \textbf{scsi}.
 	\item \textbf{id}\\
       The mandatory id attribute specifies the disk id. If only one
-      disk is set the id value should be set to 0 
+      disk is set the id value should be set to 0. 
 	\end{itemize}
 
 	The following information can be provided to setup the VMware virtual
@@ -511,24 +768,32 @@ supported child elements:
 
 	\begin{itemize}
 	\item \textbf{driver}\\
-      The mandatory driver to use for the virtual network card. Possible
-      values are vlance, e1000 or vmxnet. vmxnet requires the vmware tools to be
-      part of the image
+      The mandatory driver attribute specifies the driver to be used for
+      the virtual network card. The supported values are \textbf{e100},
+      \textbf{vlance}, and \textbf{vmxnet}. If the vmxnet driver is
+      specified the \textbf{vmware tools} must be installed in the image.
 	\item \textbf{interface}\\
-      The mandatory network interface number. If only one interface is
-      set the value should be set to 0
+      The mandatory interface attribute specifies the interface number. If
+      only one interface is set the value should be set to 0.
 	\item \textbf{mode}\\
       The network mode used to communicate outside the VM. In many cases
       the bridged mode is used.
 	\end{itemize}
 
 \item \textbf{xenconfig}\\
-	The optional xenconfig section is used if the image description
-	includes a packages section of type \textbf{xen}. In this case kiwi
-	is able to create the guest configuration file required to run the
-	image within Xen. According to this it's possible to provide an all
-	in one bundle ready to run in Xen. The following general information
-	can be provided to create the Xen (.xenconfig) configuration file:
+    The optional xenconfig section serves to specify information
+    about a Xen guest image. Information provided in this block is only
+    considered if the image description contains a \textbf{packages} block
+    with the \textbf{type} attribute set to \textbf{xen}.
+
+    Using the data provided in this section, Kiwi will create a guest
+    configuration file required to run the image using the Xen tools.
+    This provides the capability of delivering one bundle that is ready
+    to run on Xen infrastructure.
+
+    The sample block below shows the general outline of the information
+    that can be specified to generate the (.xenconfig) configuration file for
+    Xen:
 
 	\begin{Command}{12cm}
 	&lt;xenconfig memory=&quot;MB&quot;\\
@@ -539,17 +804,17 @@ supported child elements:
 
 	\begin{itemize}
 	\item \textbf{memory}\\
-      The mandatory memory attribute specified how much memory in MB
-      should be allocated for the para virtual machine    
+      The mandatory memory attribute specifies how much memory in MB
+      should be allocated for the guest machine    
 	\end{itemize}
 
 	The following information can be provided to setup the Xen para virtual
-	main storage device as part of a \textbf{xendisk} section
+	main storage device as part of a \textbf{xendisk} element.
 
 	\begin{itemize}
 	\item \textbf{device}\\
-      The mandatory device which should appear in the para virtual
-      instance
+      The mandatory device attribute specifies the disk that should appear
+      in the para virtual instance.
 	\end{itemize}
 
 	The default Xen configuration uses bridging within domain 0 to allow all
@@ -565,238 +830,18 @@ supported child elements:
 	\label{fig:architecture}
 	\end{figure}
 
-	Additional information on how to setup networking with Xen can be
+	Additional information about Xen networking configuration can be
 	found here: \url{<A HREF="http://wiki.xensource.com/xenwiki/XenNetworking">http://wiki.xensource.com/xenwiki/XenNetworking</A>}
 	The following information can be provided to setup the Xen network
-	bridge as part of one ore more \textbf{xenbridge} section(s).
+	bridge as part of one ore more \textbf{xenbridge} elements..
 
 	\begin{itemize}
 	\item \textbf{name}\\
       The name of the network interface which is the bridge between
       the physical device (peth) and the virtual device(s) (vif).
 	\item \textbf{mac}\\
-      The optional mac address value for the virtual interface inside
-      the DOM(x).
-	\end{itemize}
-
-\item \textbf{pxedeploy}\\
-	The optional pxedeploy section is only useful if you build the \textbf{pxe}
-	image type. For this type an additional network boot infrastructure needs
-	to be set up. To ease the process of setting up such a boot server kiwi
-	provides a package called kiwi-pxeboot. This package sets up the basic
-	pxe boot environment like kiwi expects it. The package will setup a
-	directory structure in /srv/tftpboot. The result files of the kiwi
-	image build process needs to be copied to that location. A detailed
-	explanation of what file needs to be copied and where is provided in
-	the PXE Image chapter later in this document. Among the image files itself
-	it is required to provide an information how KIWI should handle the
-	machine it should be install with the created image. Information like
-	which image should be used or how to partition the machine needs to
-	be provided in a file called config.&lt;MAC-Address&gt; below the directory
-	/srv/tftpboot/KIWI. The reason for the pxedeploy section is to allow KIWI
-	to create that file according to the information provided in the image
-	description.
-
-	\begin{Command}{14cm}
-	&lt;pxedeploy server=&quot;IP&quot; blocksize=&quot;4096&quot;&gt;\\
-	\hspace*{1cm}&lt;timeout&gt;seconds&lt;/timeout&gt;\\
-	\hspace*{1cm}&lt;commandline&gt;kernel-options&lt;/commandline&gt;\\
-	\hspace*{1cm}&lt;kernel&gt;kernel-file&lt;/kernel&gt;\\
-	\hspace*{1cm}&lt;initrd&gt;initrd-file&lt;/initrd&gt;\\
-	\hspace*{1cm}&lt;partitions device=&quot;/dev/sda&quot;&gt;\\
-	\hspace*{2cm}&lt;partition type=&quot;swap&quot; number=&quot;1&quot; size=&quot;MB&quot;/&gt;\\
-	\hspace*{2cm}&lt;partition type=&quot;L&quot; number=&quot;2&quot; size=&quot;MB&quot;\\
-	\hspace*{4.5cm}mountpoint=&quot;/&quot; target=&quot;true&quot;/&gt;\\
-	\hspace*{2cm}&lt;partition type=&quot;fd&quot; number=&quot;3&quot;/&gt;\\
-	\hspace*{1cm}&lt;/partitions&gt;\\
-	\hspace*{1cm}&lt;union ro=&quot;dev&quot; rw=&quot;dev&quot; type=&quot;aufs|unionfs&quot;/&gt;\\
-	\hspace*{1cm}&lt;configuration source=&quot;/KIWI/../file&quot; dest=&quot;/../file&quot;\\
-	\hspace*{4.5cm}arch=&quot;...&quot;/&gt;\\
-	\hspace*{1cm}&lt;configuration .../&gt;\\
-	&lt;/pxedeploy&gt;
-	\end{Command}
-
-	\begin {itemize}
-	\item The server and blocksize attributes specify the TFTP server which
-      controls the download of image files. KIWI also supports other protocols
-      than tftp but in order to do that the variables \textbf{kiwiserver} and
-      \textbf{kiwiservertype} must be set as kernel parameter when the client
-      boots.
-	\item The optional timeout section specifies the grub timeout in seconds
-      which is used when the KIWI initrd configures and installs the grub boot
-      loader on the machine after the first deployment to allow standalone
-      boot.
-	\item The optional commandline section specifies the kernel options which
-      should be passed to the kernel by the grub bootloader. the KIWI
-      initrd includes this kernel options when installing the grub for
-      standalone boot
-	\item The optional kernel and initrd sections specifies the KIWI
-      kernel and initrd files on the boot server. In case of a special boot
-      method which is not supported by the distribution standard mkinitrd
-      the KIWI initrd needs to stay on the system and needs to be used for
-      local boot as well. So if your system image makes use of the split
-      type or your pxedeploy section includes any union information the
-      kernel and initrd sections must be provided.
-	\item The partitions section is required if you want to install the system
-      image on a disk or any other permanent storage device. Each partition is
-      specified by one partition subtag which defines the type (see
-      sfdisk -list-type), partition number, size, optional mountpoint, and
-      optional information on if this partition is the system image
-      target partition. With the KIWI netboot boot image, the first
-      partition is always the swap partition, while the second partition
-      is used, by default, for the system image. With the optional
-      target flag, you can specify a partition other than the second
-      partition to install the system image on. If size is set to ''image'',
-      KIWI calculates the required size for this partition in order to
-      have enough space for the later image.
-	\item The optional union section is used if the system image is based
-      on a read-only filesystem such as squashfs and should be mounted
-      read-write by using an overlay filesystem like aufs or by a device.
-      mapper setup with the dmsquash type. In this case, KIWI creates an
-      additional write partition, then
-      combines both partitions with the given overlay filesystem or device map.
-      Currently, there are two such filesystems: unionfs and aufs
-      (aufs is the preferred file system). The partition that holds the
-      read-only system image must be set as the ro attribute value, and the
-      partition that serves as the write partition must be set the rw
-      attribute value.
-	\item The optional configuration section can be used to integrate a network
-      client's configuration files which are stored remotely on the server.
-      The source attribute specifies the path on the server used by a
-      TFTP client program to download the file, and the dest attribute
-      specifies the target relative to the root (/) of the network client.
-      Each file is specified by one configuration section and can be
-      bound to a specific set of architectures separated by comma.
-	\end{itemize}
-
-\item \textbf{split}\\
-	The optional split section is used if your image type is split or iso
-	combined with the attribute compressed. The split
-	section controls which files of your splitted image should be writable
-	and whether they are persistantly writable or only temporarly. In case
-	of an iso image all data specified can only be temporarly writable
-	by design of the live system image type.
-
-	The split section distinguishes between directory and files. The
-	information of ''/etc'' would make /etc a writable directory however
-	none of the files *within* /etc are affected. They remain symbolic
-	links to the real files in the read-only area. The main advantage to
-	putting just a directory in the read-write area is that any new
-	files created there are stored on the disk instead of tmpfs. If all
-	the files in /etc should also be part of the read-write area and
-	according to this put a complete directory including all its files
-	into the read-write area two lines are required as shown above.
-
-	\begin{Command}{12cm}
-	&lt;split&gt;\\
-	\hspace*{1cm}&lt;temporary&gt;\\
-	\hspace*{2cm}&lt;!-- read/write access to: --&gt;\\
-	\hspace*{2cm}&lt;file name=&quot;/var&quot;/&gt;\\
-	\hspace*{2cm}&lt;file name=&quot;/var/*&quot;/&gt;\\
-	\hspace*{2cm}&lt;!-- but not on this file: --&gt;\\
-	\hspace*{2cm}&lt;except name=&quot;/etc/shadow&quot;/&gt;\\
-	\hspace*{1cm}&lt;/temporary&gt;\\
-	\hspace*{1cm}&lt;persistent&gt;\\
-	\hspace*{2cm}&lt;!-- persistent read/write access to: --&gt;\\
-	\hspace*{2cm}&lt;file name=&quot;/etc&quot;/&gt;\\
-	\hspace*{2cm}&lt;file name=&quot;/etc/*&quot;/&gt;\\
-	\hspace*{2cm}&lt;!-- but not on this file: --&gt;\\
-	\hspace*{2cm}&lt;except name=&quot;/etc/passwd&quot;/&gt;\\
-	\hspace*{1cm}&lt;/persistent&gt;\\
-	&lt;/split&gt;
-	\end{Command}
-
-\item \textbf{lvmvolumes}\\
-	With the optional \textbf{lvmvolumes} section you can set one or
-	more top level directories into a separate volume. For example you
-	want to put /usr and /var into different volumes add the following
-	lvmvolumes section:
-
-	\begin{Command}{12cm}
-	&lt;lvmvolumes&gt;\\
-	\hspace*{1cm}&lt;volume name=&quot;usr&quot; freespace=&quot;100M&quot;/&gt;\\
-	\hspace*{1cm}&lt;volume name=&quot;var&quot; size=&quot;200M&quot;/&gt;\\
-	&lt;/lvmvolumes&gt;
-	\end{Command}
-
-	The optional freespace attribute let you add additional free space
-	for that volume. If you don't set any freespace the volume will be
-	about 80\% to 90\% full. The optional size attribute let you specify
-	the absolute size for that volume. If both freespace and size are set
-	size is preferred. If the given size is too small the value will be
-	ignored.
-
-\item \textbf{oemconfig}
-	By default the oemboot process will create/modify a swap, /home and /
-	partition. It is possible to influence the behavior by the
-	oem-* elements explained below.
-	KIWI uses this information to create the file
-	\textbf{/config.oempartition} as part
-	of the automatically created oemboot boot image. The format of the
-	file is a simple key=value format and created by the KIWIConfig.sh
-	function named baseSetupOEMPartition(). 
-
-	\begin{Command}{12cm}
-	&lt;oemconfig&gt;\\
-	\hspace*{1cm}&lt;oem-systemsize&gt;2000&lt;/oem-systemsize&gt;\\
-	\hspace*{1cm}&lt;oem-...\\	
-	&lt;/oemconfig&gt;
-    \end{Command}
-
-	\begin{itemize}
-    \item \textbf{&lt;oem-boot-title&gt;text&lt;/oem-boot-title&gt;}\\
-       By default the string \textbf{OEM} will be used as the boot manager 
-       menu entry when KIWI creates the grub configuration during
-       deployment. The oem-boot-title element allows you to set a custom
-       name for the grub menu entry. This value is represented by the
-       OEM\_BOOT\_TITLE variable in config.oempartition.
-	\item \textbf{&lt;oem-home&gt;true|false&lt;/oem-home&gt;}\\
-       Specify if a partition for the home directory should be created.
-       Creation of a home partition is the default behavior. This value is 
-       represented by the OEM\_WITHOUTHOME variable in config.oempartition.
-	\item \textbf{&lt;oem-kiwi-initrd&gt;true|false&lt;/oem-kiwi-initrd&gt;}\\
-       If this element is set to true (default value is false) the oemboot 
-       boot image (initrd) will \textbf{not} be replaced by the system 
-       (mkinitrd) created initrd. This option is useful when the system
-       is installed on removable storage such as a USB stick or a portable
-       external drive. For movable devices it is potentially necessary to 
-       detect the storage location during every boot. This detection
-       process is part of the oemboot boot image. This value is represented
-       by the OEM\_KIWI\_INITRD variable in config.oempartition.
-	\item \textbf{&lt;oem-reboot&gt;true|false&lt;/oem-reboot&gt;}\\
-       Specify if the system is to be rebooted after the oem image has been
-       deployed to the designated storage device (default value is false). 
-       This value is represented by the OEM\_REBOOT variable in 
-       config.oempartition
-	\item \textbf{&lt;oem-recovery&gt;true|false&lt;/oem-recovery&gt;}\\
-      If this element is set to true (default value is false), Kiwi will
-      create a recovery archivefrom the prepared root tree. The archive will 
-      appear as \textit{/recovery.tar.bz2} in the image file. During 
-      first boot of the image a single recovery partition will be
-      created and the recovery archive will be moved to the recovery 
-      partition. An additional boot menu entry is created that when selected
-      restores the original root tree on the system. The
-      user information on the /home partition or in the /home directory is
-      not affected by the recovery process. This value is represented by 
-      the OEM\_RECOVERY variable in config.oempartition.
-    \item \textbf{&lt;oem-recoveryID&gt;partition-id&lt;/oem-recoveryID&gt;}\\
-      Specify the partition type for the recovery partition. The default 
-      is to create a Linux partition (id = 83). This value is represented by 
-      the OEM\_RECOVERY\_ID variable in config.oempartition. 
-    \item \textbf{&lt;oem-swap&gt;true|false&lt;/oem-swap&gt;}\\
-       Specify if a sawp partition should be create. The creation of a swap
-       partition is the default behavior. This value is represented by the
-       OEM\_WITHOUTSWAP variable in config.oempartition.     
-	\item \textbf{&lt;oem-swapsize&gt;number in MB&lt;/oem-swapsize&gt;}\\
-       Set the size of the swap partition. If a swpa partition is to be
-       created and the size of the swap partition is not specified with this
-       optional element, Kiwi will calculate the size of the swpar partition
-       and create a swap partition equal to two times the RAM installed on
-       the system at initial boot time. This value is represented by
-       the OEM\_SWAPSIZE variable in config.oempartition
-	\item \textbf{&lt;oem-systemsize&gt;number in MB&lt;/oem-systemsize&gt;}\\
-      Set the size of the root partition. This value is represented by the
-      variable OEM\_SYSTEMSIZE in config.oempartition
+      The optional mac attribute specifies the MAC address for the virtual
+      interface inside the DOM(x).
 	\end{itemize}
 \end{itemize}
 
diff --git a/doc/LaTex/migrate.tex b/doc/LaTex/migrate.tex
index 5f4a653..00a9946 100644
--- a/doc/LaTex/migrate.tex
+++ b/doc/LaTex/migrate.tex
@@ -83,6 +83,9 @@ After that you should walk through the following check list
       boot of the migrated image
 \item if you want to access any remote filesystem it's a good
       idea to let autoyast add them on first boot of the system
+\item check your network setup in /etc/sysconfig/network. Is this
+      setup still possible in the cloned environment ? Make sure you
+      check for the MAC address of the card first
 \end{itemize}
 
 \section{Turn my system into an image...}
diff --git a/doc/LaTex/oem.tex b/doc/LaTex/oem.tex
index be6e01c..e02ac58 100644
--- a/doc/LaTex/oem.tex
+++ b/doc/LaTex/oem.tex
@@ -154,7 +154,7 @@ Kiwi also provides support for LVM (Logical Volume Management). In this
 mode the disk partition table will include one lvm partition and one
 standard ext2 boot partition. Kiwi creates the kiwiVG volume group, unless
 the lvmgroup attribute has been set, and adds logical volumes to the group
-as based on the configuration given by the \textbf{lvmvolumes} block
+based on the configuration given by the \textbf{lvmvolumes} block
 for this type. The filesystem for the volume group is determined by the
 filesystem attribute of the type element. After booting the system the user
 has full control over the volume group and is free to change
diff --git a/doc/kiwi-man/KIWI::config.sh.1 b/doc/kiwi-man/KIWI::config.sh.1
index e445250..660d090 100644
--- a/doc/kiwi-man/KIWI::config.sh.1
+++ b/doc/kiwi-man/KIWI::config.sh.1
@@ -1,12 +1,12 @@
 .\&quot;     Title: kiwi::config.sh
 .\&quot;    Author: Marcus Sch&#195;&#164;fer &lt;ms (AT) suse.de&gt;
 .\&quot; Generator: DocBook XSL Stylesheets v1.74.0 &lt;<A HREF="http://docbook.sf.net/">http://docbook.sf.net/</A>&gt;
-.\&quot;      Date: Created: 02/12/2010
+.\&quot;      Date: Created: 02/16/2010
 .\&quot;    Manual: KIWI Manualpage
 .\&quot;    Source: KIWI v3.65
 .\&quot;  Language: English
 .\&quot;
-.TH &quot;KIWI::CONFIG\&amp;.SH&quot; &quot;1&quot; &quot;Created: 02/12/2010&quot; &quot;KIWI v3\&amp;.65&quot; &quot;KIWI Manualpage&quot;
+.TH &quot;KIWI::CONFIG\&amp;.SH&quot; &quot;1&quot; &quot;Created: 02/16/2010&quot; &quot;KIWI v3\&amp;.65&quot; &quot;KIWI Manualpage&quot;
 .\&quot; -----------------------------------------------------------------
 .\&quot; * (re)Define some macros
 .\&quot; -----------------------------------------------------------------
diff --git a/doc/kiwi-man/KIWI::images.sh.1 b/doc/kiwi-man/KIWI::images.sh.1
index 0e27b83..e66a0e7 100644
--- a/doc/kiwi-man/KIWI::images.sh.1
+++ b/doc/kiwi-man/KIWI::images.sh.1
@@ -1,12 +1,12 @@
 .\&quot;     Title: kiwi::images.sh
 .\&quot;    Author: Marcus Sch&#195;&#164;fer &lt;ms (AT) suse.de&gt;
 .\&quot; Generator: DocBook XSL Stylesheets v1.74.0 &lt;<A HREF="http://docbook.sf.net/">http://docbook.sf.net/</A>&gt;
-.\&quot;      Date: Created: 02/12/2010
+.\&quot;      Date: Created: 02/16/2010
 .\&quot;    Manual: KIWI Manualpage
 .\&quot;    Source: KIWI v3.65
 .\&quot;  Language: English
 .\&quot;
-.TH &quot;KIWI::IMAGES\&amp;.SH&quot; &quot;1&quot; &quot;Created: 02/12/2010&quot; &quot;KIWI v3\&amp;.65&quot; &quot;KIWI Manualpage&quot;
+.TH &quot;KIWI::IMAGES\&amp;.SH&quot; &quot;1&quot; &quot;Created: 02/16/2010&quot; &quot;KIWI v3\&amp;.65&quot; &quot;KIWI Manualpage&quot;
 .\&quot; -----------------------------------------------------------------
 .\&quot; * (re)Define some macros
 .\&quot; -----------------------------------------------------------------
diff --git a/doc/kiwi-man/kiwi.1 b/doc/kiwi-man/kiwi.1
index 4663dce..cbf0ebc 100644
--- a/doc/kiwi-man/kiwi.1
+++ b/doc/kiwi-man/kiwi.1
@@ -1,12 +1,12 @@
 .\&quot;     Title: kiwi
 .\&quot;    Author: Marcus Schaefer &lt;ms (AT) suse.de&gt;
 .\&quot; Generator: DocBook XSL Stylesheets v1.74.0 &lt;<A HREF="http://docbook.sf.net/">http://docbook.sf.net/</A>&gt;
-.\&quot;      Date: Created: 02/12/2010
+.\&quot;      Date: Created: 02/16/2010
 .\&quot;    Manual: KIWI Manualpage
 .\&quot;    Source: KIWI v3.65
 .\&quot;  Language: English
 .\&quot;
-.TH &quot;KIWI&quot; &quot;1&quot; &quot;Created: 02/12/2010&quot; &quot;KIWI v3\&amp;.65&quot; &quot;KIWI Manualpage&quot;
+.TH &quot;KIWI&quot; &quot;1&quot; &quot;Created: 02/16/2010&quot; &quot;KIWI v3\&amp;.65&quot; &quot;KIWI Manualpage&quot;
 .\&quot; -----------------------------------------------------------------
 .\&quot; * (re)Define some macros
 .\&quot; -----------------------------------------------------------------
diff --git a/doc/kiwi.pdf b/doc/kiwi.pdf
index 3e4c35f..5410e52 100644
Binary files a/doc/kiwi.pdf and b/doc/kiwi.pdf differ
diff --git a/modules/KIWIConfig.sh b/modules/KIWIConfig.sh
index 6685abe..43220d7 100644
--- a/modules/KIWIConfig.sh
+++ b/modules/KIWIConfig.sh
@@ -864,7 +864,7 @@ function suseStripInitrd {
 		/usr/lib*/hal /usr/lib*/*.a /usr/lib*/*.la /usr/lib*/librpm*
 		/usr/lib*/libpanel* /usr/lib*/libmenu* /usr/src/packages/RPMS
 		/usr/lib*/X11 /var/X11R6 /usr/share/X11 /etc/X11
-		/usr/lib*/xorg /usr/lib*/libidn* /usr/share/locale-bundle
+		/usr/lib*/xorg /usr/share/locale-bundle
 		/etc/ppp /etc/xdg /etc/NetworkManager /lib*/YaST /lib*/security
 		/lib*/mkinitrd/boot /lib*/mkinitrd/dev /lib*/mkinitrd/scripts
 		/lib*/mkinitrd/setup
diff --git a/modules/KIWIMigrate.pm b/modules/KIWIMigrate.pm
index 9f59db9..5a4a2b2 100644
--- a/modules/KIWIMigrate.pm
+++ b/modules/KIWIMigrate.pm
@@ -852,7 +852,7 @@ sub setSystemOverlayFiles {
 	my $code;
 	my @modified;
 	my @ilist;
-	my $root;
+	my $root = &quot;/&quot;;
 	#==========================================
 	# check for cache file
 	#------------------------------------------
@@ -882,39 +882,33 @@ sub setSystemOverlayFiles {
 	}
 	$kiwi -&gt; done();
 	#==========================================
-	# mount root system
+	# exclude special and non local mounts
 	#------------------------------------------
 	if (! $cache) {
-		$root = qxx (&quot;mktemp -q -d /tmp/kiwimpoint.XXXXXX&quot;);
-		$code = $? &gt;&gt; 8;
-		if ($code != 0) {
-			$kiwi -&gt; error (&quot;Root tmpdir failed: $root: $!&quot;);
-			$kiwi -&gt; failed ();
-			return undef;
-		}
-		chomp $root;
-		$data = qxx (&quot;mount $rdev $root 2&gt;&amp;1&quot;);
-		$code = $? &gt;&gt; 8;
-		if ($code != 0) {
-			$kiwi -&gt; error  (&quot;Failed to mount root system: $data&quot;);
-			$kiwi -&gt; failed ();
-			return undef;
+		my @mounts = qxx (&quot;cat /proc/mounts|cut -f 2,3 -d ' '&quot;); chomp @mounts;
+		foreach my $mount (@mounts) {
+			my @details = split (/\s+/,$mount);
+			my $path = quotemeta ($details[0]);
+			my $type = $details[1];
+			$path .= &quot;\/&quot;;
+			if ($type =~
+				/^(tmpfs|proc|sysfs|debugfs|devpts|fusectl|autofs|nfs|nfsd)$/) {
+				push @deny,$path;
+				$kiwi -&gt; loginfo (&quot;Excluding path: $path per mount table\n&quot;);
+			}
 		}
-		push @{$mounts},$root;
 	}
 	#==========================================
 	# generate File::Find closure
 	#------------------------------------------
 	sub generateWanted {
 		my $filehash = shift;
-		my $mount    = shift;
 		return sub {
 			if (((-l $File::Find::name) &amp;&amp; (-e $File::Find::name)) ||
 				(! -d $File::Find::name))
 			{
-				my $expr = quotemeta $mount;
-				my $file = $File::Find::name; $file =~ s/$expr//;
-				my $dirn = $File::Find::dir;  $dirn =~ s/$expr//;
+				my $file = $File::Find::name;
+				my $dirn = $File::Find::dir;
 				$filehash-&gt;{$file} = $dirn;
 			}
 		}
@@ -926,7 +920,7 @@ sub setSystemOverlayFiles {
 	if ($cache) {
 		%result = %{$cdata-&gt;{result}};
 	} else {
-		my $wref = generateWanted (\%result,$root);
+		my $wref = generateWanted (\%result);
 		find ({ wanted =&gt; $wref }, $root );
 		$cdata-&gt;{result} = \%result;
 	}
diff --git a/rpm/kiwi.changes b/rpm/kiwi.changes
index 53a9d5e..d15887e 100644
--- a/rpm/kiwi.changes
+++ b/rpm/kiwi.changes
@@ -2,7 +2,14 @@
 Mon Feb 15 17:39:37 CET 2010 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">ms at suse.de</A>
 
 - v4.17
+- update documentation
 - fixed xen building with empty or no type=xen packages
+- don't remove libidn it's required for curl based downloads
+- changed migration to use root path directly and don't mount
+  the root device before. As we can't mount it read-only because
+  it's already mounted read-write I decided to prevent the mount
+  at all and exclude any remote mounted location by searching
+  through /proc/mounts
 
 -------------------------------------------------------------------
 Mon Feb 15 16:00:51 CET 2010 - <A HREF="https://lists.berlios.de/mailman/listinfo/kiwi-devel">adrian at suse.de</A>


hooks/post-receive
-- 
Project kiwi at BerliOS

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001907.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. f6c67654aa46d54495d1936f2c822ea03ae414b0
</A></li>
	<LI>Next message: <A HREF="001909.html">[Kiwi-devel] [Git]Project kiwi at BerliOS branch, master,	updated. 8683055e77d31495f3da229e9ac93abea75927c0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1908">[ date ]</a>
              <a href="thread.html#1908">[ thread ]</a>
              <a href="subject.html#1908">[ subject ]</a>
              <a href="author.html#1908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/kiwi-devel">More information about the Kiwi-devel
mailing list</a><br>
</body></html>
